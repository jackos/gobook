var Bs=Object.create;var Ze=Object.defineProperty,Fs=Object.defineProperties,ks=Object.getOwnPropertyDescriptor,xs=Object.getOwnPropertyDescriptors,Ws=Object.getOwnPropertyNames,Et=Object.getOwnPropertySymbols,Hs=Object.getPrototypeOf,yr=Object.prototype.hasOwnProperty,Oo=Object.prototype.propertyIsEnumerable;var wo=(e,t,r)=>t in e?Ze(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,No=(e,t)=>{for(var r in t||(t={}))yr.call(t,r)&&wo(e,r,t[r]);if(Et)for(var r of Et(t))Oo.call(t,r)&&wo(e,r,t[r]);return e},Io=(e,t)=>Fs(e,xs(t)),Mo=e=>Ze(e,"__esModule",{value:!0});var Lo=(e,t)=>{var r={};for(var o in e)yr.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(e!=null&&Et)for(var o of Et(e))t.indexOf(o)<0&&Oo.call(e,o)&&(r[o]=e[o]);return r};var y=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Vs=(e,t)=>{Mo(e);for(var r in t)Ze(e,r,{get:t[r],enumerable:!0})},Gs=(e,t,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Ws(t))!yr.call(e,o)&&o!=="default"&&Ze(e,o,{get:()=>t[o],enumerable:!(r=ks(t,o))||r.enumerable});return e},ye=e=>Gs(Mo(Ze(e!=null?Bs(Hs(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var M=(e,t,r)=>new Promise((o,n)=>{var s=g=>{try{a(r.next(g))}catch(u){n(u)}},i=g=>{try{a(r.throw(g))}catch(u){n(u)}},a=g=>g.done?o(g.value):Promise.resolve(g.value).then(s,i);a((r=r.apply(e,t)).next())});var R=y(L=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0});L.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=L.DEFAULT_MAX_SEND_MESSAGE_LENGTH=L.Propagate=L.LogVerbosity=L.Status=void 0;var qs;(function(e){e[e.OK=0]="OK",e[e.CANCELLED=1]="CANCELLED",e[e.UNKNOWN=2]="UNKNOWN",e[e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",e[e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",e[e.NOT_FOUND=5]="NOT_FOUND",e[e.ALREADY_EXISTS=6]="ALREADY_EXISTS",e[e.PERMISSION_DENIED=7]="PERMISSION_DENIED",e[e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",e[e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",e[e.ABORTED=10]="ABORTED",e[e.OUT_OF_RANGE=11]="OUT_OF_RANGE",e[e.UNIMPLEMENTED=12]="UNIMPLEMENTED",e[e.INTERNAL=13]="INTERNAL",e[e.UNAVAILABLE=14]="UNAVAILABLE",e[e.DATA_LOSS=15]="DATA_LOSS",e[e.UNAUTHENTICATED=16]="UNAUTHENTICATED"})(qs=L.Status||(L.Status={}));var zs;(function(e){e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.ERROR=2]="ERROR",e[e.NONE=3]="NONE"})(zs=L.LogVerbosity||(L.LogVerbosity={}));var Ys;(function(e){e[e.DEADLINE=1]="DEADLINE",e[e.CENSUS_STATS_CONTEXT=2]="CENSUS_STATS_CONTEXT",e[e.CENSUS_TRACING_CONTEXT=4]="CENSUS_TRACING_CONTEXT",e[e.CANCELLATION=8]="CANCELLATION",e[e.DEFAULTS=65535]="DEFAULTS"})(Ys=L.Propagate||(L.Propagate={}));L.DEFAULT_MAX_SEND_MESSAGE_LENGTH=-1;L.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=4*1024*1024});var N=y(B=>{"use strict";var Sr,Er,Tr,br;Object.defineProperty(B,"__esModule",{value:!0});B.trace=B.log=B.setLoggerVerbosity=B.setLogger=B.getLogger=void 0;var Qe=R(),Tt=console,Se=Qe.LogVerbosity.ERROR,Ks=(Er=(Sr=process.env.GRPC_NODE_VERBOSITY)!==null&&Sr!==void 0?Sr:process.env.GRPC_VERBOSITY)!==null&&Er!==void 0?Er:"";switch(Ks.toUpperCase()){case"DEBUG":Se=Qe.LogVerbosity.DEBUG;break;case"INFO":Se=Qe.LogVerbosity.INFO;break;case"ERROR":Se=Qe.LogVerbosity.ERROR;break;case"NONE":Se=Qe.LogVerbosity.NONE;break;default:}B.getLogger=()=>Tt;B.setLogger=e=>{Tt=e};B.setLoggerVerbosity=e=>{Se=e};B.log=(e,...t)=>{e>=Se&&typeof Tt.error=="function"&&Tt.error(...t)};var $s=(br=(Tr=process.env.GRPC_NODE_TRACE)!==null&&Tr!==void 0?Tr:process.env.GRPC_TRACE)!==null&&br!==void 0?br:"",vr=new Set,Do=new Set;for(let e of $s.split(","))e.startsWith("-")?Do.add(e.substring(1)):vr.add(e);var Xs=vr.has("all");function Zs(e,t,r){!Do.has(t)&&(Xs||vr.has(t))&&B.log(e,new Date().toISOString()+" | "+t+" | "+r)}B.trace=Zs});var W=y(At=>{"use strict";Object.defineProperty(At,"__esModule",{value:!0});At.Metadata=void 0;var Qs=N(),Js=R(),ei=/^[0-9a-z_.-]+$/,ti=/^[ -~]*$/;function ri(e){return ei.test(e)}function oi(e){return ti.test(e)}function jo(e){return e.endsWith("-bin")}function ni(e){return!e.startsWith("grpc-")}function bt(e){return e.toLowerCase()}function vt(e,t){if(!ri(e))throw new Error('Metadata key "'+e+'" contains illegal characters');if(t!=null)if(jo(e)){if(!(t instanceof Buffer))throw new Error("keys that end with '-bin' must have Buffer values")}else{if(t instanceof Buffer)throw new Error("keys that don't end with '-bin' must have String values");if(!oi(t))throw new Error('Metadata string value "'+t+'" contains illegal characters')}}var Je=class{constructor(t){this.internalRepr=new Map,t===void 0?this.options={}:this.options=t}set(t,r){t=bt(t),vt(t,r),this.internalRepr.set(t,[r])}add(t,r){t=bt(t),vt(t,r);let o=this.internalRepr.get(t);o===void 0?this.internalRepr.set(t,[r]):o.push(r)}remove(t){t=bt(t),vt(t),this.internalRepr.delete(t)}get(t){return t=bt(t),vt(t),this.internalRepr.get(t)||[]}getMap(){let t={};return this.internalRepr.forEach((r,o)=>{if(r.length>0){let n=r[0];t[o]=n instanceof Buffer?n.slice():n}}),t}clone(){let t=new Je(this.options),r=t.internalRepr;return this.internalRepr.forEach((o,n)=>{let s=o.map(i=>i instanceof Buffer?Buffer.from(i):i);r.set(n,s)}),t}merge(t){t.internalRepr.forEach((r,o)=>{let n=(this.internalRepr.get(o)||[]).concat(r);this.internalRepr.set(o,n)})}setOptions(t){this.options=t}getOptions(){return this.options}toHttp2Headers(){let t={};return this.internalRepr.forEach((r,o)=>{t[o]=r.map(n=>n instanceof Buffer?n.toString("base64"):n)}),t}_getCoreRepresentation(){return this.internalRepr}static fromHttp2Headers(t){let r=new Je;return Object.keys(t).forEach(o=>{if(o.charAt(0)===":")return;let n=t[o];try{jo(o)?Array.isArray(n)?n.forEach(s=>{r.add(o,Buffer.from(s,"base64"))}):n!==void 0&&(ni(o)?n.split(",").forEach(s=>{r.add(o,Buffer.from(s.trim(),"base64"))}):r.add(o,Buffer.from(n,"base64"))):Array.isArray(n)?n.forEach(s=>{r.add(o,s)}):n!==void 0&&r.add(o,n)}catch(s){let i=`Failed to add metadata entry ${o}: ${n}. ${s.message}. For more information see https://github.com/grpc/grpc-node/issues/1173`;Qs.log(Js.LogVerbosity.ERROR,i)}}),r}};At.Metadata=Je});var Cr=y(Ot=>{"use strict";Object.defineProperty(Ot,"__esModule",{value:!0});Ot.CallCredentials=void 0;var Ar=W();function si(e){return"getRequestHeaders"in e&&typeof e.getRequestHeaders=="function"}var pe=class{static createFromMetadataGenerator(t){return new Ct(t)}static createFromGoogleCredential(t){return pe.createFromMetadataGenerator((r,o)=>{let n;si(t)?n=t.getRequestHeaders(r.service_url):n=new Promise((s,i)=>{t.getRequestMetadata(r.service_url,(a,g)=>{if(a){i(a);return}s(g)})}),n.then(s=>{let i=new Ar.Metadata;for(let a of Object.keys(s))i.add(a,s[a]);o(null,i)},s=>{o(s)})})}static createEmpty(){return new Rt}};Ot.CallCredentials=pe;var et=class extends pe{constructor(t){super();this.creds=t}async generateMetadata(t){let r=new Ar.Metadata,o=await Promise.all(this.creds.map(n=>n.generateMetadata(t)));for(let n of o)r.merge(n);return r}compose(t){return new et(this.creds.concat([t]))}_equals(t){return this===t?!0:t instanceof et?this.creds.every((r,o)=>r._equals(t.creds[o])):!1}},Ct=class extends pe{constructor(t){super();this.metadataGenerator=t}generateMetadata(t){return new Promise((r,o)=>{this.metadataGenerator(t,(n,s)=>{s!==void 0?r(s):o(n)})})}compose(t){return new et([this,t])}_equals(t){return this===t?!0:t instanceof Ct?this.metadataGenerator===t.metadataGenerator:!1}},Rt=class extends pe{generateMetadata(t){return Promise.resolve(new Ar.Metadata)}compose(t){return t}_equals(t){return t instanceof Rt}}});var wt=y(Ee=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});Ee.FilterStackFactory=Ee.FilterStack=void 0;var Rr=class{constructor(t){this.filters=t}sendMetadata(t){let r=t;for(let o=0;o<this.filters.length;o++)r=this.filters[o].sendMetadata(r);return r}receiveMetadata(t){let r=t;for(let o=this.filters.length-1;o>=0;o--)r=this.filters[o].receiveMetadata(r);return r}sendMessage(t){let r=t;for(let o=0;o<this.filters.length;o++)r=this.filters[o].sendMessage(r);return r}receiveMessage(t){let r=t;for(let o=this.filters.length-1;o>=0;o--)r=this.filters[o].receiveMessage(r);return r}receiveTrailers(t){let r=t;for(let o=this.filters.length-1;o>=0;o--)r=this.filters[o].receiveTrailers(r);return r}};Ee.FilterStack=Rr;var Po=class{constructor(t){this.factories=t}createFilter(t){return new Rr(this.factories.map(r=>r.createFilter(t)))}};Ee.FilterStackFactory=Po});var Or=y(Nt=>{"use strict";Object.defineProperty(Nt,"__esModule",{value:!0});Nt.StreamDecoder=void 0;var Z;(function(e){e[e.NO_DATA=0]="NO_DATA",e[e.READING_SIZE=1]="READING_SIZE",e[e.READING_MESSAGE=2]="READING_MESSAGE"})(Z||(Z={}));var Uo=class{constructor(){this.readState=Z.NO_DATA,this.readCompressFlag=Buffer.alloc(1),this.readPartialSize=Buffer.alloc(4),this.readSizeRemaining=4,this.readMessageSize=0,this.readPartialMessage=[],this.readMessageRemaining=0}write(t){let r=0,o,n=[];for(;r<t.length;)switch(this.readState){case Z.NO_DATA:this.readCompressFlag=t.slice(r,r+1),r+=1,this.readState=Z.READING_SIZE,this.readPartialSize.fill(0),this.readSizeRemaining=4,this.readMessageSize=0,this.readMessageRemaining=0,this.readPartialMessage=[];break;case Z.READING_SIZE:if(o=Math.min(t.length-r,this.readSizeRemaining),t.copy(this.readPartialSize,4-this.readSizeRemaining,r,r+o),this.readSizeRemaining-=o,r+=o,this.readSizeRemaining===0)if(this.readMessageSize=this.readPartialSize.readUInt32BE(0),this.readMessageRemaining=this.readMessageSize,this.readMessageRemaining>0)this.readState=Z.READING_MESSAGE;else{let s=Buffer.concat([this.readCompressFlag,this.readPartialSize],5);this.readState=Z.NO_DATA,n.push(s)}break;case Z.READING_MESSAGE:if(o=Math.min(t.length-r,this.readMessageRemaining),this.readPartialMessage.push(t.slice(r,r+o)),this.readMessageRemaining-=o,r+=o,this.readMessageRemaining===0){let s=[this.readCompressFlag,this.readPartialSize].concat(this.readPartialMessage),i=Buffer.concat(s,this.readMessageSize+5);this.readState=Z.NO_DATA,n.push(i)}break;default:throw new Error("Unexpected read state")}return n}};Nt.StreamDecoder=Uo});var wr=y(se=>{"use strict";Object.defineProperty(se,"__esModule",{value:!0});se.Http2CallStream=se.InterceptingListenerImpl=se.isInterceptingListener=void 0;var Q=require("http2"),ii=require("os"),A=R(),ai=wt(),ne=W(),gi=Or(),li=N(),ui=R(),ci="call_stream",{HTTP2_HEADER_STATUS:ru,HTTP2_HEADER_CONTENT_TYPE:ou,NGHTTP2_CANCEL:pi}=Q.constants;function di(e){for(let[t,r]of Object.entries(ii.constants.errno))if(r===e)return t;return"Unknown system error "+e}function hi(e){return e.onReceiveMetadata!==void 0&&e.onReceiveMetadata.length===1}se.isInterceptingListener=hi;var Bo=class{constructor(t,r){this.listener=t,this.nextListener=r,this.processingMessage=!1,this.pendingStatus=null}onReceiveMetadata(t){this.listener.onReceiveMetadata(t,r=>{this.nextListener.onReceiveMetadata(r)})}onReceiveMessage(t){this.processingMessage=!0,this.listener.onReceiveMessage(t,r=>{this.processingMessage=!1,this.nextListener.onReceiveMessage(r),this.pendingStatus&&this.nextListener.onReceiveStatus(this.pendingStatus)})}onReceiveStatus(t){this.listener.onReceiveStatus(t,r=>{this.processingMessage?this.pendingStatus=r:this.nextListener.onReceiveStatus(r)})}};se.InterceptingListenerImpl=Bo;var Fo=class{constructor(t,r,o,n,s,i){this.methodName=t,this.channel=r,this.options=o,this.channelCallCredentials=s,this.callNumber=i,this.http2Stream=null,this.pendingRead=!1,this.isWriteFilterPending=!1,this.pendingWrite=null,this.pendingWriteCallback=null,this.writesClosed=!1,this.decoder=new gi.StreamDecoder,this.isReadFilterPending=!1,this.canPush=!1,this.readsClosed=!1,this.statusOutput=!1,this.unpushedReadMessages=[],this.unfilteredReadMessages=[],this.mappedStatusCode=A.Status.UNKNOWN,this.finalStatus=null,this.subchannel=null,this.listener=null,this.internalError=null,this.filterStack=n.createFilter(this),this.credentials=s,this.disconnectListener=()=>{this.endCall({code:A.Status.UNAVAILABLE,details:"Connection dropped",metadata:new ne.Metadata})},this.options.parentCall&&this.options.flags&A.Propagate.CANCELLATION&&this.options.parentCall.on("cancelled",()=>{this.cancelWithStatus(A.Status.CANCELLED,"Cancelled by parent call")})}outputStatus(){if(!this.statusOutput){this.statusOutput=!0;let t=this.filterStack.receiveTrailers(this.finalStatus);process.nextTick(()=>{var r;(r=this.listener)===null||r===void 0||r.onReceiveStatus(t)}),this.subchannel&&(this.subchannel.callUnref(),this.subchannel.removeDisconnectListener(this.disconnectListener))}}trace(t){li.trace(ui.LogVerbosity.DEBUG,ci,"["+this.callNumber+"] "+t)}endCall(t){(this.finalStatus===null||this.finalStatus.code===A.Status.OK)&&(this.trace("ended with status: code="+t.code+' details="'+t.details+'"'),this.finalStatus=t,this.maybeOutputStatus()),this.destroyHttp2Stream()}maybeOutputStatus(){this.finalStatus!==null&&(this.finalStatus.code!==A.Status.OK||this.readsClosed&&this.unpushedReadMessages.length===0&&this.unfilteredReadMessages.length===0&&!this.isReadFilterPending)&&this.outputStatus()}push(t){this.trace("pushing to reader message of length "+(t instanceof Buffer?t.length:null)),this.canPush=!1,process.nextTick(()=>{var r;this.statusOutput||((r=this.listener)===null||r===void 0||r.onReceiveMessage(t),this.maybeOutputStatus())})}handleFilterError(t){this.cancelWithStatus(A.Status.INTERNAL,t.message)}handleFilteredRead(t){if(this.finalStatus!==null&&this.finalStatus.code!==A.Status.OK){this.maybeOutputStatus();return}if(this.isReadFilterPending=!1,this.canPush?(this.http2Stream.pause(),this.push(t)):(this.trace("unpushedReadMessages.push message of length "+t.length),this.unpushedReadMessages.push(t)),this.unfilteredReadMessages.length>0){let r=this.unfilteredReadMessages.shift();this.filterReceivedMessage(r)}}filterReceivedMessage(t){if(this.finalStatus!==null&&this.finalStatus.code!==A.Status.OK){this.maybeOutputStatus();return}this.trace("filterReceivedMessage of length "+t.length),this.isReadFilterPending=!0,this.filterStack.receiveMessage(Promise.resolve(t)).then(this.handleFilteredRead.bind(this),this.handleFilterError.bind(this))}tryPush(t){this.isReadFilterPending?(this.trace("unfilteredReadMessages.push message of length "+(t&&t.length)),this.unfilteredReadMessages.push(t)):this.filterReceivedMessage(t)}handleTrailers(t){let r="";for(let g of Object.keys(t))r+="		"+g+": "+t[g]+`
`;this.trace(`Received server trailers:
`+r);let o;try{o=ne.Metadata.fromHttp2Headers(t)}catch(g){o=new ne.Metadata}let n=o.getMap(),s=this.mappedStatusCode;if(s===A.Status.UNKNOWN&&typeof n["grpc-status"]=="string"){let g=Number(n["grpc-status"]);g in A.Status&&(s=g,this.trace("received status code "+g+" from server")),o.remove("grpc-status")}let i="";typeof n["grpc-message"]=="string"&&(i=decodeURI(n["grpc-message"]),o.remove("grpc-message"),this.trace('received status details string "'+i+'" from server'));let a={code:s,details:i,metadata:o};this.endCall(a)}attachHttp2Stream(t,r,o){if(o!==void 0&&(this.filterStack=new ai.FilterStack([this.filterStack,o.createFilter(this)])),this.finalStatus!==null)t.close(pi);else{if(this.trace("attachHttp2Stream from subchannel "+r.getAddress()),this.http2Stream=t,this.subchannel=r,r.addDisconnectListener(this.disconnectListener),r.callRef(),t.on("response",(n,s)=>{var i;let a="";for(let g of Object.keys(n))a+="		"+g+": "+n[g]+`
`;switch(this.trace(`Received server headers:
`+a),n[":status"]){case 400:this.mappedStatusCode=A.Status.INTERNAL;break;case 401:this.mappedStatusCode=A.Status.UNAUTHENTICATED;break;case 403:this.mappedStatusCode=A.Status.PERMISSION_DENIED;break;case 404:this.mappedStatusCode=A.Status.UNIMPLEMENTED;break;case 429:case 502:case 503:case 504:this.mappedStatusCode=A.Status.UNAVAILABLE;break;default:this.mappedStatusCode=A.Status.UNKNOWN}if(s&Q.constants.NGHTTP2_FLAG_END_STREAM)this.handleTrailers(n);else{let g;try{g=ne.Metadata.fromHttp2Headers(n)}catch(u){this.endCall({code:A.Status.UNKNOWN,details:u.message,metadata:new ne.Metadata});return}try{let u=this.filterStack.receiveMetadata(g);(i=this.listener)===null||i===void 0||i.onReceiveMetadata(u)}catch(u){this.endCall({code:A.Status.UNKNOWN,details:u.message,metadata:new ne.Metadata})}}}),t.on("trailers",this.handleTrailers.bind(this)),t.on("data",n=>{this.trace("receive HTTP/2 data frame of length "+n.length);let s=this.decoder.write(n);for(let i of s)this.trace("parsed message of length "+i.length),this.tryPush(i)}),t.on("end",()=>{this.readsClosed=!0,this.maybeOutputStatus()}),t.on("close",()=>{process.nextTick(()=>{var n;if(this.trace("HTTP/2 stream closed with code "+t.rstCode),((n=this.finalStatus)===null||n===void 0?void 0:n.code)===A.Status.OK)return;let s,i="";switch(t.rstCode){case Q.constants.NGHTTP2_NO_ERROR:if(this.finalStatus!==null)return;s=A.Status.INTERNAL,i=`Received RST_STREAM with code ${t.rstCode}`;break;case Q.constants.NGHTTP2_REFUSED_STREAM:s=A.Status.UNAVAILABLE,i="Stream refused by server";break;case Q.constants.NGHTTP2_CANCEL:s=A.Status.CANCELLED,i="Call cancelled";break;case Q.constants.NGHTTP2_ENHANCE_YOUR_CALM:s=A.Status.RESOURCE_EXHAUSTED,i="Bandwidth exhausted";break;case Q.constants.NGHTTP2_INADEQUATE_SECURITY:s=A.Status.PERMISSION_DENIED,i="Protocol not secure enough";break;case Q.constants.NGHTTP2_INTERNAL_ERROR:s=A.Status.INTERNAL,this.internalError===null?i=`Received RST_STREAM with code ${t.rstCode} (Internal server error)`:this.internalError.code==="ECONNRESET"?(s=A.Status.UNAVAILABLE,i=this.internalError.message):i=`Received RST_STREAM with code ${t.rstCode} triggered by internal client error: ${this.internalError.message}`;break;default:s=A.Status.INTERNAL,i=`Received RST_STREAM with code ${t.rstCode}`}this.endCall({code:s,details:i,metadata:new ne.Metadata})})}),t.on("error",n=>{n.code!=="ERR_HTTP2_STREAM_ERROR"&&(this.trace("Node error event: message="+n.message+" code="+n.code+" errno="+di(n.errno)+" syscall="+n.syscall),this.internalError=n)}),this.pendingRead||t.pause(),this.pendingWrite){if(!this.pendingWriteCallback)throw new Error("Invalid state in write handling code");this.trace("sending data chunk of length "+this.pendingWrite.length+" (deferred)"),t.write(this.pendingWrite,this.pendingWriteCallback)}this.maybeCloseWrites()}}start(t,r){this.trace("Sending metadata"),this.listener=r,this.channel._startCallStream(this,t)}destroyHttp2Stream(){var t;if(this.http2Stream!==null&&!this.http2Stream.destroyed){let r;((t=this.finalStatus)===null||t===void 0?void 0:t.code)===A.Status.OK?r=Q.constants.NGHTTP2_NO_ERROR:r=Q.constants.NGHTTP2_CANCEL,this.trace("close http2 stream with code "+r),this.http2Stream.close(r)}}cancelWithStatus(t,r){this.trace("cancelWithStatus code: "+t+' details: "'+r+'"'),this.endCall({code:t,details:r,metadata:new ne.Metadata})}getDeadline(){if(this.options.parentCall&&this.options.flags&A.Propagate.DEADLINE){let t=this.options.parentCall.getDeadline(),r=this.options.deadline,o=t instanceof Date?t.getTime():t,n=r instanceof Date?r.getTime():r;return Math.min(o,n)}else return this.options.deadline}getCredentials(){return this.credentials}setCredentials(t){this.credentials=this.channelCallCredentials.compose(t)}getStatus(){return this.finalStatus}getPeer(){var t,r;return(r=(t=this.subchannel)===null||t===void 0?void 0:t.getAddress())!==null&&r!==void 0?r:this.channel.getTarget()}getMethod(){return this.methodName}getHost(){return this.options.host}startRead(){if(this.finalStatus!==null&&this.finalStatus.code!==A.Status.OK){this.readsClosed=!0,this.maybeOutputStatus();return}if(this.canPush=!0,this.http2Stream===null)this.pendingRead=!0;else{if(this.unpushedReadMessages.length>0){let t=this.unpushedReadMessages.shift();this.push(t);return}this.http2Stream.resume()}}maybeCloseWrites(){this.writesClosed&&!this.isWriteFilterPending&&this.http2Stream!==null&&(this.trace("calling end() on HTTP/2 stream"),this.http2Stream.end())}sendMessageWithContext(t,r){var o;this.trace("write() called with message of length "+r.length);let n={message:r,flags:t.flags},s=(o=t.callback)!==null&&o!==void 0?o:()=>{};this.isWriteFilterPending=!0,this.filterStack.sendMessage(Promise.resolve(n)).then(i=>{this.isWriteFilterPending=!1,this.http2Stream===null?(this.trace("deferring writing data chunk of length "+i.message.length),this.pendingWrite=i.message,this.pendingWriteCallback=s):(this.trace("sending data chunk of length "+i.message.length),this.http2Stream.write(i.message,s),this.maybeCloseWrites())},this.handleFilterError.bind(this))}halfClose(){this.trace("end() called"),this.writesClosed=!0,this.maybeCloseWrites()}};se.Http2CallStream=Fo});var Ir=y(Te=>{"use strict";Object.defineProperty(Te,"__esModule",{value:!0});Te.getDefaultRootsData=Te.CIPHER_SUITES=void 0;var fi=require("fs");Te.CIPHER_SUITES=process.env.GRPC_SSL_CIPHER_SUITES;var ko=process.env.GRPC_DEFAULT_SSL_ROOTS_FILE_PATH,Nr=null;function mi(){return ko?(Nr===null&&(Nr=fi.readFileSync(ko)),Nr):null}Te.getDefaultRootsData=mi});var Dr=y(Lt=>{"use strict";Object.defineProperty(Lt,"__esModule",{value:!0});Lt.ChannelCredentials=void 0;var _i=require("tls"),yi=Cr(),xo=Ir();function Mr(e,t){if(e&&!(e instanceof Buffer))throw new TypeError(`${t}, if provided, must be a Buffer.`)}function Lr(e,t){return e===null&&t===null?!0:e!==null&&t!==null&&e.equals(t)}var tt=class{constructor(t){this.callCredentials=t||yi.CallCredentials.createEmpty()}_getCallCredentials(){return this.callCredentials}static createSsl(t,r,o,n){if(Mr(t,"Root certificate"),Mr(r,"Private key"),Mr(o,"Certificate chain"),r&&!o)throw new Error("Private key must be given with accompanying certificate chain");if(!r&&o)throw new Error("Certificate chain must be given with accompanying private key");return new Mt(t||xo.getDefaultRootsData(),r||null,o||null,n||{})}static createInsecure(){return new It}};Lt.ChannelCredentials=tt;var It=class extends tt{constructor(t){super(t)}compose(t){throw new Error("Cannot compose insecure credentials")}_getConnectionOptions(){return null}_isSecure(){return!1}_equals(t){return t instanceof It}},Mt=class extends tt{constructor(t,r,o,n){super();this.rootCerts=t,this.privateKey=r,this.certChain=o,this.verifyOptions=n;let s=_i.createSecureContext({ca:t||void 0,key:r||void 0,cert:o||void 0,ciphers:xo.CIPHER_SUITES});this.connectionOptions={secureContext:s},n&&n.checkServerIdentity&&(this.connectionOptions.checkServerIdentity=(i,a)=>n.checkServerIdentity(i,{raw:a.raw}))}compose(t){let r=this.callCredentials.compose(t);return new rt(this,r)}_getConnectionOptions(){return Object.assign({},this.connectionOptions)}_isSecure(){return!0}_equals(t){return this===t?!0:t instanceof Mt?!Lr(this.rootCerts,t.rootCerts)||!Lr(this.privateKey,t.privateKey)||!Lr(this.certChain,t.certChain)?!1:this.verifyOptions.checkServerIdentity===t.verifyOptions.checkServerIdentity:!1}},rt=class extends tt{constructor(t,r){super(r);this.channelCredentials=t}compose(t){let r=this.callCredentials.compose(t);return new rt(this.channelCredentials,r)}_getConnectionOptions(){return this.channelCredentials._getConnectionOptions()}_isSecure(){return!0}_equals(t){return this===t?!0:t instanceof rt?this.channelCredentials._equals(t.channelCredentials)&&this.callCredentials._equals(t.callCredentials):!1}}});var be=y(re=>{"use strict";Object.defineProperty(re,"__esModule",{value:!0});re.QueuePicker=re.UnavailablePicker=re.PickResultType=void 0;var Si=W(),Ei=R(),jr;(function(e){e[e.COMPLETE=0]="COMPLETE",e[e.QUEUE=1]="QUEUE",e[e.TRANSIENT_FAILURE=2]="TRANSIENT_FAILURE",e[e.DROP=3]="DROP"})(jr=re.PickResultType||(re.PickResultType={}));var Wo=class{constructor(t){t!==void 0?this.status=t:this.status={code:Ei.Status.UNAVAILABLE,details:"No connection established",metadata:new Si.Metadata}}pick(t){return{pickResultType:jr.TRANSIENT_FAILURE,subchannel:null,status:this.status,extraFilterFactory:null,onCallStarted:null}}};re.UnavailablePicker=Wo;var Ho=class{constructor(t){this.loadBalancer=t,this.calledExitIdle=!1}pick(t){return this.calledExitIdle||(process.nextTick(()=>{this.loadBalancer.exitIdle()}),this.calledExitIdle=!0),{pickResultType:jr.QUEUE,subchannel:null,status:null,extraFilterFactory:null,onCallStarted:null}}};re.QueuePicker=Ho});var jt=y(Dt=>{"use strict";Object.defineProperty(Dt,"__esModule",{value:!0});Dt.BackoffTimeout=void 0;var Ti=1e3,bi=1.6,vi=12e4,Ai=.2;function Ci(e,t){return Math.random()*(t-e)+e}var Vo=class{constructor(t,r){this.callback=t,this.initialDelay=Ti,this.multiplier=bi,this.maxDelay=vi,this.jitter=Ai,this.running=!1,this.hasRef=!0,r&&(r.initialDelay&&(this.initialDelay=r.initialDelay),r.multiplier&&(this.multiplier=r.multiplier),r.jitter&&(this.jitter=r.jitter),r.maxDelay&&(this.maxDelay=r.maxDelay)),this.nextDelay=this.initialDelay,this.timerId=setTimeout(()=>{},0),clearTimeout(this.timerId)}runOnce(){var t,r;this.running=!0,this.timerId=setTimeout(()=>{this.callback(),this.running=!1},this.nextDelay),this.hasRef||(r=(t=this.timerId).unref)===null||r===void 0||r.call(t);let o=Math.min(this.nextDelay*this.multiplier,this.maxDelay),n=o*this.jitter;this.nextDelay=o+Ci(-n,n)}stop(){clearTimeout(this.timerId),this.running=!1}reset(){this.nextDelay=this.initialDelay}isRunning(){return this.running}ref(){var t,r;this.hasRef=!0,(r=(t=this.timerId).ref)===null||r===void 0||r.call(t)}unref(){var t,r;this.hasRef=!1,(r=(t=this.timerId).unref)===null||r===void 0||r.call(t)}};Dt.BackoffTimeout=Vo});var Pr=y(ve=>{"use strict";Object.defineProperty(ve,"__esModule",{value:!0});ve.extractAndSelectServiceConfig=ve.validateServiceConfig=void 0;var Ri=require("os"),Oi=ie(),wi=/^\d+(\.\d{1,9})?s$/,Ni="node";function Ii(e){if(!("service"in e)||typeof e.service!="string")throw new Error("Invalid method config name: invalid service");let t={service:e.service};if("method"in e)if(typeof e.method=="string")t.method=e.method;else throw new Error("Invalid method config name: invalid method");return t}function Mi(e){let t={name:[]};if(!("name"in e)||!Array.isArray(e.name))throw new Error("Invalid method config: invalid name array");for(let r of e.name)t.name.push(Ii(r));if("waitForReady"in e){if(typeof e.waitForReady!="boolean")throw new Error("Invalid method config: invalid waitForReady");t.waitForReady=e.waitForReady}if("timeout"in e){if(typeof e.timeout!="string"||!wi.test(e.timeout))throw new Error("Invalid method config: invalid timeout");t.timeout=e.timeout}if("maxRequestBytes"in e){if(typeof e.maxRequestBytes!="number")throw new Error("Invalid method config: invalid maxRequestBytes");t.maxRequestBytes=e.maxRequestBytes}if("maxResponseBytes"in e){if(typeof e.maxResponseBytes!="number")throw new Error("Invalid method config: invalid maxRequestBytes");t.maxResponseBytes=e.maxResponseBytes}return t}function Go(e){let t={loadBalancingConfig:[],methodConfig:[]};if("loadBalancingPolicy"in e)if(typeof e.loadBalancingPolicy=="string")t.loadBalancingPolicy=e.loadBalancingPolicy;else throw new Error("Invalid service config: invalid loadBalancingPolicy");if("loadBalancingConfig"in e)if(Array.isArray(e.loadBalancingConfig))for(let o of e.loadBalancingConfig)t.loadBalancingConfig.push(Oi.validateLoadBalancingConfig(o));else throw new Error("Invalid service config: invalid loadBalancingConfig");if("methodConfig"in e&&Array.isArray(e.methodConfig))for(let o of e.methodConfig)t.methodConfig.push(Mi(o));let r=[];for(let o of t.methodConfig)for(let n of o.name){for(let s of r)if(n.service===s.service&&n.method===s.method)throw new Error(`Invalid service config: duplicate name ${n.service}/${n.method}`);r.push(n)}return t}ve.validateServiceConfig=Go;function Li(e){if(!("serviceConfig"in e))throw new Error("Invalid service config choice: missing service config");let t={serviceConfig:Go(e.serviceConfig)};if("clientLanguage"in e)if(Array.isArray(e.clientLanguage)){t.clientLanguage=[];for(let o of e.clientLanguage)if(typeof o=="string")t.clientLanguage.push(o);else throw new Error("Invalid service config choice: invalid clientLanguage")}else throw new Error("Invalid service config choice: invalid clientLanguage");if("clientHostname"in e)if(Array.isArray(e.clientHostname)){t.clientHostname=[];for(let o of e.clientHostname)if(typeof o=="string")t.clientHostname.push(o);else throw new Error("Invalid service config choice: invalid clientHostname")}else throw new Error("Invalid service config choice: invalid clientHostname");if("percentage"in e)if(typeof e.percentage=="number"&&0<=e.percentage&&e.percentage<=100)t.percentage=e.percentage;else throw new Error("Invalid service config choice: invalid percentage");let r=["clientLanguage","percentage","clientHostname","serviceConfig"];for(let o in e)if(!r.includes(o))throw new Error(`Invalid service config choice: unexpected field ${o}`);return t}function Di(e,t){if(!Array.isArray(e))throw new Error("Invalid service config list");for(let r of e){let o=Li(r);if(!(typeof o.percentage=="number"&&t>o.percentage)){if(Array.isArray(o.clientHostname)){let n=!1;for(let s of o.clientHostname)s===Ri.hostname()&&(n=!0);if(!n)continue}if(Array.isArray(o.clientLanguage)){let n=!1;for(let s of o.clientLanguage)s===Ni&&(n=!0);if(!n)continue}return o.serviceConfig}}throw new Error("No matching service config found")}function ji(e,t){for(let r of e)if(r.length>0&&r[0].startsWith("grpc_config=")){let o=r.join("").substring("grpc_config=".length),n=JSON.parse(o);return Di(n,t)}return null}ve.extractAndSelectServiceConfig=ji});var H=y(ae=>{"use strict";Object.defineProperty(ae,"__esModule",{value:!0});ae.uriToString=ae.splitHostPort=ae.parseUri=void 0;var Pi=/^(?:([A-Za-z0-9+.-]+):)?(?:\/\/([^/]*)\/)?(.+)$/;function Ui(e){let t=Pi.exec(e);return t===null?null:{scheme:t[1],authority:t[2],path:t[3]}}ae.parseUri=Ui;var qo=/^\d+$/;function Bi(e){if(e.startsWith("[")){let t=e.indexOf("]");if(t===-1)return null;let r=e.substring(1,t);if(r.indexOf(":")===-1)return null;if(e.length>t+1)if(e[t+1]===":"){let o=e.substring(t+2);return qo.test(o)?{host:r,port:+o}:null}else return null;else return{host:r}}else{let t=e.split(":");return t.length===2?qo.test(t[1])?{host:t[0],port:+t[1]}:null:{host:e}}}ae.splitHostPort=Bi;function Fi(e){let t="";return e.scheme!==void 0&&(t+=e.scheme+":"),e.authority!==void 0&&(t+="//"+e.authority+"/"),t+=e.path,t}ae.uriToString=Fi});var Qo=y(Pt=>{"use strict";Object.defineProperty(Pt,"__esModule",{value:!0});Pt.setup=void 0;var zo=Y(),Yo=require("dns"),Ko=require("util"),ki=Pr(),Ur=R(),Br=W(),xi=N(),Wi=R(),ge=H(),$o=require("net"),Hi="dns_resolver";function ot(e){xi.trace(Wi.LogVerbosity.DEBUG,Hi,e)}var Xo=443,Vi=Ko.promisify(Yo.resolveTxt),Gi=Ko.promisify(Yo.lookup);function qi(...e){let t=[];for(let r=0;r<Math.max.apply(null,e.map(o=>o.length));r++)for(let o of e)r<o.length&&t.push(o[r]);return t}var Zo=class{constructor(t,r,o){var n,s;this.target=t,this.listener=r,this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfig=null,this.latestServiceConfigError=null,ot("Resolver constructed for target "+ge.uriToString(t));let i=ge.splitHostPort(t.path);i===null?(this.ipResult=null,this.dnsHostname=null,this.port=null):$o.isIPv4(i.host)||$o.isIPv6(i.host)?(this.ipResult=[{host:i.host,port:(n=i.port)!==null&&n!==void 0?n:Xo}],this.dnsHostname=null,this.port=null):(this.ipResult=null,this.dnsHostname=i.host,this.port=(s=i.port)!==null&&s!==void 0?s:Xo),this.percentage=Math.random()*100,this.defaultResolutionError={code:Ur.Status.UNAVAILABLE,details:`Name resolution failed for target ${ge.uriToString(this.target)}`,metadata:new Br.Metadata}}startResolution(){if(this.ipResult!==null){ot("Returning IP address for target "+ge.uriToString(this.target)),setImmediate(()=>{this.listener.onSuccessfulResolution(this.ipResult,null,null,null,{})});return}if(this.dnsHostname===null)setImmediate(()=>{this.listener.onError({code:Ur.Status.UNAVAILABLE,details:`Failed to parse DNS address ${ge.uriToString(this.target)}`,metadata:new Br.Metadata})});else{this.latestLookupResult=null;let t=this.dnsHostname;this.pendingLookupPromise=Gi(t,{all:!0}),this.pendingLookupPromise.then(r=>{this.pendingLookupPromise=null;let o=r.filter(i=>i.family===4),n=r.filter(i=>i.family===6);this.latestLookupResult=qi(n,o).map(i=>({host:i.address,port:+this.port}));let s="["+this.latestLookupResult.map(i=>i.host+":"+i.port).join(",")+"]";if(ot("Resolved addresses for target "+ge.uriToString(this.target)+": "+s),this.latestLookupResult.length===0){this.listener.onError(this.defaultResolutionError);return}this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{})},r=>{ot("Resolution error for target "+ge.uriToString(this.target)+": "+r.message),this.pendingLookupPromise=null,this.listener.onError(this.defaultResolutionError)}),this.pendingTxtPromise===null&&(this.pendingTxtPromise=Vi(t),this.pendingTxtPromise.then(r=>{this.pendingTxtPromise=null;try{this.latestServiceConfig=ki.extractAndSelectServiceConfig(r,this.percentage)}catch(o){this.latestServiceConfigError={code:Ur.Status.UNAVAILABLE,details:"Parsing service config failed",metadata:new Br.Metadata}}this.latestLookupResult!==null&&this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{})},r=>{}))}}updateResolution(){ot("Resolution update requested for target "+ge.uriToString(this.target)),this.pendingLookupPromise===null&&this.startResolution()}destroy(){}static getDefaultAuthority(t){return t.path}};function zi(){zo.registerResolver("dns",Zo),zo.registerDefaultScheme("dns")}Pt.setup=zi});var en=y(Ut=>{"use strict";Object.defineProperty(Ut,"__esModule",{value:!0});Ut.setup=void 0;var Yi=Y(),Jo=class{constructor(t,r,o){this.listener=r,this.addresses=[];let n;t.authority===""?n="/"+t.path:n=t.path,this.addresses=[{path:n}]}updateResolution(){process.nextTick(this.listener.onSuccessfulResolution,this.addresses,null,null,null,{})}destroy(){}static getDefaultAuthority(t){return"localhost"}};function Ki(){Yi.registerResolver("unix",Jo)}Ut.setup=Ki});var sn=y(Ft=>{"use strict";Object.defineProperty(Ft,"__esModule",{value:!0});Ft.setup=void 0;var tn=require("net"),Bt=R(),Fr=W(),rn=Y(),on=H(),$i=N(),Xi="ip_resolver";function nn(e){$i.trace(Bt.LogVerbosity.DEBUG,Xi,e)}var kr="ipv4",xr="ipv6",Zi=443,Wr=class{constructor(t,r,o){var n;this.target=t,this.listener=r,this.addresses=[],this.error=null,nn("Resolver constructed for target "+on.uriToString(t));let s=[];if(!(t.scheme===kr||t.scheme===xr)){this.error={code:Bt.Status.UNAVAILABLE,details:`Unrecognized scheme ${t.scheme} in IP resolver`,metadata:new Fr.Metadata};return}let i=t.path.split(",");for(let a of i){let g=on.splitHostPort(a);if(g===null){this.error={code:Bt.Status.UNAVAILABLE,details:`Failed to parse ${t.scheme} address ${a}`,metadata:new Fr.Metadata};return}if(t.scheme===kr&&!tn.isIPv4(g.host)||t.scheme===xr&&!tn.isIPv6(g.host)){this.error={code:Bt.Status.UNAVAILABLE,details:`Failed to parse ${t.scheme} address ${a}`,metadata:new Fr.Metadata};return}s.push({host:g.host,port:(n=g.port)!==null&&n!==void 0?n:Zi})}this.addresses=s,nn("Parsed "+t.scheme+" address list "+this.addresses)}updateResolution(){process.nextTick(()=>{this.error?this.listener.onError(this.error):this.listener.onSuccessfulResolution(this.addresses,null,null,null,{})})}destroy(){}static getDefaultAuthority(t){return t.path.split(",")[0]}};function Qi(){rn.registerResolver(kr,Wr),rn.registerResolver(xr,Wr)}Ft.setup=Qi});var Y=y(P=>{"use strict";Object.defineProperty(P,"__esModule",{value:!0});P.registerAll=P.mapUriDefaultScheme=P.getDefaultAuthority=P.createResolver=P.registerDefaultScheme=P.registerResolver=void 0;var Ji=Qo(),ea=en(),ta=sn(),Hr=H(),Ae={},Vr=null;function ra(e,t){Ae[e]=t}P.registerResolver=ra;function oa(e){Vr=e}P.registerDefaultScheme=oa;function na(e,t,r){if(e.scheme!==void 0&&e.scheme in Ae)return new Ae[e.scheme](e,t,r);throw new Error(`No resolver could be created for target ${Hr.uriToString(e)}`)}P.createResolver=na;function sa(e){if(e.scheme!==void 0&&e.scheme in Ae)return Ae[e.scheme].getDefaultAuthority(e);throw new Error(`Invalid target ${Hr.uriToString(e)}`)}P.getDefaultAuthority=sa;function ia(e){return e.scheme===void 0||!(e.scheme in Ae)?Vr!==null?{scheme:Vr,authority:void 0,path:Hr.uriToString(e)}:null:e}P.mapUriDefaultScheme=ia;function aa(){Ji.setup(),ea.setup(),ta.setup()}P.registerAll=aa});var Gr=y(Oe=>{"use strict";Object.defineProperty(Oe,"__esModule",{value:!0});Oe.getProxiedConnection=Oe.mapProxyName=void 0;var nt=N(),Ce=R(),ga=Y(),la=require("http"),ua=require("tls"),ca=N(),an=de(),st=H(),pa=require("url"),da="proxy";function Re(e){ca.trace(Ce.LogVerbosity.DEBUG,da,e)}function ha(){let e="",t="";if(process.env.grpc_proxy)t="grpc_proxy",e=process.env.grpc_proxy;else if(process.env.https_proxy)t="https_proxy",e=process.env.https_proxy;else if(process.env.http_proxy)t="http_proxy",e=process.env.http_proxy;else return{};let r;try{r=new pa.URL(e)}catch(a){return nt.log(Ce.LogVerbosity.ERROR,`cannot parse value of "${t}" env var`),{}}if(r.protocol!=="http:")return nt.log(Ce.LogVerbosity.ERROR,`"${r.protocol}" scheme not supported in proxy URI`),{};let o=null;r.username&&(r.password?(nt.log(Ce.LogVerbosity.INFO,"userinfo found in proxy URI"),o=`${r.username}:${r.password}`):o=r.username);let n=r.hostname,s=r.port;s===""&&(s="80");let i={address:`${n}:${s}`};return o&&(i.creds=o),Re("Proxy server "+i.address+" set by environment variable "+t),i}function fa(){let e=process.env.no_grpc_proxy,t="no_grpc_proxy";return e||(e=process.env.no_proxy,t="no_proxy"),e?(Re("No proxy server list set by environment variable "+t),e.split(",")):[]}function ma(e,t){var r;let o={target:e,extraOptions:{}};if(((r=t["grpc.enable_http_proxy"])!==null&&r!==void 0?r:1)===0)return o;let n=ha();if(!n.address)return o;let s=st.splitHostPort(e.path);if(!s)return o;let i=s.host;for(let g of fa())if(g===i)return Re("Not using proxy for target in no_proxy list: "+st.uriToString(e)),o;let a={"grpc.http_connect_target":st.uriToString(e)};return n.creds&&(a["grpc.http_connect_creds"]=n.creds),{target:{scheme:"dns",path:n.address},extraOptions:a}}Oe.mapProxyName=ma;function _a(e,t,r){if(!("grpc.http_connect_target"in t))return Promise.resolve({});let o=t["grpc.http_connect_target"],n=st.parseUri(o);if(n===null)return Promise.resolve({});let s={method:"CONNECT",path:n.path};an.isTcpSubchannelAddress(e)?(s.host=e.host,s.port=e.port):s.socketPath=e.path,"grpc.http_connect_creds"in t&&(s.headers={"Proxy-Authorization":"Basic "+Buffer.from(t["grpc.http_connect_creds"]).toString("base64")});let i=an.subchannelAddressToString(e);return Re("Using proxy "+i+" to connect to "+s.path),new Promise((a,g)=>{let u=la.request(s);u.once("connect",(d,p,c)=>{var h;if(u.removeAllListeners(),p.removeAllListeners(),d.statusCode===200)if(Re("Successfully connected to "+s.path+" through proxy "+i),"secureContext"in r){let f=ga.getDefaultAuthority(n),m=st.splitHostPort(f),T=(h=m==null?void 0:m.host)!==null&&h!==void 0?h:f,v=ua.connect(Object.assign({host:T,servername:T,socket:p},r),()=>{Re("Successfully established a TLS connection to "+s.path+" through proxy "+i),a({socket:v,realTarget:n})});v.on("error",()=>{g()})}else a({socket:p,realTarget:n});else nt.log(Ce.LogVerbosity.ERROR,"Failed to connect to "+s.path+" through proxy "+i+" with status "+d.statusCode),g()}),u.once("error",d=>{u.removeAllListeners(),nt.log(Ce.LogVerbosity.ERROR,"Failed to connect to proxy "+i+" with error "+d.message),g()}),u.end()})}Oe.getProxiedConnection=_a});var gn=y((mu,ya)=>{ya.exports={name:"@grpc/grpc-js",version:"1.3.4",description:"gRPC Library for Node - pure JS implementation",homepage:"https://grpc.io/",repository:"https://github.com/grpc/grpc-node/tree/master/packages/grpc-js",main:"build/src/index.js",engines:{node:"^8.13.0 || >=10.10.0"},keywords:[],author:{name:"Google Inc."},types:"build/src/index.d.ts",license:"Apache-2.0",devDependencies:{"@grpc/proto-loader":"^0.5.5","@types/gulp":"^4.0.6","@types/gulp-mocha":"0.0.32","@types/lodash":"^4.14.108","@types/mocha":"^5.2.6","@types/ncp":"^2.0.1","@types/pify":"^3.0.2","@types/yargs":"^15.0.5","clang-format":"^1.0.55",execa:"^2.0.3",gts:"^2.0.0",gulp:"^4.0.2","gulp-mocha":"^6.0.0",lodash:"^4.17.4","mocha-jenkins-reporter":"^0.4.1",ncp:"^2.0.0",pify:"^4.0.1",rimraf:"^3.0.2","ts-node":"^8.3.0",typescript:"^3.7.2",yargs:"^15.4.1"},contributors:[{name:"Google Inc."}],scripts:{build:"npm run compile",clean:`node -e 'require("rimraf")("./build", () => {})'`,compile:"tsc -p .",format:'clang-format -i -style="{Language: JavaScript, BasedOnStyle: Google, ColumnLimit: 80}" src/*.ts test/*.ts',lint:"npm run check",prepare:"npm run compile",test:"gulp test",check:"gts check src/**/*.ts",fix:"gts fix src/*.ts",pretest:"npm run compile",posttest:"npm run check"},dependencies:{"@types/node":">=12.12.47"},files:["src/**/*.ts","build/src/*.{js,d.ts,js.map}","LICENSE","deps/envoy-api/envoy/api/v2/**/*.proto","deps/envoy-api/envoy/config/**/*.proto","deps/envoy-api/envoy/service/**/*.proto","deps/envoy-api/envoy/type/**/*.proto","deps/udpa/udpa/**/*.proto","deps/googleapis/google/api/*.proto","deps/googleapis/google/rpc/*.proto","deps/protoc-gen-validate/validate/**/*.proto"]}});var de=y(J=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});J.Subchannel=J.subchannelAddressToString=J.subchannelAddressEqual=J.isTcpSubchannelAddress=void 0;var qr=require("http2"),ln=require("tls"),b=le(),Sa=jt(),un=Y(),it=N(),at=R(),Ea=Gr(),Ta=require("net"),kt=H(),ba=gn().version,va="subchannel";function zr(e){it.trace(at.LogVerbosity.DEBUG,va,e)}function xt(e){it.trace(at.LogVerbosity.DEBUG,"subchannel_refcount",e)}var cn=~(1<<31),Aa=2e4,{HTTP2_HEADER_AUTHORITY:Ca,HTTP2_HEADER_CONTENT_TYPE:Ra,HTTP2_HEADER_METHOD:Oa,HTTP2_HEADER_PATH:wa,HTTP2_HEADER_TE:Na,HTTP2_HEADER_USER_AGENT:Ia}=qr.constants,Ma=Buffer.from("too_many_pings","ascii");function gt(e){return"port"in e}J.isTcpSubchannelAddress=gt;function La(e,t){return gt(e)?gt(t)&&e.host===t.host&&e.port===t.port:!gt(t)&&e.path===t.path}J.subchannelAddressEqual=La;function pn(e){return gt(e)?e.host+":"+e.port:e.path}J.subchannelAddressToString=pn;var dn=class{constructor(t,r,o,n){this.channelTarget=t,this.subchannelAddress=r,this.options=o,this.credentials=n,this.connectivityState=b.ConnectivityState.IDLE,this.session=null,this.continueConnecting=!1,this.stateListeners=[],this.disconnectListeners=[],this.keepaliveTimeMs=cn,this.keepaliveTimeoutMs=Aa,this.keepaliveWithoutCalls=!1,this.callRefcount=0,this.refcount=0,this.userAgent=[o["grpc.primary_user_agent"],`grpc-node-js/${ba}`,o["grpc.secondary_user_agent"]].filter(i=>i).join(" "),"grpc.keepalive_time_ms"in o&&(this.keepaliveTimeMs=o["grpc.keepalive_time_ms"]),"grpc.keepalive_timeout_ms"in o&&(this.keepaliveTimeoutMs=o["grpc.keepalive_timeout_ms"]),"grpc.keepalive_permit_without_calls"in o?this.keepaliveWithoutCalls=o["grpc.keepalive_permit_without_calls"]===1:this.keepaliveWithoutCalls=!1,this.keepaliveIntervalId=setTimeout(()=>{},0),clearTimeout(this.keepaliveIntervalId),this.keepaliveTimeoutId=setTimeout(()=>{},0),clearTimeout(this.keepaliveTimeoutId);let s={initialDelay:o["grpc.initial_reconnect_backoff_ms"],maxDelay:o["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new Sa.BackoffTimeout(()=>{this.handleBackoffTimer()},s),this.subchannelAddressString=pn(r)}handleBackoffTimer(){this.continueConnecting?this.transitionToState([b.ConnectivityState.TRANSIENT_FAILURE],b.ConnectivityState.CONNECTING):this.transitionToState([b.ConnectivityState.TRANSIENT_FAILURE],b.ConnectivityState.IDLE)}startBackoff(){this.backoffTimeout.runOnce()}stopBackoff(){this.backoffTimeout.stop(),this.backoffTimeout.reset()}sendPing(){var t,r;it.trace(at.LogVerbosity.DEBUG,"keepalive","Sending ping to "+this.subchannelAddressString),this.keepaliveTimeoutId=setTimeout(()=>{this.transitionToState([b.ConnectivityState.READY],b.ConnectivityState.IDLE)},this.keepaliveTimeoutMs),(r=(t=this.keepaliveTimeoutId).unref)===null||r===void 0||r.call(t),this.session.ping((o,n,s)=>{clearTimeout(this.keepaliveTimeoutId)})}startKeepalivePings(){var t,r;this.keepaliveIntervalId=setInterval(()=>{this.sendPing()},this.keepaliveTimeMs),(r=(t=this.keepaliveIntervalId).unref)===null||r===void 0||r.call(t)}stopKeepalivePings(){clearInterval(this.keepaliveIntervalId),clearTimeout(this.keepaliveTimeoutId)}createSession(t){var r,o,n;let s=un.getDefaultAuthority((r=t.realTarget)!==null&&r!==void 0?r:this.channelTarget),i=this.credentials._getConnectionOptions()||{};i.maxSendHeaderBlockLength=Number.MAX_SAFE_INTEGER,"grpc-node.max_session_memory"in this.options&&(i.maxSessionMemory=this.options["grpc-node.max_session_memory"]);let a="http://";if("secureContext"in i){if(a="https://",this.options["grpc.ssl_target_name_override"]){let u=this.options["grpc.ssl_target_name_override"];i.checkServerIdentity=(d,p)=>ln.checkServerIdentity(u,p),i.servername=u}else{let u=(n=(o=kt.splitHostPort(s))===null||o===void 0?void 0:o.host)!==null&&n!==void 0?n:"localhost";i.servername=u}t.socket&&(i.createConnection=(u,d)=>t.socket)}else i.createConnection=(u,d)=>t.socket?t.socket:Ta.connect(this.subchannelAddress);i=Object.assign(Object.assign({},i),this.subchannelAddress);let g=qr.connect(a+s,i);this.session=g,g.unref(),g.once("connect",()=>{this.session===g&&this.transitionToState([b.ConnectivityState.CONNECTING],b.ConnectivityState.READY)}),g.once("close",()=>{this.session===g&&(this.transitionToState([b.ConnectivityState.CONNECTING],b.ConnectivityState.TRANSIENT_FAILURE),this.transitionToState([b.ConnectivityState.READY],b.ConnectivityState.IDLE))}),g.once("goaway",(u,d,p)=>{this.session===g&&(u===qr.constants.NGHTTP2_ENHANCE_YOUR_CALM&&p.equals(Ma)&&(this.keepaliveTimeMs=Math.min(2*this.keepaliveTimeMs,cn),it.log(at.LogVerbosity.ERROR,`Connection to ${kt.uriToString(this.channelTarget)} at ${this.subchannelAddressString} rejected by server because of excess pings. Increasing ping interval to ${this.keepaliveTimeMs} ms`)),zr(this.subchannelAddressString+" connection closed by GOAWAY with code "+u),this.transitionToState([b.ConnectivityState.CONNECTING,b.ConnectivityState.READY],b.ConnectivityState.IDLE))}),g.once("error",u=>{zr(this.subchannelAddressString+" connection closed with error "+u.message)})}startConnectingInternal(){var t,r;let o=this.credentials._getConnectionOptions()||{};if("secureContext"in o){if(o.ALPNProtocols=["h2"],this.options["grpc.ssl_target_name_override"]){let n=this.options["grpc.ssl_target_name_override"];o.checkServerIdentity=(s,i)=>ln.checkServerIdentity(n,i),o.servername=n}else if("grpc.http_connect_target"in this.options){let n=un.getDefaultAuthority((t=kt.parseUri(this.options["grpc.http_connect_target"]))!==null&&t!==void 0?t:{path:"localhost"}),s=kt.splitHostPort(n);o.servername=(r=s==null?void 0:s.host)!==null&&r!==void 0?r:n}}Ea.getProxiedConnection(this.subchannelAddress,this.options,o).then(n=>{this.createSession(n)},n=>{this.transitionToState([b.ConnectivityState.CONNECTING],b.ConnectivityState.TRANSIENT_FAILURE)})}transitionToState(t,r){if(t.indexOf(this.connectivityState)===-1)return!1;zr(this.subchannelAddressString+" "+b.ConnectivityState[this.connectivityState]+" -> "+b.ConnectivityState[r]);let o=this.connectivityState;switch(this.connectivityState=r,r){case b.ConnectivityState.READY:this.stopBackoff(),this.session.socket.once("close",()=>{for(let n of this.disconnectListeners)n()}),this.keepaliveWithoutCalls&&this.startKeepalivePings();break;case b.ConnectivityState.CONNECTING:this.startBackoff(),this.startConnectingInternal(),this.continueConnecting=!1;break;case b.ConnectivityState.TRANSIENT_FAILURE:this.session&&this.session.close(),this.session=null,this.stopKeepalivePings(),this.backoffTimeout.isRunning()||process.nextTick(()=>{this.handleBackoffTimer()});break;case b.ConnectivityState.IDLE:this.session&&this.session.close(),this.session=null,this.stopKeepalivePings();break;default:throw new Error(`Invalid state: unknown ConnectivityState ${r}`)}for(let n of[...this.stateListeners])n(this,o,r);return!0}checkBothRefcounts(){this.callRefcount===0&&this.refcount===0&&this.transitionToState([b.ConnectivityState.CONNECTING,b.ConnectivityState.READY],b.ConnectivityState.TRANSIENT_FAILURE)}callRef(){xt(this.subchannelAddressString+" callRefcount "+this.callRefcount+" -> "+(this.callRefcount+1)),this.callRefcount===0&&(this.session&&this.session.ref(),this.backoffTimeout.ref(),this.keepaliveWithoutCalls||this.startKeepalivePings()),this.callRefcount+=1}callUnref(){xt(this.subchannelAddressString+" callRefcount "+this.callRefcount+" -> "+(this.callRefcount-1)),this.callRefcount-=1,this.callRefcount===0&&(this.session&&this.session.unref(),this.backoffTimeout.unref(),this.keepaliveWithoutCalls||this.stopKeepalivePings(),this.checkBothRefcounts())}ref(){xt(this.subchannelAddressString+" refcount "+this.refcount+" -> "+(this.refcount+1)),this.refcount+=1}unref(){xt(this.subchannelAddressString+" refcount "+this.refcount+" -> "+(this.refcount-1)),this.refcount-=1,this.checkBothRefcounts()}unrefIfOneRef(){return this.refcount===1?(this.unref(),!0):!1}startCallStream(t,r,o){let n=t.toHttp2Headers();n[Ca]=r.getHost(),n[Ia]=this.userAgent,n[Ra]="application/grpc",n[Oa]="POST",n[wa]=r.getMethod(),n[Na]="trailers";let s;try{s=this.session.request(n)}catch(a){throw this.transitionToState([b.ConnectivityState.READY],b.ConnectivityState.TRANSIENT_FAILURE),a}let i="";for(let a of Object.keys(n))i+="		"+a+": "+n[a]+`
`;it.trace(at.LogVerbosity.DEBUG,"call_stream","Starting stream on subchannel "+this.subchannelAddressString+` with headers
`+i),r.attachHttp2Stream(s,this,o)}startConnecting(){this.transitionToState([b.ConnectivityState.IDLE],b.ConnectivityState.CONNECTING)||this.connectivityState===b.ConnectivityState.TRANSIENT_FAILURE&&(this.continueConnecting=!0)}getConnectivityState(){return this.connectivityState}addConnectivityStateListener(t){this.stateListeners.push(t)}removeConnectivityStateListener(t){let r=this.stateListeners.indexOf(t);r>-1&&this.stateListeners.splice(r,1)}addDisconnectListener(t){this.disconnectListeners.push(t)}removeDisconnectListener(t){let r=this.disconnectListeners.indexOf(t);r>-1&&this.disconnectListeners.splice(r,1)}resetBackoff(){this.backoffTimeout.reset(),this.transitionToState([b.ConnectivityState.TRANSIENT_FAILURE],b.ConnectivityState.CONNECTING)}getAddress(){return this.subchannelAddressString}};J.Subchannel=dn});var fn=y(ue=>{"use strict";Object.defineProperty(ue,"__esModule",{value:!0});ue.setup=ue.PickFirstLoadBalancer=ue.PickFirstLoadBalancingConfig=void 0;var Da=ie(),S=le(),K=be(),ja=de(),Pa=N(),Ua=R(),Ba="pick_first";function Wt(e){Pa.trace(Ua.LogVerbosity.DEBUG,Ba,e)}var Ht="pick_first",Fa=250,lt=class{getLoadBalancerName(){return Ht}constructor(){}toJsonObject(){return{[Ht]:{}}}static createFromJson(t){return new lt}};ue.PickFirstLoadBalancingConfig=lt;var hn=class{constructor(t){this.subchannel=t}pick(t){return{pickResultType:K.PickResultType.COMPLETE,subchannel:this.subchannel,status:null,extraFilterFactory:null,onCallStarted:null}}},Yr=class{constructor(t){this.channelControlHelper=t,this.latestAddressList=[],this.subchannels=[],this.currentState=S.ConnectivityState.IDLE,this.currentSubchannelIndex=0,this.currentPick=null,this.triedAllSubchannels=!1,this.subchannelStateCounts={[S.ConnectivityState.CONNECTING]:0,[S.ConnectivityState.IDLE]:0,[S.ConnectivityState.READY]:0,[S.ConnectivityState.SHUTDOWN]:0,[S.ConnectivityState.TRANSIENT_FAILURE]:0},this.subchannelStateListener=(r,o,n)=>{if(this.subchannelStateCounts[o]-=1,this.subchannelStateCounts[n]+=1,r===this.subchannels[this.currentSubchannelIndex]&&n===S.ConnectivityState.TRANSIENT_FAILURE&&this.startNextSubchannelConnecting(),n===S.ConnectivityState.READY){this.pickSubchannel(r);return}else{if(this.triedAllSubchannels&&this.subchannelStateCounts[S.ConnectivityState.IDLE]===this.subchannels.length){this.resetSubchannelList(),this.updateState(S.ConnectivityState.IDLE,new K.QueuePicker(this));return}if(this.currentPick===null)if(this.triedAllSubchannels){let s;this.subchannelStateCounts[S.ConnectivityState.CONNECTING]>0?s=S.ConnectivityState.CONNECTING:this.subchannelStateCounts[S.ConnectivityState.TRANSIENT_FAILURE]>0?s=S.ConnectivityState.TRANSIENT_FAILURE:s=S.ConnectivityState.IDLE,s!==this.currentState&&(s===S.ConnectivityState.TRANSIENT_FAILURE?this.updateState(s,new K.UnavailablePicker):this.updateState(s,new K.QueuePicker(this)))}else this.updateState(S.ConnectivityState.CONNECTING,new K.QueuePicker(this))}},this.pickedSubchannelStateListener=(r,o,n)=>{if(n!==S.ConnectivityState.READY)if(this.currentPick=null,r.unref(),r.removeConnectivityStateListener(this.pickedSubchannelStateListener),this.subchannels.length>0)if(this.triedAllSubchannels){let s;this.subchannelStateCounts[S.ConnectivityState.CONNECTING]>0?s=S.ConnectivityState.CONNECTING:this.subchannelStateCounts[S.ConnectivityState.TRANSIENT_FAILURE]>0?s=S.ConnectivityState.TRANSIENT_FAILURE:s=S.ConnectivityState.IDLE,s===S.ConnectivityState.TRANSIENT_FAILURE?this.updateState(s,new K.UnavailablePicker):this.updateState(s,new K.QueuePicker(this))}else this.updateState(S.ConnectivityState.CONNECTING,new K.QueuePicker(this));else this.updateState(S.ConnectivityState.IDLE,new K.QueuePicker(this))},this.connectionDelayTimeout=setTimeout(()=>{},0),clearTimeout(this.connectionDelayTimeout)}startNextSubchannelConnecting(){if(!this.triedAllSubchannels){for(let[t,r]of this.subchannels.entries())if(t>this.currentSubchannelIndex){let o=r.getConnectivityState();if(o===S.ConnectivityState.IDLE||o===S.ConnectivityState.CONNECTING){this.startConnecting(t);return}}this.triedAllSubchannels=!0}}startConnecting(t){clearTimeout(this.connectionDelayTimeout),this.currentSubchannelIndex=t,this.subchannels[t].getConnectivityState()===S.ConnectivityState.IDLE&&(Wt("Start connecting to subchannel with address "+this.subchannels[t].getAddress()),process.nextTick(()=>{this.subchannels[t].startConnecting()})),this.connectionDelayTimeout=setTimeout(()=>{this.startNextSubchannelConnecting()},Fa)}pickSubchannel(t){Wt("Pick subchannel with address "+t.getAddress()),this.currentPick!==null&&(this.currentPick.unref(),this.currentPick.removeConnectivityStateListener(this.pickedSubchannelStateListener)),this.currentPick=t,this.updateState(S.ConnectivityState.READY,new hn(t)),t.addConnectivityStateListener(this.pickedSubchannelStateListener),t.ref(),this.resetSubchannelList(),clearTimeout(this.connectionDelayTimeout)}updateState(t,r){Wt(S.ConnectivityState[this.currentState]+" -> "+S.ConnectivityState[t]),this.currentState=t,this.channelControlHelper.updateState(t,r)}resetSubchannelList(){for(let t of this.subchannels)t.removeConnectivityStateListener(this.subchannelStateListener),t.unref();this.currentSubchannelIndex=0,this.subchannelStateCounts={[S.ConnectivityState.CONNECTING]:0,[S.ConnectivityState.IDLE]:0,[S.ConnectivityState.READY]:0,[S.ConnectivityState.SHUTDOWN]:0,[S.ConnectivityState.TRANSIENT_FAILURE]:0},this.subchannels=[],this.triedAllSubchannels=!1}connectToAddressList(){this.resetSubchannelList(),Wt("Connect to address list "+this.latestAddressList.map(t=>ja.subchannelAddressToString(t))),this.subchannels=this.latestAddressList.map(t=>this.channelControlHelper.createSubchannel(t,{}));for(let t of this.subchannels)t.ref();for(let t of this.subchannels)if(t.addConnectivityStateListener(this.subchannelStateListener),this.subchannelStateCounts[t.getConnectivityState()]+=1,t.getConnectivityState()===S.ConnectivityState.READY){this.pickSubchannel(t),this.resetSubchannelList();return}for(let[t,r]of this.subchannels.entries()){let o=r.getConnectivityState();if(o===S.ConnectivityState.IDLE||o===S.ConnectivityState.CONNECTING){this.startConnecting(t),this.currentPick===null&&this.updateState(S.ConnectivityState.CONNECTING,new K.QueuePicker(this));return}}this.currentPick===null&&this.updateState(S.ConnectivityState.TRANSIENT_FAILURE,new K.UnavailablePicker)}updateAddressList(t,r){(this.subchannels.length===0||!this.latestAddressList.every((o,n)=>t[n]===o))&&(this.latestAddressList=t,this.connectToAddressList())}exitIdle(){for(let t of this.subchannels)t.startConnecting();this.currentState===S.ConnectivityState.IDLE&&this.latestAddressList.length>0&&this.connectToAddressList(),(this.currentState===S.ConnectivityState.IDLE||this.triedAllSubchannels)&&this.channelControlHelper.requestReresolution()}resetBackoff(){}destroy(){this.resetSubchannelList(),this.currentPick!==null&&(this.currentPick.unref(),this.currentPick.removeConnectivityStateListener(this.pickedSubchannelStateListener))}getTypeName(){return Ht}};ue.PickFirstLoadBalancer=Yr;function ka(){Da.registerLoadBalancerType(Ht,Yr,lt)}ue.setup=ka});var yn=y(we=>{"use strict";Object.defineProperty(we,"__esModule",{value:!0});we.setup=we.RoundRobinLoadBalancer=void 0;var xa=ie(),C=le(),Vt=be(),Wa=de(),Ha=N(),Va=R(),Ga="round_robin";function mn(e){Ha.trace(Va.LogVerbosity.DEBUG,Ga,e)}var Gt="round_robin",qt=class{getLoadBalancerName(){return Gt}constructor(){}toJsonObject(){return{[Gt]:{}}}static createFromJson(t){return new qt}},_n=class{constructor(t,r=0){this.subchannelList=t,this.nextIndex=r}pick(t){let r=this.subchannelList[this.nextIndex];return this.nextIndex=(this.nextIndex+1)%this.subchannelList.length,{pickResultType:Vt.PickResultType.COMPLETE,subchannel:r,status:null,extraFilterFactory:null,onCallStarted:null}}peekNextSubchannel(){return this.subchannelList[this.nextIndex]}},Kr=class{constructor(t){this.channelControlHelper=t,this.subchannels=[],this.currentState=C.ConnectivityState.IDLE,this.currentReadyPicker=null,this.subchannelStateCounts={[C.ConnectivityState.CONNECTING]:0,[C.ConnectivityState.IDLE]:0,[C.ConnectivityState.READY]:0,[C.ConnectivityState.SHUTDOWN]:0,[C.ConnectivityState.TRANSIENT_FAILURE]:0},this.subchannelStateListener=(r,o,n)=>{this.subchannelStateCounts[o]-=1,this.subchannelStateCounts[n]+=1,this.calculateAndUpdateState(),(n===C.ConnectivityState.TRANSIENT_FAILURE||n===C.ConnectivityState.IDLE)&&(this.channelControlHelper.requestReresolution(),r.startConnecting())}}calculateAndUpdateState(){if(this.subchannelStateCounts[C.ConnectivityState.READY]>0){let t=this.subchannels.filter(o=>o.getConnectivityState()===C.ConnectivityState.READY),r=0;this.currentReadyPicker!==null&&(r=t.indexOf(this.currentReadyPicker.peekNextSubchannel()),r<0&&(r=0)),this.updateState(C.ConnectivityState.READY,new _n(t,r))}else this.subchannelStateCounts[C.ConnectivityState.CONNECTING]>0?this.updateState(C.ConnectivityState.CONNECTING,new Vt.QueuePicker(this)):this.subchannelStateCounts[C.ConnectivityState.TRANSIENT_FAILURE]>0?this.updateState(C.ConnectivityState.TRANSIENT_FAILURE,new Vt.UnavailablePicker):this.updateState(C.ConnectivityState.IDLE,new Vt.QueuePicker(this))}updateState(t,r){mn(C.ConnectivityState[this.currentState]+" -> "+C.ConnectivityState[t]),t===C.ConnectivityState.READY?this.currentReadyPicker=r:this.currentReadyPicker=null,this.currentState=t,this.channelControlHelper.updateState(t,r)}resetSubchannelList(){for(let t of this.subchannels)t.removeConnectivityStateListener(this.subchannelStateListener),t.unref();this.subchannelStateCounts={[C.ConnectivityState.CONNECTING]:0,[C.ConnectivityState.IDLE]:0,[C.ConnectivityState.READY]:0,[C.ConnectivityState.SHUTDOWN]:0,[C.ConnectivityState.TRANSIENT_FAILURE]:0},this.subchannels=[]}updateAddressList(t,r){this.resetSubchannelList(),mn("Connect to address list "+t.map(o=>Wa.subchannelAddressToString(o))),this.subchannels=t.map(o=>this.channelControlHelper.createSubchannel(o,{}));for(let o of this.subchannels){o.ref(),o.addConnectivityStateListener(this.subchannelStateListener);let n=o.getConnectivityState();this.subchannelStateCounts[n]+=1,(n===C.ConnectivityState.IDLE||n===C.ConnectivityState.TRANSIENT_FAILURE)&&o.startConnecting()}this.calculateAndUpdateState()}exitIdle(){for(let t of this.subchannels)t.startConnecting()}resetBackoff(){}destroy(){this.resetSubchannelList()}getTypeName(){return Gt}};we.RoundRobinLoadBalancer=Kr;function qa(){xa.registerLoadBalancerType(Gt,Kr,qt)}we.setup=qa});var ie=y(U=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0});U.registerAll=U.validateLoadBalancingConfig=U.getFirstUsableConfig=U.isLoadBalancerNameRegistered=U.createLoadBalancer=U.registerLoadBalancerType=void 0;var Sn=fn(),za=yn(),he={};function Ya(e,t,r){he[e]={LoadBalancer:t,LoadBalancingConfig:r}}U.registerLoadBalancerType=Ya;function Ka(e,t){let r=e.getLoadBalancerName();return r in he?new he[r].LoadBalancer(t):null}U.createLoadBalancer=Ka;function $a(e){return e in he}U.isLoadBalancerNameRegistered=$a;function Xa(e,t=!1){for(let r of e)if(r.getLoadBalancerName()in he)return r;return t?new Sn.PickFirstLoadBalancingConfig:null}U.getFirstUsableConfig=Xa;function Za(e){if(!(e!==null&&typeof e=="object"))throw new Error("Load balancing config must be an object");let t=Object.keys(e);if(t.length!==1)throw new Error("Provided load balancing config has multiple conflicting entries");let r=t[0];if(r in he)return he[r].LoadBalancingConfig.createFromJson(e[r]);throw new Error(`Unrecognized load balancing config name ${r}`)}U.validateLoadBalancingConfig=Za;function Qa(){Sn.setup(),za.setup()}U.registerAll=Qa});var $r=y(zt=>{"use strict";Object.defineProperty(zt,"__esModule",{value:!0});zt.ChildLoadBalancerHandler=void 0;var Ja=ie(),eg=le(),tg="child_load_balancer_helper",En=class{constructor(t){this.channelControlHelper=t,this.currentChild=null,this.pendingChild=null,this.ChildPolicyHelper=class{constructor(r){this.parent=r,this.child=null}createSubchannel(r,o){return this.parent.channelControlHelper.createSubchannel(r,o)}updateState(r,o){var n;if(this.calledByPendingChild()){if(r!==eg.ConnectivityState.READY)return;(n=this.parent.currentChild)===null||n===void 0||n.destroy(),this.parent.currentChild=this.parent.pendingChild,this.parent.pendingChild=null}else if(!this.calledByCurrentChild())return;this.parent.channelControlHelper.updateState(r,o)}requestReresolution(){var r;let o=(r=this.parent.pendingChild)!==null&&r!==void 0?r:this.parent.currentChild;this.child===o&&this.parent.channelControlHelper.requestReresolution()}setChild(r){this.child=r}calledByPendingChild(){return this.child===this.parent.pendingChild}calledByCurrentChild(){return this.child===this.parent.currentChild}}}updateAddressList(t,r,o){let n;if(this.currentChild===null||this.currentChild.getTypeName()!==r.getLoadBalancerName()){let s=new this.ChildPolicyHelper(this),i=Ja.createLoadBalancer(r,s);s.setChild(i),this.currentChild===null?(this.currentChild=i,n=this.currentChild):(this.pendingChild&&this.pendingChild.destroy(),this.pendingChild=i,n=this.pendingChild)}else this.pendingChild===null?n=this.currentChild:n=this.pendingChild;n.updateAddressList(t,r,o)}exitIdle(){this.currentChild&&(this.currentChild.resetBackoff(),this.pendingChild&&this.pendingChild.resetBackoff())}resetBackoff(){this.currentChild&&(this.currentChild.resetBackoff(),this.pendingChild&&this.pendingChild.resetBackoff())}destroy(){this.currentChild&&(this.currentChild.destroy(),this.currentChild=null),this.pendingChild&&(this.pendingChild.destroy(),this.pendingChild=null)}getTypeName(){return tg}};zt.ChildLoadBalancerHandler=En});var bn=y(Yt=>{"use strict";Object.defineProperty(Yt,"__esModule",{value:!0});Yt.ResolvingLoadBalancer=void 0;var rg=ie(),og=Pr(),F=le(),ng=Y(),fe=be(),sg=jt(),Xr=R(),ig=W(),ag=N(),gg=R(),lg=H(),ug=$r(),cg="resolving_load_balancer";function pg(e){ag.trace(gg.LogVerbosity.DEBUG,cg,e)}function dg(e){return function(r,o){var n,s;let i=r.split("/").filter(u=>u.length>0),a=(n=i[0])!==null&&n!==void 0?n:"",g=(s=i[1])!==null&&s!==void 0?s:"";if(e&&e.methodConfig){for(let u of e.methodConfig)for(let d of u.name)if(d.service===a&&(d.method===void 0||d.method===g))return{methodConfig:u,pickInformation:{},status:Xr.Status.OK}}return{methodConfig:{name:[]},pickInformation:{},status:Xr.Status.OK}}}var Tn=class{constructor(t,r,o,n,s){this.target=t,this.channelControlHelper=r,this.channelOptions=o,this.onSuccessfulResolution=n,this.onFailedResolution=s,this.latestChildState=F.ConnectivityState.IDLE,this.latestChildPicker=new fe.QueuePicker(this),this.currentState=F.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1,o["grpc.service_config"]?this.defaultServiceConfig=og.validateServiceConfig(JSON.parse(o["grpc.service_config"])):this.defaultServiceConfig={loadBalancingConfig:[],methodConfig:[]},this.updateState(F.ConnectivityState.IDLE,new fe.QueuePicker(this)),this.childLoadBalancer=new ug.ChildLoadBalancerHandler({createSubchannel:r.createSubchannel.bind(r),requestReresolution:()=>{this.backoffTimeout.isRunning()?this.continueResolving=!0:this.updateResolution()},updateState:(i,a)=>{this.latestChildState=i,this.latestChildPicker=a,this.updateState(i,a)}}),this.innerResolver=ng.createResolver(t,{onSuccessfulResolution:(i,a,g,u,d)=>{var p;let c=null;a===null?g===null?(this.previousServiceConfig=null,c=this.defaultServiceConfig):this.previousServiceConfig===null?this.handleResolutionFailure(g):c=this.previousServiceConfig:(c=a,this.previousServiceConfig=a);let h=(p=c==null?void 0:c.loadBalancingConfig)!==null&&p!==void 0?p:[],f=rg.getFirstUsableConfig(h,!0);if(f===null){this.handleResolutionFailure({code:Xr.Status.UNAVAILABLE,details:"All load balancer options in service config are not compatible",metadata:new ig.Metadata});return}this.childLoadBalancer.updateAddressList(i,f,d);let m=c??this.defaultServiceConfig;this.onSuccessfulResolution(u??dg(m))},onError:i=>{this.handleResolutionFailure(i)}},o),this.backoffTimeout=new sg.BackoffTimeout(()=>{this.continueResolving?(this.updateResolution(),this.continueResolving=!1):this.updateState(this.latestChildState,this.latestChildPicker)}),this.backoffTimeout.unref()}updateResolution(){this.innerResolver.updateResolution(),this.currentState===F.ConnectivityState.IDLE&&this.updateState(F.ConnectivityState.CONNECTING,new fe.QueuePicker(this))}updateState(t,r){pg(lg.uriToString(this.target)+" "+F.ConnectivityState[this.currentState]+" -> "+F.ConnectivityState[t]),t===F.ConnectivityState.IDLE&&(r=new fe.QueuePicker(this)),this.currentState=t,this.channelControlHelper.updateState(t,r)}handleResolutionFailure(t){this.latestChildState===F.ConnectivityState.IDLE&&(this.updateState(F.ConnectivityState.TRANSIENT_FAILURE,new fe.UnavailablePicker(t)),this.onFailedResolution(t)),this.backoffTimeout.runOnce()}exitIdle(){this.childLoadBalancer.exitIdle(),this.currentState===F.ConnectivityState.IDLE&&(this.backoffTimeout.isRunning()?this.continueResolving=!0:this.updateResolution(),this.updateState(F.ConnectivityState.CONNECTING,new fe.QueuePicker(this)))}updateAddressList(t,r){throw new Error("updateAddressList not supported on ResolvingLoadBalancer")}resetBackoff(){this.backoffTimeout.reset(),this.childLoadBalancer.resetBackoff()}destroy(){this.childLoadBalancer.destroy(),this.innerResolver.destroy(),this.updateState(F.ConnectivityState.SHUTDOWN,new fe.UnavailablePicker)}getTypeName(){return"resolving_load_balancer"}};Yt.ResolvingLoadBalancer=Tn});var vn=y(Ne=>{"use strict";Object.defineProperty(Ne,"__esModule",{value:!0});Ne.channelOptionsEqual=Ne.recognizedOptions=void 0;Ne.recognizedOptions={"grpc.ssl_target_name_override":!0,"grpc.primary_user_agent":!0,"grpc.secondary_user_agent":!0,"grpc.default_authority":!0,"grpc.keepalive_time_ms":!0,"grpc.keepalive_timeout_ms":!0,"grpc.keepalive_permit_without_calls":!0,"grpc.service_config":!0,"grpc.max_concurrent_streams":!0,"grpc.initial_reconnect_backoff_ms":!0,"grpc.max_reconnect_backoff_ms":!0,"grpc.use_local_subchannel_pool":!0,"grpc.max_send_message_length":!0,"grpc.max_receive_message_length":!0,"grpc.enable_http_proxy":!0,"grpc-node.max_session_memory":!0};function hg(e,t){let r=Object.keys(e).sort(),o=Object.keys(t).sort();if(r.length!==o.length)return!1;for(let n=0;n<r.length;n+=1)if(r[n]!==o[n]||e[r[n]]!==t[o[n]])return!1;return!0}Ne.channelOptionsEqual=hg});var Cn=y(Ie=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});Ie.getSubchannelPool=Ie.SubchannelPool=void 0;var fg=vn(),An=de(),mg=H(),_g=1e4,Kt=class{constructor(t){this.global=t,this.pool=Object.create(null),this.cleanupTimer=null}unrefUnusedSubchannels(){let t=!0;for(let r in this.pool){let n=this.pool[r].filter(s=>!s.subchannel.unrefIfOneRef());n.length>0&&(t=!1),this.pool[r]=n}t&&this.cleanupTimer!==null&&(clearInterval(this.cleanupTimer),this.cleanupTimer=null)}ensureCleanupTask(){var t,r;this.global&&this.cleanupTimer===null&&(this.cleanupTimer=setInterval(()=>{this.unrefUnusedSubchannels()},_g),(r=(t=this.cleanupTimer).unref)===null||r===void 0||r.call(t))}getOrCreateSubchannel(t,r,o,n){this.ensureCleanupTask();let s=mg.uriToString(t);if(s in this.pool){let a=this.pool[s];for(let g of a)if(An.subchannelAddressEqual(r,g.subchannelAddress)&&fg.channelOptionsEqual(o,g.channelArguments)&&n._equals(g.channelCredentials))return g.subchannel}let i=new An.Subchannel(t,r,o,n);return s in this.pool||(this.pool[s]=[]),this.pool[s].push({subchannelAddress:r,channelArguments:o,channelCredentials:n,subchannel:i}),this.global&&i.ref(),i}};Ie.SubchannelPool=Kt;var yg=new Kt(!0);function Sg(e){return e?yg:new Kt(!1)}Ie.getSubchannelPool=Sg});var Me=y($t=>{"use strict";Object.defineProperty($t,"__esModule",{value:!0});$t.BaseFilter=void 0;var Rn=class{async sendMetadata(t){return t}receiveMetadata(t){return t}async sendMessage(t){return t}async receiveMessage(t){return t}receiveTrailers(t){return t}};$t.BaseFilter=Rn});var Nn=y(Le=>{"use strict";Object.defineProperty(Le,"__esModule",{value:!0});Le.CallCredentialsFilterFactory=Le.CallCredentialsFilter=void 0;var Eg=Me(),On=R(),Tg=H(),Zr=class extends Eg.BaseFilter{constructor(t,r){var o,n;super();this.channel=t,this.stream=r,this.channel=t,this.stream=r;let s=r.getMethod().split("/"),i="";s.length>=2&&(i=s[1]);let a=(n=(o=Tg.splitHostPort(r.getHost()))===null||o===void 0?void 0:o.host)!==null&&n!==void 0?n:"localhost";this.serviceUrl=`https://${a}/${i}`}async sendMetadata(t){let o=this.stream.getCredentials().generateMetadata({service_url:this.serviceUrl}),n=await t;try{n.merge(await o)}catch(s){return this.stream.cancelWithStatus(On.Status.UNAUTHENTICATED,`Failed to retrieve auth metadata with error: ${s.message}`),Promise.reject("Failed to retrieve auth metadata")}return n.get("authorization").length>1?(this.stream.cancelWithStatus(On.Status.INTERNAL,'"authorization" metadata cannot have multiple values'),Promise.reject('"authorization" metadata cannot have multiple values')):n}};Le.CallCredentialsFilter=Zr;var wn=class{constructor(t){this.channel=t,this.channel=t}createFilter(t){return new Zr(this.channel,t)}};Le.CallCredentialsFilterFactory=wn});var Ln=y(De=>{"use strict";Object.defineProperty(De,"__esModule",{value:!0});De.DeadlineFilterFactory=De.DeadlineFilter=void 0;var In=R(),bg=Me(),vg=[["m",1],["S",1e3],["M",60*1e3],["H",60*60*1e3]];function Ag(e){let t=new Date().getTime(),r=Math.max(e-t,0);for(let[o,n]of vg){let s=r/n;if(s<1e8)return String(Math.ceil(s))+o}throw new Error("Deadline is too far in the future")}var Qr=class extends bg.BaseFilter{constructor(t,r){var o,n;super();this.channel=t,this.callStream=r,this.timer=null;let s=r.getDeadline();s instanceof Date?this.deadline=s.getTime():this.deadline=s;let i=new Date().getTime(),a=this.deadline-i;a<=0?process.nextTick(()=>{r.cancelWithStatus(In.Status.DEADLINE_EXCEEDED,"Deadline exceeded")}):this.deadline!==1/0&&(this.timer=setTimeout(()=>{r.cancelWithStatus(In.Status.DEADLINE_EXCEEDED,"Deadline exceeded")},a),(n=(o=this.timer).unref)===null||n===void 0||n.call(o))}async sendMetadata(t){if(this.deadline===1/0)return t;let r=await t,o=Ag(this.deadline);return r.set("grpc-timeout",o),r}receiveTrailers(t){return this.timer&&clearTimeout(this.timer),t}};De.DeadlineFilter=Qr;var Mn=class{constructor(t){this.channel=t}createFilter(t){return new Qr(this.channel,t)}};De.DeadlineFilterFactory=Mn});var Bn=y(je=>{"use strict";Object.defineProperty(je,"__esModule",{value:!0});je.CompressionFilterFactory=je.CompressionFilter=void 0;var Xt=require("zlib"),Cg=Me(),ut=class{async writeMessage(t,r){let o=t;r&&(o=await this.compressMessage(o));let n=Buffer.allocUnsafe(o.length+5);return n.writeUInt8(r?1:0,0),n.writeUInt32BE(o.length,1),o.copy(n,5),n}async readMessage(t){let r=t.readUInt8(0)===1,o=t.slice(5);return r&&(o=await this.decompressMessage(o)),o}},Zt=class extends ut{async compressMessage(t){return t}async writeMessage(t,r){let o=Buffer.allocUnsafe(t.length+5);return o.writeUInt8(0,0),o.writeUInt32BE(t.length,1),t.copy(o,5),o}decompressMessage(t){return Promise.reject(new Error('Received compressed message but "grpc-encoding" header was identity'))}},Dn=class extends ut{compressMessage(t){return new Promise((r,o)=>{Xt.deflate(t,(n,s)=>{n?o(n):r(s)})})}decompressMessage(t){return new Promise((r,o)=>{Xt.inflate(t,(n,s)=>{n?o(n):r(s)})})}},jn=class extends ut{compressMessage(t){return new Promise((r,o)=>{Xt.gzip(t,(n,s)=>{n?o(n):r(s)})})}decompressMessage(t){return new Promise((r,o)=>{Xt.unzip(t,(n,s)=>{n?o(n):r(s)})})}},Pn=class extends ut{constructor(t){super();this.compressionName=t}compressMessage(t){return Promise.reject(new Error(`Received message compressed with unsupported compression method ${this.compressionName}`))}decompressMessage(t){return Promise.reject(new Error(`Compression method not supported: ${this.compressionName}`))}};function Rg(e){switch(e){case"identity":return new Zt;case"deflate":return new Dn;case"gzip":return new jn;default:return new Pn(e)}}var Jr=class extends Cg.BaseFilter{constructor(){super(...arguments);this.sendCompression=new Zt,this.receiveCompression=new Zt}async sendMetadata(t){let r=await t;return r.set("grpc-accept-encoding","identity,deflate,gzip"),r.set("accept-encoding","identity"),r}receiveMetadata(t){let r=t.get("grpc-encoding");if(r.length>0){let o=r[0];typeof o=="string"&&(this.receiveCompression=Rg(o))}return t.remove("grpc-encoding"),t.remove("grpc-accept-encoding"),t}async sendMessage(t){let r=await t,o=r.flags===void 0?!1:(r.flags&2)==0;return{message:await this.sendCompression.writeMessage(r.message,o),flags:r.flags}}async receiveMessage(t){return this.receiveCompression.readMessage(await t)}};je.CompressionFilter=Jr;var Un=class{constructor(t){this.channel=t}createFilter(t){return new Jr}};je.CompressionFilterFactory=Un});var kn=y(Pe=>{"use strict";Object.defineProperty(Pe,"__esModule",{value:!0});Pe.MaxMessageSizeFilterFactory=Pe.MaxMessageSizeFilter=void 0;var Og=Me(),Qt=R(),eo=class extends Og.BaseFilter{constructor(t,r){super();this.options=t,this.callStream=r,this.maxSendMessageSize=Qt.DEFAULT_MAX_SEND_MESSAGE_LENGTH,this.maxReceiveMessageSize=Qt.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,"grpc.max_send_message_length"in t&&(this.maxSendMessageSize=t["grpc.max_send_message_length"]),"grpc.max_receive_message_length"in t&&(this.maxReceiveMessageSize=t["grpc.max_receive_message_length"])}async sendMessage(t){if(this.maxSendMessageSize===-1)return t;{let r=await t;return r.message.length>this.maxSendMessageSize?(this.callStream.cancelWithStatus(Qt.Status.RESOURCE_EXHAUSTED,`Sent message larger than max (${r.message.length} vs. ${this.maxSendMessageSize})`),Promise.reject("Message too large")):r}}async receiveMessage(t){if(this.maxReceiveMessageSize===-1)return t;{let r=await t;return r.length>this.maxReceiveMessageSize?(this.callStream.cancelWithStatus(Qt.Status.RESOURCE_EXHAUSTED,`Received message larger than max (${r.length} vs. ${this.maxReceiveMessageSize})`),Promise.reject("Message too large")):r}}};Pe.MaxMessageSizeFilter=eo;var Fn=class{constructor(t){this.options=t}createFilter(t){return new eo(this.options,t)}};Pe.MaxMessageSizeFilterFactory=Fn});var le=y(me=>{"use strict";Object.defineProperty(me,"__esModule",{value:!0});me.ChannelImplementation=me.ConnectivityState=void 0;var wg=wr(),Ng=Dr(),Ig=bn(),Mg=Cn(),Ue=be(),D=R(),Lg=wt(),Dg=Nn(),jg=Ln(),Pg=Bn(),xn=Y(),ee=N(),Ug=kn(),Bg=Gr(),ct=H(),$;(function(e){e[e.IDLE=0]="IDLE",e[e.CONNECTING=1]="CONNECTING",e[e.READY=2]="READY",e[e.TRANSIENT_FAILURE=3]="TRANSIENT_FAILURE",e[e.SHUTDOWN=4]="SHUTDOWN"})($=me.ConnectivityState||(me.ConnectivityState={}));var Fg=2147483647,Jt=0;function kg(){let e=Jt;return Jt+=1,Jt>=Number.MAX_SAFE_INTEGER&&(Jt=0),e}var Wn=class{constructor(t,r,o){var n,s,i;if(this.credentials=r,this.options=o,this.connectivityState=$.IDLE,this.currentPicker=new Ue.UnavailablePicker,this.configSelectionQueue=[],this.pickQueue=[],this.connectivityStateWatchers=[],this.configSelector=null,typeof t!="string")throw new TypeError("Channel target must be a string");if(!(r instanceof Ng.ChannelCredentials))throw new TypeError("Channel credentials must be a ChannelCredentials object");if(o&&(typeof o!="object"||!Object.values(o).every(p=>typeof p=="string"||typeof p=="number"||typeof p=="undefined")))throw new TypeError("Channel options must be an object with string or number values");let a=ct.parseUri(t);if(a===null)throw new Error(`Could not parse target name "${t}"`);let g=xn.mapUriDefaultScheme(a);if(g===null)throw new Error(`Could not find a default scheme for target name "${t}"`);this.callRefTimer=setInterval(()=>{},Fg),(s=(n=this.callRefTimer).unref)===null||s===void 0||s.call(n),this.options["grpc.default_authority"]?this.defaultAuthority=this.options["grpc.default_authority"]:this.defaultAuthority=xn.getDefaultAuthority(g);let u=Bg.mapProxyName(g,o);this.target=u.target,this.options=Object.assign({},this.options,u.extraOptions),this.subchannelPool=Mg.getSubchannelPool(((i=o["grpc.use_local_subchannel_pool"])!==null&&i!==void 0?i:0)===0);let d={createSubchannel:(p,c)=>this.subchannelPool.getOrCreateSubchannel(this.target,p,Object.assign({},this.options,c),this.credentials),updateState:(p,c)=>{this.currentPicker=c;let h=this.pickQueue.slice();this.pickQueue=[],this.callRefTimerUnref();for(let{callStream:f,callMetadata:m,callConfig:T}of h)this.tryPick(f,m,T);this.updateState(p)},requestReresolution:()=>{throw new Error("Resolving load balancer should never call requestReresolution")}};this.resolvingLoadBalancer=new Ig.ResolvingLoadBalancer(this.target,d,o,p=>{this.configSelector=p,process.nextTick(()=>{let c=this.configSelectionQueue;this.configSelectionQueue=[],this.callRefTimerUnref();for(let{callStream:h,callMetadata:f}of c)this.tryGetConfig(h,f);this.configSelectionQueue=[]})},p=>{this.configSelectionQueue.length>0&&ee.trace(D.LogVerbosity.DEBUG,"channel","Name resolution failed for target "+ct.uriToString(this.target)+" with calls queued for config selection");let c=this.configSelectionQueue;this.configSelectionQueue=[],this.callRefTimerUnref();for(let{callStream:h,callMetadata:f}of c)f.getOptions().waitForReady?(this.callRefTimerRef(),this.configSelectionQueue.push({callStream:h,callMetadata:f})):h.cancelWithStatus(p.code,p.details)}),this.filterStackFactory=new Lg.FilterStackFactory([new Dg.CallCredentialsFilterFactory(this),new jg.DeadlineFilterFactory(this),new Ug.MaxMessageSizeFilterFactory(this.options),new Pg.CompressionFilterFactory(this)])}callRefTimerRef(){var t,r,o,n;((r=(t=this.callRefTimer).hasRef)===null||r===void 0?void 0:r.call(t))||(ee.trace(D.LogVerbosity.DEBUG,"channel","callRefTimer.ref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),(n=(o=this.callRefTimer).ref)===null||n===void 0||n.call(o))}callRefTimerUnref(){var t,r;(!this.callRefTimer.hasRef||this.callRefTimer.hasRef())&&(ee.trace(D.LogVerbosity.DEBUG,"channel","callRefTimer.unref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),(r=(t=this.callRefTimer).unref)===null||r===void 0||r.call(t))}pushPick(t,r,o){this.pickQueue.push({callStream:t,callMetadata:r,callConfig:o}),this.callRefTimerRef()}tryPick(t,r,o){var n,s,i;let a=this.currentPicker.pick({metadata:r,extraPickInfo:o.pickInformation});switch(ee.trace(D.LogVerbosity.DEBUG,"channel","Pick result: "+Ue.PickResultType[a.pickResultType]+" subchannel: "+((n=a.subchannel)===null||n===void 0?void 0:n.getAddress())+" status: "+((s=a.status)===null||s===void 0?void 0:s.code)+" "+((i=a.status)===null||i===void 0?void 0:i.details)),a.pickResultType){case Ue.PickResultType.COMPLETE:if(a.subchannel===null)t.cancelWithStatus(D.Status.UNAVAILABLE,"Request dropped by load balancing policy");else{if(a.subchannel.getConnectivityState()!==$.READY){ee.log(D.LogVerbosity.ERROR,"Error: COMPLETE pick result subchannel "+a.subchannel.getAddress()+" has state "+$[a.subchannel.getConnectivityState()]),this.pushPick(t,r,o);break}t.filterStack.sendMetadata(Promise.resolve(r.clone())).then(g=>{var u,d,p;let c=a.subchannel.getConnectivityState();if(c===$.READY)try{a.subchannel.startCallStream(g,t,(u=a.extraFilterFactory)!==null&&u!==void 0?u:void 0),(d=o.onCommitted)===null||d===void 0||d.call(o),(p=a.onCallStarted)===null||p===void 0||p.call(a)}catch(h){h.code==="ERR_HTTP2_GOAWAY_SESSION"?(ee.trace(D.LogVerbosity.INFO,"channel","Failed to start call on picked subchannel "+a.subchannel.getAddress()+" with error "+h.message+". Retrying pick"),this.tryPick(t,r,o)):(ee.trace(D.LogVerbosity.INFO,"channel","Failed to start call on picked subchanel "+a.subchannel.getAddress()+" with error "+h.message+". Ending call"),t.cancelWithStatus(D.Status.INTERNAL,`Failed to start HTTP/2 stream with error: ${h.message}`))}else ee.trace(D.LogVerbosity.INFO,"channel","Picked subchannel "+a.subchannel.getAddress()+" has state "+$[c]+" after metadata filters. Retrying pick"),this.tryPick(t,r,o)},g=>{t.cancelWithStatus(typeof g.code=="number"?g.code:D.Status.UNKNOWN,`Getting metadata from plugin failed with error: ${g.message}`)})}break;case Ue.PickResultType.QUEUE:this.pushPick(t,r,o);break;case Ue.PickResultType.TRANSIENT_FAILURE:r.getOptions().waitForReady?this.pushPick(t,r,o):t.cancelWithStatus(a.status.code,a.status.details);break;case Ue.PickResultType.DROP:t.cancelWithStatus(a.status.code,a.status.details);break;default:throw new Error(`Invalid state: unknown pickResultType ${a.pickResultType}`)}}removeConnectivityStateWatcher(t){let r=this.connectivityStateWatchers.findIndex(o=>o===t);r>=0&&this.connectivityStateWatchers.splice(r,1)}updateState(t){ee.trace(D.LogVerbosity.DEBUG,"connectivity_state",ct.uriToString(this.target)+" "+$[this.connectivityState]+" -> "+$[t]),this.connectivityState=t;let r=this.connectivityStateWatchers.slice();for(let o of r)t!==o.currentState&&(o.timer&&clearTimeout(o.timer),this.removeConnectivityStateWatcher(o),o.callback())}tryGetConfig(t,r){if(this.configSelector===null)this.resolvingLoadBalancer.exitIdle(),this.configSelectionQueue.push({callStream:t,callMetadata:r}),this.callRefTimerRef();else{let o=this.configSelector(t.getMethod(),r);o.status===D.Status.OK?this.tryPick(t,r,o):t.cancelWithStatus(o.status,"Failed to route call to method "+t.getMethod())}}_startCallStream(t,r){this.tryGetConfig(t,r.clone())}close(){this.resolvingLoadBalancer.destroy(),this.updateState($.SHUTDOWN),clearInterval(this.callRefTimer),this.subchannelPool.unrefUnusedSubchannels()}getTarget(){return ct.uriToString(this.target)}getConnectivityState(t){let r=this.connectivityState;return t&&this.resolvingLoadBalancer.exitIdle(),r}watchConnectivityState(t,r,o){if(this.connectivityState===$.SHUTDOWN)throw new Error("Channel has been shut down");let n=null;if(r!==1/0){let i=r instanceof Date?r:new Date(r),a=new Date;if(r===-1/0||i<=a){process.nextTick(o,new Error("Deadline passed without connectivity state change"));return}n=setTimeout(()=>{this.removeConnectivityStateWatcher(s),o(new Error("Deadline passed without connectivity state change"))},i.getTime()-a.getTime())}let s={currentState:t,callback:o,timer:n};this.connectivityStateWatchers.push(s)}createCall(t,r,o,n,s){if(typeof t!="string")throw new TypeError("Channel#createCall: method must be a string");if(!(typeof r=="number"||r instanceof Date))throw new TypeError("Channel#createCall: deadline must be a number or Date");if(this.connectivityState===$.SHUTDOWN)throw new Error("Channel has been shut down");let i=kg();ee.trace(D.LogVerbosity.DEBUG,"channel",ct.uriToString(this.target)+" createCall ["+i+'] method="'+t+'", deadline='+r);let a={deadline:r,flags:s??D.Propagate.DEFAULTS,host:o??this.defaultAuthority,parentCall:n};return new wg.Http2CallStream(t,this,a,this.filterStackFactory,this.credentials._getCallCredentials(),i)}};me.ChannelImplementation=Wn});var zn=y(V=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});V.ClientDuplexStreamImpl=V.ClientWritableStreamImpl=V.ClientReadableStreamImpl=V.ClientUnaryCallImpl=V.callErrorFromStatus=void 0;var xg=require("events"),to=require("stream"),pt=R();function Wg(e){let t=`${e.code} ${pt.Status[e.code]}: ${e.details}`;return Object.assign(new Error(t),e)}V.callErrorFromStatus=Wg;var Hn=class extends xg.EventEmitter{constructor(){super()}cancel(){var t;(t=this.call)===null||t===void 0||t.cancelWithStatus(pt.Status.CANCELLED,"Cancelled on client")}getPeer(){var t,r;return(r=(t=this.call)===null||t===void 0?void 0:t.getPeer())!==null&&r!==void 0?r:"unknown"}};V.ClientUnaryCallImpl=Hn;var Vn=class extends to.Readable{constructor(t){super({objectMode:!0});this.deserialize=t}cancel(){var t;(t=this.call)===null||t===void 0||t.cancelWithStatus(pt.Status.CANCELLED,"Cancelled on client")}getPeer(){var t,r;return(r=(t=this.call)===null||t===void 0?void 0:t.getPeer())!==null&&r!==void 0?r:"unknown"}_read(t){var r;(r=this.call)===null||r===void 0||r.startRead()}};V.ClientReadableStreamImpl=Vn;var Gn=class extends to.Writable{constructor(t){super({objectMode:!0});this.serialize=t}cancel(){var t;(t=this.call)===null||t===void 0||t.cancelWithStatus(pt.Status.CANCELLED,"Cancelled on client")}getPeer(){var t,r;return(r=(t=this.call)===null||t===void 0?void 0:t.getPeer())!==null&&r!==void 0?r:"unknown"}_write(t,r,o){var n;let s={callback:o},i=Number(r);Number.isNaN(i)||(s.flags=i),(n=this.call)===null||n===void 0||n.sendMessageWithContext(s,t)}_final(t){var r;(r=this.call)===null||r===void 0||r.halfClose(),t()}};V.ClientWritableStreamImpl=Gn;var qn=class extends to.Duplex{constructor(t,r){super({objectMode:!0});this.serialize=t,this.deserialize=r}cancel(){var t;(t=this.call)===null||t===void 0||t.cancelWithStatus(pt.Status.CANCELLED,"Cancelled on client")}getPeer(){var t,r;return(r=(t=this.call)===null||t===void 0?void 0:t.getPeer())!==null&&r!==void 0?r:"unknown"}_read(t){var r;(r=this.call)===null||r===void 0||r.startRead()}_write(t,r,o){var n;let s={callback:o},i=Number(r);Number.isNaN(i)||(s.flags=i),(n=this.call)===null||n===void 0||n.sendMessageWithContext(s,t)}_final(t){var r;(r=this.call)===null||r===void 0||r.halfClose(),t()}};V.ClientDuplexStreamImpl=qn});var no=y(G=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0});G.getInterceptingCall=G.InterceptingCall=G.RequesterBuilder=G.ListenerBuilder=G.InterceptorConfigurationError=void 0;var Hg=W(),Yn=wr(),Kn=R(),Be=class extends Error{constructor(t){super(t);this.name="InterceptorConfigurationError",Error.captureStackTrace(this,Be)}};G.InterceptorConfigurationError=Be;var $n=class{constructor(){this.metadata=void 0,this.message=void 0,this.status=void 0}withOnReceiveMetadata(t){return this.metadata=t,this}withOnReceiveMessage(t){return this.message=t,this}withOnReceiveStatus(t){return this.status=t,this}build(){return{onReceiveMetadata:this.metadata,onReceiveMessage:this.message,onReceiveStatus:this.status}}};G.ListenerBuilder=$n;var Xn=class{constructor(){this.start=void 0,this.message=void 0,this.halfClose=void 0,this.cancel=void 0}withStart(t){return this.start=t,this}withSendMessage(t){return this.message=t,this}withHalfClose(t){return this.halfClose=t,this}withCancel(t){return this.cancel=t,this}build(){return{start:this.start,sendMessage:this.message,halfClose:this.halfClose,cancel:this.cancel}}};G.RequesterBuilder=Xn;var ro={onReceiveMetadata:(e,t)=>{t(e)},onReceiveMessage:(e,t)=>{t(e)},onReceiveStatus:(e,t)=>{t(e)}},dt={start:(e,t,r)=>{r(e,t)},sendMessage:(e,t)=>{t(e)},halfClose:e=>{e()},cancel:e=>{e()}},Zn=class{constructor(t,r){var o,n,s,i;this.nextCall=t,this.processingMessage=!1,this.pendingHalfClose=!1,r?this.requester={start:(o=r.start)!==null&&o!==void 0?o:dt.start,sendMessage:(n=r.sendMessage)!==null&&n!==void 0?n:dt.sendMessage,halfClose:(s=r.halfClose)!==null&&s!==void 0?s:dt.halfClose,cancel:(i=r.cancel)!==null&&i!==void 0?i:dt.cancel}:this.requester=dt}cancelWithStatus(t,r){this.requester.cancel(()=>{this.nextCall.cancelWithStatus(t,r)})}getPeer(){return this.nextCall.getPeer()}start(t,r){var o,n,s,i,a,g;let u={onReceiveMetadata:(n=(o=r==null?void 0:r.onReceiveMetadata)===null||o===void 0?void 0:o.bind(r))!==null&&n!==void 0?n:d=>{},onReceiveMessage:(i=(s=r==null?void 0:r.onReceiveMessage)===null||s===void 0?void 0:s.bind(r))!==null&&i!==void 0?i:d=>{},onReceiveStatus:(g=(a=r==null?void 0:r.onReceiveStatus)===null||a===void 0?void 0:a.bind(r))!==null&&g!==void 0?g:d=>{}};this.requester.start(t,u,(d,p)=>{var c,h,f;let m;if(Yn.isInterceptingListener(p))m=p;else{let T={onReceiveMetadata:(c=p.onReceiveMetadata)!==null&&c!==void 0?c:ro.onReceiveMetadata,onReceiveMessage:(h=p.onReceiveMessage)!==null&&h!==void 0?h:ro.onReceiveMessage,onReceiveStatus:(f=p.onReceiveStatus)!==null&&f!==void 0?f:ro.onReceiveStatus};m=new Yn.InterceptingListenerImpl(T,u)}this.nextCall.start(d,m)})}sendMessageWithContext(t,r){this.processingMessage=!0,this.requester.sendMessage(r,o=>{this.processingMessage=!1,this.nextCall.sendMessageWithContext(t,o),this.pendingHalfClose&&this.nextCall.halfClose()})}sendMessage(t){this.sendMessageWithContext({},t)}startRead(){this.nextCall.startRead()}halfClose(){this.requester.halfClose(()=>{this.processingMessage?this.pendingHalfClose=!0:this.nextCall.halfClose()})}setCredentials(t){this.nextCall.setCredentials(t)}};G.InterceptingCall=Zn;function Vg(e,t,r){var o,n;let s=(o=r.deadline)!==null&&o!==void 0?o:1/0,i=r.host,a=(n=r.parent)!==null&&n!==void 0?n:null,g=r.propagate_flags,u=r.credentials,d=e.createCall(t,s,i,a,g);return u&&d.setCredentials(u),d}var oo=class{constructor(t,r){this.call=t,this.methodDefinition=r}cancelWithStatus(t,r){this.call.cancelWithStatus(t,r)}getPeer(){return this.call.getPeer()}setCredentials(t){this.call.setCredentials(t)}sendMessageWithContext(t,r){let o;try{o=this.methodDefinition.requestSerialize(r)}catch(n){this.call.cancelWithStatus(Kn.Status.INTERNAL,`Request message serialization failure: ${n.message}`);return}this.call.sendMessageWithContext(t,o)}sendMessage(t){this.sendMessageWithContext({},t)}start(t,r){let o=null;this.call.start(t,{onReceiveMetadata:n=>{var s;(s=r==null?void 0:r.onReceiveMetadata)===null||s===void 0||s.call(r,n)},onReceiveMessage:n=>{var s;let i;try{i=this.methodDefinition.responseDeserialize(n)}catch(a){o={code:Kn.Status.INTERNAL,details:`Response message parsing error: ${a.message}`,metadata:new Hg.Metadata},this.call.cancelWithStatus(o.code,o.details);return}(s=r==null?void 0:r.onReceiveMessage)===null||s===void 0||s.call(r,i)},onReceiveStatus:n=>{var s,i;o?(s=r==null?void 0:r.onReceiveStatus)===null||s===void 0||s.call(r,o):(i=r==null?void 0:r.onReceiveStatus)===null||i===void 0||i.call(r,n)}})}startRead(){this.call.startRead()}halfClose(){this.call.halfClose()}},Qn=class extends oo{constructor(t,r){super(t,r)}start(t,r){var o,n;let s=!1,i={onReceiveMetadata:(n=(o=r==null?void 0:r.onReceiveMetadata)===null||o===void 0?void 0:o.bind(r))!==null&&n!==void 0?n:a=>{},onReceiveMessage:a=>{var g;s=!0,(g=r==null?void 0:r.onReceiveMessage)===null||g===void 0||g.call(r,a)},onReceiveStatus:a=>{var g,u;s||(g=r==null?void 0:r.onReceiveMessage)===null||g===void 0||g.call(r,null),(u=r==null?void 0:r.onReceiveStatus)===null||u===void 0||u.call(r,a)}};super.start(t,i),this.call.startRead()}},Jn=class extends oo{};function Gg(e,t,r){let o=Vg(e,r.path,t);return r.responseStream?new Jn(o,r):new Qn(o,r)}function qg(e,t,r,o){if(e.clientInterceptors.length>0&&e.clientInterceptorProviders.length>0)throw new Be("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(e.callInterceptors.length>0&&e.callInterceptorProviders.length>0)throw new Be("Both interceptors and interceptor_providers were passed as call options. Only one of these is allowed.");let n=[];e.callInterceptors.length>0||e.callInterceptorProviders.length>0?n=[].concat(e.callInterceptors,e.callInterceptorProviders.map(a=>a(t))).filter(a=>a):n=[].concat(e.clientInterceptors,e.clientInterceptorProviders.map(a=>a(t))).filter(a=>a);let s=Object.assign({},r,{method_definition:t});return n.reduceRight((a,g)=>u=>g(u,a),a=>Gg(o,a,t))(s)}G.getInterceptingCall=qg});var io=y(tr=>{"use strict";Object.defineProperty(tr,"__esModule",{value:!0});tr.Client=void 0;var ce=zn(),es=le(),Fe=R(),ke=W(),er=no(),X=Symbol(),xe=Symbol(),We=Symbol(),oe=Symbol();function so(e){return typeof e=="function"}var ts=class{constructor(t,r,o={}){var n,s;if(o=Object.assign({},o),this[xe]=(n=o.interceptors)!==null&&n!==void 0?n:[],delete o.interceptors,this[We]=(s=o.interceptor_providers)!==null&&s!==void 0?s:[],delete o.interceptor_providers,this[xe].length>0&&this[We].length>0)throw new Error("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(this[oe]=o.callInvocationTransformer,delete o.callInvocationTransformer,o.channelOverride)this[X]=o.channelOverride;else if(o.channelFactoryOverride){let i=o.channelFactoryOverride;delete o.channelFactoryOverride,this[X]=i(t,r,o)}else this[X]=new es.ChannelImplementation(t,r,o)}close(){this[X].close()}getChannel(){return this[X]}waitForReady(t,r){let o=n=>{if(n){r(new Error("Failed to connect before the deadline"));return}let s;try{s=this[X].getConnectivityState(!0)}catch(i){r(new Error("The channel has been closed"));return}if(s===es.ConnectivityState.READY)r();else try{this[X].watchConnectivityState(s,t,o)}catch(i){r(new Error("The channel has been closed"))}};setImmediate(o)}checkOptionalUnaryResponseArguments(t,r,o){if(so(t))return{metadata:new ke.Metadata,options:{},callback:t};if(so(r))return t instanceof ke.Metadata?{metadata:t,options:{},callback:r}:{metadata:new ke.Metadata,options:t,callback:r};if(!(t instanceof ke.Metadata&&r instanceof Object&&so(o)))throw new Error("Incorrect arguments passed");return{metadata:t,options:r,callback:o}}makeUnaryRequest(t,r,o,n,s,i,a){var g,u;let d=this.checkOptionalUnaryResponseArguments(s,i,a),p={path:t,requestStream:!1,responseStream:!1,requestSerialize:r,responseDeserialize:o},c={argument:n,metadata:d.metadata,call:new ce.ClientUnaryCallImpl,channel:this[X],methodDefinition:p,callOptions:d.options,callback:d.callback};this[oe]&&(c=this[oe](c));let h=c.call,f={clientInterceptors:this[xe],clientInterceptorProviders:this[We],callInterceptors:(g=c.callOptions.interceptors)!==null&&g!==void 0?g:[],callInterceptorProviders:(u=c.callOptions.interceptor_providers)!==null&&u!==void 0?u:[]},m=er.getInterceptingCall(f,c.methodDefinition,c.callOptions,c.channel);h.call=m,c.callOptions.credentials&&m.setCredentials(c.callOptions.credentials);let T=null,v=!1;return m.start(c.metadata,{onReceiveMetadata:x=>{h.emit("metadata",x)},onReceiveMessage(x){T!==null&&m.cancelWithStatus(Fe.Status.INTERNAL,"Too many responses received"),T=x},onReceiveStatus(x){v||(v=!0,x.code===Fe.Status.OK?c.callback(null,T):c.callback(ce.callErrorFromStatus(x)),h.emit("status",x))}}),m.sendMessage(n),m.halfClose(),h}makeClientStreamRequest(t,r,o,n,s,i){var a,g;let u=this.checkOptionalUnaryResponseArguments(n,s,i),d={path:t,requestStream:!0,responseStream:!1,requestSerialize:r,responseDeserialize:o},p={metadata:u.metadata,call:new ce.ClientWritableStreamImpl(r),channel:this[X],methodDefinition:d,callOptions:u.options,callback:u.callback};this[oe]&&(p=this[oe](p));let c=p.call,h={clientInterceptors:this[xe],clientInterceptorProviders:this[We],callInterceptors:(a=p.callOptions.interceptors)!==null&&a!==void 0?a:[],callInterceptorProviders:(g=p.callOptions.interceptor_providers)!==null&&g!==void 0?g:[]},f=er.getInterceptingCall(h,p.methodDefinition,p.callOptions,p.channel);c.call=f,p.callOptions.credentials&&f.setCredentials(p.callOptions.credentials);let m=null,T=!1;return f.start(p.metadata,{onReceiveMetadata:v=>{c.emit("metadata",v)},onReceiveMessage(v){m!==null&&f.cancelWithStatus(Fe.Status.INTERNAL,"Too many responses received"),m=v},onReceiveStatus(v){T||(T=!0,v.code===Fe.Status.OK?p.callback(null,m):p.callback(ce.callErrorFromStatus(v)),c.emit("status",v))}}),c}checkMetadataAndOptions(t,r){let o,n;return t instanceof ke.Metadata?(o=t,r?n=r:n={}):(t?n=t:n={},o=new ke.Metadata),{metadata:o,options:n}}makeServerStreamRequest(t,r,o,n,s,i){var a,g;let u=this.checkMetadataAndOptions(s,i),d={path:t,requestStream:!1,responseStream:!0,requestSerialize:r,responseDeserialize:o},p={argument:n,metadata:u.metadata,call:new ce.ClientReadableStreamImpl(o),channel:this[X],methodDefinition:d,callOptions:u.options};this[oe]&&(p=this[oe](p));let c=p.call,h={clientInterceptors:this[xe],clientInterceptorProviders:this[We],callInterceptors:(a=p.callOptions.interceptors)!==null&&a!==void 0?a:[],callInterceptorProviders:(g=p.callOptions.interceptor_providers)!==null&&g!==void 0?g:[]},f=er.getInterceptingCall(h,p.methodDefinition,p.callOptions,p.channel);c.call=f,p.callOptions.credentials&&f.setCredentials(p.callOptions.credentials);let m=!1;return f.start(p.metadata,{onReceiveMetadata(T){c.emit("metadata",T)},onReceiveMessage(T){c.push(T)},onReceiveStatus(T){m||(m=!0,c.push(null),T.code!==Fe.Status.OK&&c.emit("error",ce.callErrorFromStatus(T)),c.emit("status",T))}}),f.sendMessage(n),f.halfClose(),c}makeBidiStreamRequest(t,r,o,n,s){var i,a;let g=this.checkMetadataAndOptions(n,s),u={path:t,requestStream:!0,responseStream:!0,requestSerialize:r,responseDeserialize:o},d={metadata:g.metadata,call:new ce.ClientDuplexStreamImpl(r,o),channel:this[X],methodDefinition:u,callOptions:g.options};this[oe]&&(d=this[oe](d));let p=d.call,c={clientInterceptors:this[xe],clientInterceptorProviders:this[We],callInterceptors:(i=d.callOptions.interceptors)!==null&&i!==void 0?i:[],callInterceptorProviders:(a=d.callOptions.interceptor_providers)!==null&&a!==void 0?a:[]},h=er.getInterceptingCall(c,d.methodDefinition,d.callOptions,d.channel);p.call=h,d.callOptions.credentials&&h.setCredentials(d.callOptions.credentials);let f=!1;return h.start(d.metadata,{onReceiveMetadata(m){p.emit("metadata",m)},onReceiveMessage(m){p.push(m)},onReceiveStatus(m){f||(f=!0,p.push(null),m.code!==Fe.Status.OK&&p.emit("error",ce.callErrorFromStatus(m)),p.emit("status",m))}}),p}};tr.Client=ts});var os=y(He=>{"use strict";Object.defineProperty(He,"__esModule",{value:!0});He.loadPackageDefinition=He.makeClientConstructor=void 0;var ht=io(),zg={unary:ht.Client.prototype.makeUnaryRequest,server_stream:ht.Client.prototype.makeServerStreamRequest,client_stream:ht.Client.prototype.makeClientStreamRequest,bidi:ht.Client.prototype.makeBidiStreamRequest};function ao(e){return["__proto__","prototype","constructor"].includes(e)}function rs(e,t,r){r||(r={});class o extends ht.Client{}return Object.keys(e).forEach(n=>{if(ao(n))return;let s=e[n],i;if(typeof n=="string"&&n.charAt(0)==="$")throw new Error("Method names cannot start with $");s.requestStream?s.responseStream?i="bidi":i="client_stream":s.responseStream?i="server_stream":i="unary";let a=s.requestSerialize,g=s.responseDeserialize,u=Yg(zg[i],s.path,a,g);o.prototype[n]=u,Object.assign(o.prototype[n],s),s.originalName&&!ao(s.originalName)&&(o.prototype[s.originalName]=o.prototype[n])}),o.service=e,o}He.makeClientConstructor=rs;function Yg(e,t,r,o){return function(...n){return e.call(this,t,r,o,...n)}}function Kg(e){return"format"in e}function $g(e){let t={};for(let r in e)if(Object.prototype.hasOwnProperty.call(e,r)){let o=e[r],n=r.split(".");if(n.some(a=>ao(a)))continue;let s=n[n.length-1],i=t;for(let a of n.slice(0,-1))i[a]||(i[a]={}),i=i[a];Kg(o)?i[s]=o:i[s]=rs(o,s,{})}return t}He.loadPackageDefinition=$g});var ls=y(q=>{"use strict";Object.defineProperty(q,"__esModule",{value:!0});q.Http2ServerCallStream=q.ServerDuplexStreamImpl=q.ServerWritableStreamImpl=q.ServerReadableStreamImpl=q.ServerUnaryCallImpl=void 0;var ns=require("events"),Ve=require("http2"),go=require("stream"),O=R(),ft=W(),Xg=Or(),Zg=N(),Qg="server_call";function ss(e){Zg.trace(O.LogVerbosity.DEBUG,Qg,e)}var Jg="grpc-accept-encoding",el="grpc-encoding",tl="grpc-message",rl="grpc-status",is="grpc-timeout",ol=/(\d{1,8})\s*([HMSmun])/,nl={H:36e5,M:6e4,S:1e3,m:1,u:.001,n:1e-6},sl={[Jg]:"identity",[el]:"identity",[Ve.constants.HTTP2_HEADER_STATUS]:Ve.constants.HTTP_STATUS_OK,[Ve.constants.HTTP2_HEADER_CONTENT_TYPE]:"application/grpc+proto"},il={waitForTrailers:!0},as=class extends ns.EventEmitter{constructor(t,r,o){super();this.call=t,this.metadata=r,this.request=o,this.cancelled=!1,this.call.setupSurfaceCall(this)}getPeer(){return this.call.getPeer()}sendMetadata(t){this.call.sendMetadata(t)}getDeadline(){return this.call.getDeadline()}};q.ServerUnaryCallImpl=as;var lo=class extends go.Readable{constructor(t,r,o){super({objectMode:!0});this.call=t,this.metadata=r,this.deserialize=o,this.cancelled=!1,this.call.setupSurfaceCall(this),this.call.setupReadable(this)}_read(t){!this.call.consumeUnpushedMessages(this)||this.call.resume()}getPeer(){return this.call.getPeer()}sendMetadata(t){this.call.sendMetadata(t)}getDeadline(){return this.call.getDeadline()}};q.ServerReadableStreamImpl=lo;var mt=class extends go.Writable{constructor(t,r,o,n){super({objectMode:!0});this.call=t,this.metadata=r,this.serialize=o,this.request=n,this.cancelled=!1,this.trailingMetadata=new ft.Metadata,this.call.setupSurfaceCall(this),this.on("error",s=>{this.call.sendError(s),this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(t){this.call.sendMetadata(t)}getDeadline(){return this.call.getDeadline()}_write(t,r,o){try{let n=this.call.serializeMessage(t);if(!this.call.write(n)){this.call.once("drain",o);return}}catch(n){n.code=O.Status.INTERNAL,this.emit("error",n)}o()}_final(t){this.call.sendStatus({code:O.Status.OK,details:"OK",metadata:this.trailingMetadata}),t(null)}end(t){t&&(this.trailingMetadata=t),super.end()}};q.ServerWritableStreamImpl=mt;var Ge=class extends go.Duplex{constructor(t,r,o,n){super({objectMode:!0});this.call=t,this.metadata=r,this.serialize=o,this.deserialize=n,this.cancelled=!1,this.trailingMetadata=new ft.Metadata,this.call.setupSurfaceCall(this),this.call.setupReadable(this),this.on("error",s=>{this.call.sendError(s),this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(t){this.call.sendMetadata(t)}getDeadline(){return this.call.getDeadline()}end(t){t&&(this.trailingMetadata=t),super.end()}};q.ServerDuplexStreamImpl=Ge;Ge.prototype._read=lo.prototype._read;Ge.prototype._write=mt.prototype._write;Ge.prototype._final=mt.prototype._final;Ge.prototype.end=mt.prototype.end;var gs=class extends ns.EventEmitter{constructor(t,r,o){super();this.stream=t,this.handler=r,this.options=o,this.cancelled=!1,this.deadlineTimer=setTimeout(()=>{},0),this.deadline=1/0,this.wantTrailers=!1,this.metadataSent=!1,this.canPush=!1,this.isPushPending=!1,this.bufferedMessages=[],this.messagesToPush=[],this.maxSendMessageSize=O.DEFAULT_MAX_SEND_MESSAGE_LENGTH,this.maxReceiveMessageSize=O.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,this.stream.once("error",n=>{}),this.stream.once("close",()=>{var n;ss("Request to method "+((n=this.handler)===null||n===void 0?void 0:n.path)+" stream closed with rstCode "+this.stream.rstCode),this.cancelled=!0,this.emit("cancelled","cancelled")}),this.stream.on("drain",()=>{this.emit("drain")}),"grpc.max_send_message_length"in o&&(this.maxSendMessageSize=o["grpc.max_send_message_length"]),"grpc.max_receive_message_length"in o&&(this.maxReceiveMessageSize=o["grpc.max_receive_message_length"]),clearTimeout(this.deadlineTimer)}checkCancelled(){return this.stream.destroyed&&(this.cancelled=!0),this.cancelled}sendMetadata(t){if(this.checkCancelled()||this.metadataSent)return;this.metadataSent=!0;let r=t?t.toHttp2Headers():null,o=Object.assign({},sl,r);this.stream.respond(o,il)}receiveMetadata(t){let r=ft.Metadata.fromHttp2Headers(t),o=r.get(is);if(o.length>0){let n=o[0].toString().match(ol);if(n===null){let a=new Error("Invalid deadline");a.code=O.Status.OUT_OF_RANGE,this.sendError(a);return}let s=+n[1]*nl[n[2]]|0,i=new Date;this.deadline=i.setMilliseconds(i.getMilliseconds()+s),this.deadlineTimer=setTimeout(al,s,this),r.remove(is)}return r.remove(Ve.constants.HTTP2_HEADER_ACCEPT_ENCODING),r.remove(Ve.constants.HTTP2_HEADER_TE),r.remove(Ve.constants.HTTP2_HEADER_CONTENT_TYPE),r.remove("grpc-encoding"),r.remove("grpc-accept-encoding"),r}receiveUnaryMessage(){return new Promise((t,r)=>{let o=this.stream,n=[],s=0;o.on("data",i=>{n.push(i),s+=i.byteLength}),o.once("end",async()=>{try{let i=Buffer.concat(n,s);this.maxReceiveMessageSize!==-1&&i.length>this.maxReceiveMessageSize&&(this.sendError({code:O.Status.RESOURCE_EXHAUSTED,details:`Received message larger than max (${i.length} vs. ${this.maxReceiveMessageSize})`}),t()),t(this.deserializeMessage(i))}catch(i){i.code=O.Status.INTERNAL,this.sendError(i),t()}})})}serializeMessage(t){let r=this.handler.serialize(t),o=r.byteLength,n=Buffer.allocUnsafe(o+5);return n.writeUInt8(0,0),n.writeUInt32BE(o,1),r.copy(n,5),n}deserializeMessage(t){let r=t.slice(5);return this.handler.deserialize(r)}async sendUnaryMessage(t,r,o,n){if(!this.checkCancelled()){if(o||(o=new ft.Metadata),t){Object.prototype.hasOwnProperty.call(t,"metadata")||(t.metadata=o),this.sendError(t);return}try{let s=this.serializeMessage(r);this.write(s),this.sendStatus({code:O.Status.OK,details:"OK",metadata:o})}catch(s){s.code=O.Status.INTERNAL,this.sendError(s)}}}sendStatus(t){var r;this.checkCancelled()||(ss("Request to method "+((r=this.handler)===null||r===void 0?void 0:r.path)+" ended with status code: "+O.Status[t.code]+" details: "+t.details),clearTimeout(this.deadlineTimer),this.wantTrailers||(this.wantTrailers=!0,this.stream.once("wantTrailers",()=>{let o=Object.assign({[rl]:t.code,[tl]:encodeURI(t.details)},t.metadata.toHttp2Headers());this.stream.sendTrailers(o)}),this.sendMetadata(),this.stream.end()))}sendError(t){if(this.checkCancelled())return;let r={code:O.Status.UNKNOWN,details:"message"in t?t.message:"Unknown Error",metadata:"metadata"in t&&t.metadata!==void 0?t.metadata:new ft.Metadata};"code"in t&&typeof t.code=="number"&&Number.isInteger(t.code)&&(r.code=t.code,"details"in t&&typeof t.details=="string"&&(r.details=t.details)),this.sendStatus(r)}write(t){if(!this.checkCancelled()){if(this.maxSendMessageSize!==-1&&t.length>this.maxSendMessageSize){this.sendError({code:O.Status.RESOURCE_EXHAUSTED,details:`Sent message larger than max (${t.length} vs. ${this.maxSendMessageSize})`});return}return this.sendMetadata(),this.stream.write(t)}}resume(){this.stream.resume()}setupSurfaceCall(t){this.once("cancelled",r=>{t.cancelled=!0,t.emit("cancelled",r)})}setupReadable(t){let r=new Xg.StreamDecoder;this.stream.on("data",async o=>{let n=r.write(o);for(let s of n){if(this.maxReceiveMessageSize!==-1&&s.length>this.maxReceiveMessageSize){this.sendError({code:O.Status.RESOURCE_EXHAUSTED,details:`Received message larger than max (${s.length} vs. ${this.maxReceiveMessageSize})`});return}this.pushOrBufferMessage(t,s)}}),this.stream.once("end",()=>{this.pushOrBufferMessage(t,null)})}consumeUnpushedMessages(t){for(this.canPush=!0;this.messagesToPush.length>0;){let r=this.messagesToPush.shift(),o=t.push(r);if(r===null||o===!1){this.canPush=!1;break}}return this.canPush}pushOrBufferMessage(t,r){this.isPushPending?this.bufferedMessages.push(r):this.pushMessage(t,r)}async pushMessage(t,r){if(r===null){this.canPush?t.push(null):this.messagesToPush.push(null);return}this.isPushPending=!0;try{let o=await this.deserializeMessage(r);this.canPush?t.push(o)||(this.canPush=!1,this.stream.pause()):this.messagesToPush.push(o)}catch(o){this.bufferedMessages.length=0,"code"in o&&typeof o.code=="number"&&Number.isInteger(o.code)&&o.code>=O.Status.OK&&o.code<=O.Status.UNAUTHENTICATED||(o.code=O.Status.INTERNAL),t.emit("error",o)}this.isPushPending=!1,this.bufferedMessages.length>0&&this.pushMessage(t,this.bufferedMessages.shift())}getPeer(){let t=this.stream.session.socket;return t.remoteAddress?t.remotePort?`${t.remoteAddress}:${t.remotePort}`:t.remoteAddress:"unknown"}getDeadline(){return this.deadline}};q.Http2ServerCallStream=gs;function al(e){let t=new Error("Deadline exceeded");t.code=O.Status.DEADLINE_EXCEEDED,e.sendError(t),e.cancelled=!0,e.emit("cancelled","deadline")}});var ds=y(sr=>{"use strict";Object.defineProperty(sr,"__esModule",{value:!0});sr.Server=void 0;var _e=require("http2"),qe=R(),gl=W(),ze=ls(),us=Y(),rr=N(),or=de(),ll=H(),ul="server";function nr(e){rr.trace(qe.LogVerbosity.DEBUG,ul,e)}function cl(){}function cs(e){return{code:qe.Status.UNIMPLEMENTED,details:`The server does not implement the method ${e}`,metadata:new gl.Metadata}}function pl(e,t){let r=cs(t);switch(e){case"unary":return(o,n)=>{n(r,null)};case"clientStream":return(o,n)=>{n(r,null)};case"serverStream":return o=>{o.emit("error",r)};case"bidi":return o=>{o.emit("error",r)};default:throw new Error(`Invalid handlerType ${e}`)}}var ps=class{constructor(t){this.http2ServerList=[],this.handlers=new Map,this.sessions=new Set,this.started=!1,this.options=t??{}}addProtoService(){throw new Error("Not implemented. Use addService() instead")}addService(t,r){if(t===null||typeof t!="object"||r===null||typeof r!="object")throw new Error("addService() requires two objects as arguments");let o=Object.keys(t);if(o.length===0)throw new Error("Cannot add an empty service to a server");o.forEach(n=>{let s=t[n],i;s.requestStream?s.responseStream?i="bidi":i="clientStream":s.responseStream?i="serverStream":i="unary";let a=r[n],g;if(a===void 0&&typeof s.originalName=="string"&&(a=r[s.originalName]),a!==void 0?g=a.bind(r):g=pl(i,n),this.register(s.path,g,s.responseSerialize,s.requestDeserialize,i)===!1)throw new Error(`Method handler for ${s.path} already provided.`)})}removeService(t){if(t===null||typeof t!="object")throw new Error("removeService() requires object as argument");Object.keys(t).forEach(o=>{let n=t[o];this.unregister(n.path)})}bind(t,r){throw new Error("Not implemented. Use bindAsync() instead")}bindAsync(t,r,o){if(this.started===!0)throw new Error("server is already started");if(typeof t!="string")throw new TypeError("port must be a string");if(r===null||typeof r!="object")throw new TypeError("creds must be an object");if(typeof o!="function")throw new TypeError("callback must be a function");let n=ll.parseUri(t);if(n===null)throw new Error(`Could not parse port "${t}"`);let s=us.mapUriDefaultScheme(n);if(s===null)throw new Error(`Could not get a default scheme for port "${t}"`);let i={maxSendHeaderBlockLength:Number.MAX_SAFE_INTEGER};"grpc-node.max_session_memory"in this.options&&(i.maxSessionMemory=this.options["grpc-node.max_session_memory"]),"grpc.max_concurrent_streams"in this.options&&(i.settings={maxConcurrentStreams:this.options["grpc.max_concurrent_streams"]});let a=()=>{let c;if(r._isSecure()){let h=Object.assign(i,r._getSettings());c=_e.createSecureServer(h)}else c=_e.createServer(i);return c.setTimeout(0,cl),this._setupHandlers(c),c},g=(c,h,f)=>c.length===0?Promise.resolve({port:h,count:f}):Promise.all(c.map(m=>{nr("Attempting to bind "+or.subchannelAddressToString(m));let T;or.isTcpSubchannelAddress(m)?T={host:m.host,port:h}:T=m;let v=a();return new Promise((x,Kl)=>{function Ro(St){x(St)}v.once("error",Ro),v.listen(T,()=>{nr("Successfully bound "+or.subchannelAddressToString(m)),this.http2ServerList.push(v);let St=v.address();typeof St=="string"?x(h):x(St.port),v.removeListener("error",Ro)})})})).then(m=>{let T=0;for(let v of m)if(typeof v=="number"&&(T+=1,v!==h))throw new Error("Invalid state: multiple port numbers added from single address");return{port:h,count:T+f}}),u=c=>{if(c.length===0)return Promise.resolve({port:0,count:0});let h=c[0],f=a();return new Promise((m,T)=>{function v(x){m(u(c.slice(1)))}f.once("error",v),f.listen(h,()=>{this.http2ServerList.push(f),m(g(c.slice(1),f.address().port,1)),f.removeListener("error",v)})})},d={onSuccessfulResolution:(c,h,f)=>{if(d.onSuccessfulResolution=()=>{},c.length===0){o(new Error(`No addresses resolved for port ${t}`),0);return}let m;or.isTcpSubchannelAddress(c[0])?c[0].port===0?m=u(c):m=g(c,c[0].port,0):m=g(c,1,0),m.then(T=>{if(T.count===0){let v=`No address added out of total ${c.length} resolved`;rr.log(qe.LogVerbosity.ERROR,v),o(new Error(v),0)}else T.count<c.length&&rr.log(qe.LogVerbosity.INFO,`WARNING Only ${T.count} addresses added out of total ${c.length} resolved`),o(null,T.port)},T=>{let v=`No address added out of total ${c.length} resolved`;rr.log(qe.LogVerbosity.ERROR,v),o(new Error(v),0)})},onError:c=>{o(new Error(c.details),0)}};us.createResolver(s,d,this.options).updateResolution()}forceShutdown(){for(let t of this.http2ServerList)t.listening&&t.close();this.started=!1,this.sessions.forEach(t=>{t.destroy(_e.constants.NGHTTP2_CANCEL)}),this.sessions.clear()}register(t,r,o,n,s){return this.handlers.has(t)?!1:(this.handlers.set(t,{func:r,serialize:o,deserialize:n,type:s,path:t}),!0)}unregister(t){return this.handlers.delete(t)}start(){if(this.http2ServerList.length===0||this.http2ServerList.every(t=>t.listening!==!0))throw new Error("server must be bound in order to start");if(this.started===!0)throw new Error("server is already started");this.started=!0}tryShutdown(t){let r=0;function o(){r--,r===0&&t()}this.started=!1;for(let n of this.http2ServerList)n.listening&&(r++,n.close(o));this.sessions.forEach(n=>{n.closed||(r+=1,n.close(o))}),r===0&&t()}addHttp2Port(){throw new Error("Not yet implemented")}_setupHandlers(t){t!==null&&(t.on("stream",(r,o)=>{let n=o[_e.constants.HTTP2_HEADER_CONTENT_TYPE];if(typeof n!="string"||!n.startsWith("application/grpc")){r.respond({[_e.constants.HTTP2_HEADER_STATUS]:_e.constants.HTTP_STATUS_UNSUPPORTED_MEDIA_TYPE},{endStream:!0});return}try{let s=o[_e.constants.HTTP2_HEADER_PATH],i=t.address(),a="null";i&&(typeof i=="string"?a=i:a=i.address+":"+i.port),nr("Received call to method "+s+" at address "+a);let g=this.handlers.get(s);if(g===void 0)throw nr("No handler registered for method "+s+". Sending UNIMPLEMENTED status."),cs(s);let u=new ze.Http2ServerCallStream(r,g,this.options),d=u.receiveMetadata(o);switch(g.type){case"unary":dl(u,g,d);break;case"clientStream":hl(u,g,d);break;case"serverStream":fl(u,g,d);break;case"bidi":ml(u,g,d);break;default:throw new Error(`Unknown handler type: ${g.type}`)}}catch(s){let i=new ze.Http2ServerCallStream(r,null,this.options);s.code===void 0&&(s.code=qe.Status.INTERNAL),i.sendError(s)}}),t.on("session",r=>{if(!this.started){r.destroy();return}this.sessions.add(r),r.on("close",()=>{this.sessions.delete(r)})}))}};sr.Server=ps;async function dl(e,t,r){let o=await e.receiveUnaryMessage();if(o===void 0||e.cancelled)return;let n=new ze.ServerUnaryCallImpl(e,r,o);t.func(n,(s,i,a,g)=>{e.sendUnaryMessage(s,i,a,g)})}function hl(e,t,r){let o=new ze.ServerReadableStreamImpl(e,r,t.deserialize);function n(s,i,a,g){o.destroy(),e.sendUnaryMessage(s,i,a,g)}e.cancelled||(o.on("error",n),t.func(o,n))}async function fl(e,t,r){let o=await e.receiveUnaryMessage();if(o===void 0||e.cancelled)return;let n=new ze.ServerWritableStreamImpl(e,r,t.serialize,o);t.func(n)}function ml(e,t,r){let o=new ze.ServerDuplexStreamImpl(e,r,t.serialize,t.deserialize);e.cancelled||t.func(o)}});var _s=y(ar=>{"use strict";Object.defineProperty(ar,"__esModule",{value:!0});ar.ServerCredentials=void 0;var hs=Ir(),ir=class{static createInsecure(){return new fs}static createSsl(t,r,o=!1){if(t!==null&&!Buffer.isBuffer(t))throw new TypeError("rootCerts must be null or a Buffer");if(!Array.isArray(r))throw new TypeError("keyCertPairs must be an array");if(typeof o!="boolean")throw new TypeError("checkClientCertificate must be a boolean");let n=[],s=[];for(let i=0;i<r.length;i++){let a=r[i];if(a===null||typeof a!="object")throw new TypeError(`keyCertPair[${i}] must be an object`);if(!Buffer.isBuffer(a.private_key))throw new TypeError(`keyCertPair[${i}].private_key must be a Buffer`);if(!Buffer.isBuffer(a.cert_chain))throw new TypeError(`keyCertPair[${i}].cert_chain must be a Buffer`);n.push(a.cert_chain),s.push(a.private_key)}return new ms({ca:t||hs.getDefaultRootsData()||void 0,cert:n,key:s,requestCert:o,ciphers:hs.CIPHER_SUITES})}};ar.ServerCredentials=ir;var fs=class extends ir{_isSecure(){return!1}_getSettings(){return null}},ms=class extends ir{constructor(t){super();this.options=t}_isSecure(){return!0}_getSettings(){return this.options}}});var Ss=y(gr=>{"use strict";Object.defineProperty(gr,"__esModule",{value:!0});gr.StatusBuilder=void 0;var ys=class{constructor(){this.code=null,this.details=null,this.metadata=null}withCode(t){return this.code=t,this}withDetails(t){return this.details=t,this}withMetadata(t){return this.metadata=t,this}build(){let t={};return this.code!==null&&(t.code=this.code),this.details!==null&&(t.details=this.details),this.metadata!==null&&(t.metadata=this.metadata),t}};gr.StatusBuilder=ys});var Es=y(I=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});var _l=N();Object.defineProperty(I,"trace",{enumerable:!0,get:function(){return _l.trace}});var yl=Y();Object.defineProperty(I,"registerResolver",{enumerable:!0,get:function(){return yl.registerResolver}});var Sl=H();Object.defineProperty(I,"uriToString",{enumerable:!0,get:function(){return Sl.uriToString}});var El=jt();Object.defineProperty(I,"BackoffTimeout",{enumerable:!0,get:function(){return El.BackoffTimeout}});var uo=ie();Object.defineProperty(I,"registerLoadBalancerType",{enumerable:!0,get:function(){return uo.registerLoadBalancerType}});Object.defineProperty(I,"getFirstUsableConfig",{enumerable:!0,get:function(){return uo.getFirstUsableConfig}});Object.defineProperty(I,"validateLoadBalancingConfig",{enumerable:!0,get:function(){return uo.validateLoadBalancingConfig}});var Tl=de();Object.defineProperty(I,"subchannelAddressToString",{enumerable:!0,get:function(){return Tl.subchannelAddressToString}});var bl=$r();Object.defineProperty(I,"ChildLoadBalancerHandler",{enumerable:!0,get:function(){return bl.ChildLoadBalancerHandler}});var co=be();Object.defineProperty(I,"UnavailablePicker",{enumerable:!0,get:function(){return co.UnavailablePicker}});Object.defineProperty(I,"QueuePicker",{enumerable:!0,get:function(){return co.QueuePicker}});Object.defineProperty(I,"PickResultType",{enumerable:!0,get:function(){return co.PickResultType}});var vl=Me();Object.defineProperty(I,"BaseFilter",{enumerable:!0,get:function(){return vl.BaseFilter}});var Al=wt();Object.defineProperty(I,"FilterStackFactory",{enumerable:!0,get:function(){return Al.FilterStackFactory}})});var mo=y(_=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0});_.experimental=_.StatusBuilder=_.getClientChannel=_.ServerCredentials=_.Server=_.setLogVerbosity=_.setLogger=_.load=_.loadObject=_.CallCredentials=_.ChannelCredentials=_.waitForClientReady=_.closeClient=_.Channel=_.makeGenericClientConstructor=_.makeClientConstructor=_.loadPackageDefinition=_.Client=_.propagate=_.connectivityState=_.status=_.logVerbosity=_.Metadata=_.credentials=void 0;var lr=Cr();Object.defineProperty(_,"CallCredentials",{enumerable:!0,get:function(){return lr.CallCredentials}});var Ts=le();Object.defineProperty(_,"connectivityState",{enumerable:!0,get:function(){return Ts.ConnectivityState}});Object.defineProperty(_,"Channel",{enumerable:!0,get:function(){return Ts.ChannelImplementation}});var po=Dr();Object.defineProperty(_,"ChannelCredentials",{enumerable:!0,get:function(){return po.ChannelCredentials}});var bs=io();Object.defineProperty(_,"Client",{enumerable:!0,get:function(){return bs.Client}});var ho=R();Object.defineProperty(_,"logVerbosity",{enumerable:!0,get:function(){return ho.LogVerbosity}});Object.defineProperty(_,"status",{enumerable:!0,get:function(){return ho.Status}});Object.defineProperty(_,"propagate",{enumerable:!0,get:function(){return ho.Propagate}});var vs=N(),fo=os();Object.defineProperty(_,"loadPackageDefinition",{enumerable:!0,get:function(){return fo.loadPackageDefinition}});Object.defineProperty(_,"makeClientConstructor",{enumerable:!0,get:function(){return fo.makeClientConstructor}});Object.defineProperty(_,"makeGenericClientConstructor",{enumerable:!0,get:function(){return fo.makeClientConstructor}});var Cl=W();Object.defineProperty(_,"Metadata",{enumerable:!0,get:function(){return Cl.Metadata}});var Rl=ds();Object.defineProperty(_,"Server",{enumerable:!0,get:function(){return Rl.Server}});var Ol=_s();Object.defineProperty(_,"ServerCredentials",{enumerable:!0,get:function(){return Ol.ServerCredentials}});var wl=Ss();Object.defineProperty(_,"StatusBuilder",{enumerable:!0,get:function(){return wl.StatusBuilder}});_.credentials={combineChannelCredentials:(e,...t)=>t.reduce((r,o)=>r.compose(o),e),combineCallCredentials:(e,...t)=>t.reduce((r,o)=>r.compose(o),e),createInsecure:po.ChannelCredentials.createInsecure,createSsl:po.ChannelCredentials.createSsl,createFromMetadataGenerator:lr.CallCredentials.createFromMetadataGenerator,createFromGoogleCredential:lr.CallCredentials.createFromGoogleCredential,createEmpty:lr.CallCredentials.createEmpty};_.closeClient=e=>e.close();_.waitForClientReady=(e,t,r)=>e.waitForReady(t,r);_.loadObject=(e,t)=>{throw new Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")};_.load=(e,t,r)=>{throw new Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")};_.setLogger=e=>{vs.setLogger(e)};_.setLogVerbosity=e=>{vs.setLoggerVerbosity(e)};_.getClientChannel=e=>bs.Client.prototype.getChannel.call(e);var ur=no();Object.defineProperty(_,"ListenerBuilder",{enumerable:!0,get:function(){return ur.ListenerBuilder}});Object.defineProperty(_,"RequesterBuilder",{enumerable:!0,get:function(){return ur.RequesterBuilder}});Object.defineProperty(_,"InterceptingCall",{enumerable:!0,get:function(){return ur.InterceptingCall}});Object.defineProperty(_,"InterceptorConfigurationError",{enumerable:!0,get:function(){return ur.InterceptorConfigurationError}});var Nl=Es();_.experimental=Nl;var Il=Y(),Ml=ie();(()=>{Il.registerAll(),Ml.registerAll()})()});var _o=y((exports,module)=>{var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(e,t,r){e instanceof String&&(e=String(e));for(var o=e.length,n=0;n<o;n++){var s=e[n];if(t.call(r,s,n,e))return{i:n,v:s}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||typeof Object.defineProperties=="function"?Object.defineProperty:function(e,t,r){e!=Array.prototype&&e!=Object.prototype&&(e[t]=r.value)};$jscomp.getGlobal=function(e){return typeof window!="undefined"&&window===e?e:typeof global!="undefined"&&global!=null?global:e};$jscomp.global=$jscomp.getGlobal(exports);$jscomp.polyfill=function(e,t,r,o){if(t){for(r=$jscomp.global,e=e.split("."),o=0;o<e.length-1;o++){var n=e[o];n in r||(r[n]={}),r=r[n]}e=e[e.length-1],o=r[e],t=t(o),t!=o&&t!=null&&$jscomp.defineProperty(r,e,{configurable:!0,writable:!0,value:t})}};$jscomp.polyfill("Array.prototype.findIndex",function(e){return e||function(t,r){return $jscomp.findInternal(this,t,r).i}},"es6","es3");$jscomp.checkStringArgs=function(e,t,r){if(e==null)throw new TypeError("The 'this' value for String.prototype."+r+" must not be null or undefined");if(t instanceof RegExp)throw new TypeError("First argument to String.prototype."+r+" must not be a regular expression");return e+""};$jscomp.polyfill("String.prototype.endsWith",function(e){return e||function(t,r){var o=$jscomp.checkStringArgs(this,t,"endsWith");t+="",r===void 0&&(r=o.length),r=Math.max(0,Math.min(r|0,o.length));for(var n=t.length;0<n&&0<r;)if(o[--r]!=t[--n])return!1;return 0>=n}},"es6","es3");$jscomp.polyfill("Array.prototype.find",function(e){return e||function(t,r){return $jscomp.findInternal(this,t,r).v}},"es6","es3");$jscomp.polyfill("String.prototype.startsWith",function(e){return e||function(t,r){var o=$jscomp.checkStringArgs(this,t,"startsWith");t+="";var n=o.length,s=t.length;r=Math.max(0,Math.min(r|0,o.length));for(var i=0;i<s&&r<n;)if(o[r++]!=t[i++])return!1;return i>=s}},"es6","es3");$jscomp.polyfill("String.prototype.repeat",function(e){return e||function(t){var r=$jscomp.checkStringArgs(this,null,"repeat");if(0>t||1342177279<t)throw new RangeError("Invalid count value");t|=0;for(var o="";t;)t&1&&(o+=r),(t>>>=1)&&(r+=r);return o}},"es6","es3");var COMPILED=!0,goog=goog||{};goog.global=exports||self;goog.isDef=function(e){return e!==void 0};goog.isString=function(e){return typeof e=="string"};goog.isBoolean=function(e){return typeof e=="boolean"};goog.isNumber=function(e){return typeof e=="number"};goog.exportPath_=function(e,t,r){e=e.split("."),r=r||goog.global,e[0]in r||typeof r.execScript=="undefined"||r.execScript("var "+e[0]);for(var o;e.length&&(o=e.shift());)!e.length&&goog.isDef(t)?r[o]=t:r=r[o]&&r[o]!==Object.prototype[o]?r[o]:r[o]={}};goog.define=function(e,t){if(!COMPILED){var r=goog.global.CLOSURE_UNCOMPILED_DEFINES,o=goog.global.CLOSURE_DEFINES;r&&r.nodeType===void 0&&Object.prototype.hasOwnProperty.call(r,e)?t=r[e]:o&&o.nodeType===void 0&&Object.prototype.hasOwnProperty.call(o,e)&&(t=o[e])}return t};goog.FEATURESET_YEAR=2012;goog.DEBUG=!0;goog.LOCALE="en";goog.TRUSTED_SITE=!0;goog.STRICT_MODE_COMPATIBLE=!1;goog.DISALLOW_TEST_ONLY_CODE=COMPILED&&!goog.DEBUG;goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING=!1;goog.provide=function(e){if(goog.isInModuleLoader_())throw Error("goog.provide cannot be used within a module.");if(!COMPILED&&goog.isProvided_(e))throw Error('Namespace "'+e+'" already declared.');goog.constructNamespace_(e)};goog.constructNamespace_=function(e,t){if(!COMPILED){delete goog.implicitNamespaces_[e];for(var r=e;(r=r.substring(0,r.lastIndexOf(".")))&&!goog.getObjectByName(r);)goog.implicitNamespaces_[r]=!0}goog.exportPath_(e,t)};goog.getScriptNonce=function(e){return e&&e!=goog.global?goog.getScriptNonce_(e.document):(goog.cspNonce_===null&&(goog.cspNonce_=goog.getScriptNonce_(goog.global.document)),goog.cspNonce_)};goog.NONCE_PATTERN_=/^[\w+/_-]+[=]{0,2}$/;goog.cspNonce_=null;goog.getScriptNonce_=function(e){return(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&goog.NONCE_PATTERN_.test(e)?e:""};goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/;goog.module=function(e){if(!goog.isString(e)||!e||e.search(goog.VALID_MODULE_RE_)==-1)throw Error("Invalid module identifier");if(!goog.isInGoogModuleLoader_())throw Error("Module "+e+" has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");if(goog.moduleLoaderState_.moduleName=e,!COMPILED){if(goog.isProvided_(e))throw Error('Namespace "'+e+'" already declared.');delete goog.implicitNamespaces_[e]}};goog.module.get=function(e){return goog.module.getInternal_(e)};goog.module.getInternal_=function(e){if(!COMPILED){if(e in goog.loadedModules_)return goog.loadedModules_[e].exports;if(!goog.implicitNamespaces_[e])return e=goog.getObjectByName(e),e??null}return null};goog.ModuleType={ES6:"es6",GOOG:"goog"};goog.moduleLoaderState_=null;goog.isInModuleLoader_=function(){return goog.isInGoogModuleLoader_()||goog.isInEs6ModuleLoader_()};goog.isInGoogModuleLoader_=function(){return!!goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.GOOG};goog.isInEs6ModuleLoader_=function(){if(goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.ES6)return!0;var e=goog.global.$jscomp;return e?typeof e.getCurrentModulePath!="function"?!1:!!e.getCurrentModulePath():!1};goog.module.declareLegacyNamespace=function(){if(!COMPILED&&!goog.isInGoogModuleLoader_())throw Error("goog.module.declareLegacyNamespace must be called from within a goog.module");if(!COMPILED&&!goog.moduleLoaderState_.moduleName)throw Error("goog.module must be called prior to goog.module.declareLegacyNamespace.");goog.moduleLoaderState_.declareLegacyNamespace=!0};goog.declareModuleId=function(e){if(!COMPILED){if(!goog.isInEs6ModuleLoader_())throw Error("goog.declareModuleId may only be called from within an ES6 module");if(goog.moduleLoaderState_&&goog.moduleLoaderState_.moduleName)throw Error("goog.declareModuleId may only be called once per module.");if(e in goog.loadedModules_)throw Error('Module with namespace "'+e+'" already exists.')}if(goog.moduleLoaderState_)goog.moduleLoaderState_.moduleName=e;else{var t=goog.global.$jscomp;if(!t||typeof t.getCurrentModulePath!="function")throw Error('Module with namespace "'+e+'" has been loaded incorrectly.');t=t.require(t.getCurrentModulePath()),goog.loadedModules_[e]={exports:t,type:goog.ModuleType.ES6,moduleId:e}}};goog.setTestOnly=function(e){if(goog.DISALLOW_TEST_ONLY_CODE)throw e=e||"",Error("Importing test-only code into non-debug environment"+(e?": "+e:"."))};goog.forwardDeclare=function(e){};COMPILED||(goog.isProvided_=function(e){return e in goog.loadedModules_||!goog.implicitNamespaces_[e]&&goog.isDefAndNotNull(goog.getObjectByName(e))},goog.implicitNamespaces_={"goog.module":!0});goog.getObjectByName=function(e,t){e=e.split("."),t=t||goog.global;for(var r=0;r<e.length;r++)if(t=t[e[r]],!goog.isDefAndNotNull(t))return null;return t};goog.globalize=function(e,t){t=t||goog.global;for(var r in e)t[r]=e[r]};goog.addDependency=function(e,t,r,o){!COMPILED&&goog.DEPENDENCIES_ENABLED&&goog.debugLoader_.addDependency(e,t,r,o)};goog.ENABLE_DEBUG_LOADER=!0;goog.logToConsole_=function(e){goog.global.console&&goog.global.console.error(e)};goog.require=function(e){if(!COMPILED){if(goog.ENABLE_DEBUG_LOADER&&goog.debugLoader_.requested(e),goog.isProvided_(e)){if(goog.isInModuleLoader_())return goog.module.getInternal_(e)}else if(goog.ENABLE_DEBUG_LOADER){var t=goog.moduleLoaderState_;goog.moduleLoaderState_=null;try{goog.debugLoader_.load_(e)}finally{goog.moduleLoaderState_=t}}return null}};goog.requireType=function(e){return{}};goog.basePath="";goog.nullFunction=function(){};goog.abstractMethod=function(){throw Error("unimplemented abstract method")};goog.addSingletonGetter=function(e){e.instance_=void 0,e.getInstance=function(){return e.instance_?e.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=e),e.instance_=new e)}};goog.instantiatedSingletons_=[];goog.LOAD_MODULE_USING_EVAL=!0;goog.SEAL_MODULE_EXPORTS=goog.DEBUG;goog.loadedModules_={};goog.DEPENDENCIES_ENABLED=!COMPILED&&goog.ENABLE_DEBUG_LOADER;goog.TRANSPILE="detect";goog.ASSUME_ES_MODULES_TRANSPILED=!1;goog.TRANSPILE_TO_LANGUAGE="";goog.TRANSPILER="transpile.js";goog.hasBadLetScoping=null;goog.useSafari10Workaround=function(){if(goog.hasBadLetScoping==null){try{var a=!eval('"use strict";let x = 1; function f() { return typeof x; };f() == "number";')}catch(e){a=!1}goog.hasBadLetScoping=a}return goog.hasBadLetScoping};goog.workaroundSafari10EvalBug=function(e){return"(function(){"+e+`
;})();
`};goog.loadModule=function(e){var t=goog.moduleLoaderState_;try{if(goog.moduleLoaderState_={moduleName:"",declareLegacyNamespace:!1,type:goog.ModuleType.GOOG},goog.isFunction(e))var r=e.call(void 0,{});else if(goog.isString(e))goog.useSafari10Workaround()&&(e=goog.workaroundSafari10EvalBug(e)),r=goog.loadModuleFromSource_.call(void 0,e);else throw Error("Invalid module definition");var o=goog.moduleLoaderState_.moduleName;if(goog.isString(o)&&o)goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(o,r):goog.SEAL_MODULE_EXPORTS&&Object.seal&&typeof r=="object"&&r!=null&&Object.seal(r),goog.loadedModules_[o]={exports:r,type:goog.ModuleType.GOOG,moduleId:goog.moduleLoaderState_.moduleName};else throw Error('Invalid module name "'+o+'"')}finally{goog.moduleLoaderState_=t}};goog.loadModuleFromSource_=function(a){return eval(a),{}};goog.normalizePath_=function(e){e=e.split("/");for(var t=0;t<e.length;)e[t]=="."?e.splice(t,1):t&&e[t]==".."&&e[t-1]&&e[t-1]!=".."?e.splice(--t,2):t++;return e.join("/")};goog.loadFileSync_=function(e){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(e);try{var t=new goog.global.XMLHttpRequest;return t.open("get",e,!1),t.send(),t.status==0||t.status==200?t.responseText:null}catch(r){return null}};goog.transpile_=function(e,t,r){var o=goog.global.$jscomp;o||(goog.global.$jscomp=o={});var n=o.transpile;if(!n){var s=goog.basePath+goog.TRANSPILER,i=goog.loadFileSync_(s);if(i){if(function(){(0,eval)(i+`
//# sourceURL=`+s)}.call(goog.global),goog.global.$gwtExport&&goog.global.$gwtExport.$jscomp&&!goog.global.$gwtExport.$jscomp.transpile)throw Error('The transpiler did not properly export the "transpile" method. $gwtExport: '+JSON.stringify(goog.global.$gwtExport));goog.global.$jscomp.transpile=goog.global.$gwtExport.$jscomp.transpile,o=goog.global.$jscomp,n=o.transpile}}return n||(n=o.transpile=function(a,g){return goog.logToConsole_(g+" requires transpilation but no transpiler was found."),a}),n(e,t,r)};goog.typeOf=function(e){var t=typeof e;if(t=="object")if(e){if(e instanceof Array)return"array";if(e instanceof Object)return t;var r=Object.prototype.toString.call(e);if(r=="[object Window]")return"object";if(r=="[object Array]"||typeof e.length=="number"&&typeof e.splice!="undefined"&&typeof e.propertyIsEnumerable!="undefined"&&!e.propertyIsEnumerable("splice"))return"array";if(r=="[object Function]"||typeof e.call!="undefined"&&typeof e.propertyIsEnumerable!="undefined"&&!e.propertyIsEnumerable("call"))return"function"}else return"null";else if(t=="function"&&typeof e.call=="undefined")return"object";return t};goog.isNull=function(e){return e===null};goog.isDefAndNotNull=function(e){return e!=null};goog.isArray=function(e){return goog.typeOf(e)=="array"};goog.isArrayLike=function(e){var t=goog.typeOf(e);return t=="array"||t=="object"&&typeof e.length=="number"};goog.isDateLike=function(e){return goog.isObject(e)&&typeof e.getFullYear=="function"};goog.isFunction=function(e){return goog.typeOf(e)=="function"};goog.isObject=function(e){var t=typeof e;return t=="object"&&e!=null||t=="function"};goog.getUid=function(e){return e[goog.UID_PROPERTY_]||(e[goog.UID_PROPERTY_]=++goog.uidCounter_)};goog.hasUid=function(e){return!!e[goog.UID_PROPERTY_]};goog.removeUid=function(e){e!==null&&"removeAttribute"in e&&e.removeAttribute(goog.UID_PROPERTY_);try{delete e[goog.UID_PROPERTY_]}catch(t){}};goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0);goog.uidCounter_=0;goog.getHashCode=goog.getUid;goog.removeHashCode=goog.removeUid;goog.cloneObject=function(e){var t=goog.typeOf(e);if(t=="object"||t=="array"){if(typeof e.clone=="function")return e.clone();t=t=="array"?[]:{};for(var r in e)t[r]=goog.cloneObject(e[r]);return t}return e};goog.bindNative_=function(e,t,r){return e.call.apply(e.bind,arguments)};goog.bindJs_=function(e,t,r){if(!e)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,o),e.apply(t,n)}}return function(){return e.apply(t,arguments)}};goog.bind=function(e,t,r){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_,goog.bind.apply(null,arguments)};goog.partial=function(e,t){var r=Array.prototype.slice.call(arguments,1);return function(){var o=r.slice();return o.push.apply(o,arguments),e.apply(this,o)}};goog.mixin=function(e,t){for(var r in t)e[r]=t[r]};goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date};goog.globalEval=function(e){if(goog.global.execScript)goog.global.execScript(e,"JavaScript");else if(goog.global.eval){if(goog.evalWorksForGlobals_==null){try{goog.global.eval("var _evalTest_ = 1;")}catch(o){}if(typeof goog.global._evalTest_!="undefined"){try{delete goog.global._evalTest_}catch(o){}goog.evalWorksForGlobals_=!0}else goog.evalWorksForGlobals_=!1}if(goog.evalWorksForGlobals_)goog.global.eval(e);else{var t=goog.global.document,r=t.createElement("SCRIPT");r.type="text/javascript",r.defer=!1,r.appendChild(t.createTextNode(e)),t.head.appendChild(r),t.head.removeChild(r)}}else throw Error("goog.globalEval not available")};goog.evalWorksForGlobals_=null;goog.getCssName=function(e,t){if(String(e).charAt(0)==".")throw Error('className passed in goog.getCssName must not start with ".". You passed: '+e);var r=function(n){return goog.cssNameMapping_[n]||n},o=function(n){n=n.split("-");for(var s=[],i=0;i<n.length;i++)s.push(r(n[i]));return s.join("-")};return o=goog.cssNameMapping_?goog.cssNameMappingStyle_=="BY_WHOLE"?r:o:function(n){return n},e=t?e+"-"+o(t):o(e),goog.global.CLOSURE_CSS_NAME_MAP_FN?goog.global.CLOSURE_CSS_NAME_MAP_FN(e):e};goog.setCssNameMapping=function(e,t){goog.cssNameMapping_=e,goog.cssNameMappingStyle_=t};!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING&&(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING);goog.getMsg=function(e,t,r){return r&&r.html&&(e=e.replace(/</g,"&lt;")),t&&(e=e.replace(/\{\$([^}]+)}/g,function(o,n){return t!=null&&n in t?t[n]:o})),e};goog.getMsgWithFallback=function(e,t){return e};goog.exportSymbol=function(e,t,r){goog.exportPath_(e,t,r)};goog.exportProperty=function(e,t,r){e[t]=r};goog.inherits=function(e,t){function r(){}r.prototype=t.prototype,e.superClass_=t.prototype,e.prototype=new r,e.prototype.constructor=e,e.base=function(o,n,s){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(o,i)}};goog.base=function(e,t,r){var o=arguments.callee.caller;if(goog.STRICT_MODE_COMPATIBLE||goog.DEBUG&&!o)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(typeof o.superClass_!="undefined"){for(var n=Array(arguments.length-1),s=1;s<arguments.length;s++)n[s-1]=arguments[s];return o.superClass_.constructor.apply(e,n)}if(typeof t!="string"&&typeof t!="symbol")throw Error("method names provided to goog.base must be a string or a symbol");for(n=Array(arguments.length-2),s=2;s<arguments.length;s++)n[s-2]=arguments[s];s=!1;for(var i=e.constructor.prototype;i;i=Object.getPrototypeOf(i))if(i[t]===o)s=!0;else if(s)return i[t].apply(e,n);if(e[t]===o)return e.constructor.prototype[t].apply(e,n);throw Error("goog.base called from a method of one name to a method of a different name")};goog.scope=function(e){if(goog.isInModuleLoader_())throw Error("goog.scope is not supported within a module.");e.call(goog.global)};COMPILED||(goog.global.COMPILED=COMPILED);goog.defineClass=function(e,t){var r=t.constructor,o=t.statics;return r&&r!=Object.prototype.constructor||(r=function(){throw Error("cannot instantiate an interface (no constructor defined).")}),r=goog.defineClass.createSealingConstructor_(r,e),e&&goog.inherits(r,e),delete t.constructor,delete t.statics,goog.defineClass.applyProperties_(r.prototype,t),o!=null&&(o instanceof Function?o(r):goog.defineClass.applyProperties_(r,o)),r};goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG;goog.defineClass.createSealingConstructor_=function(e,t){if(!goog.defineClass.SEAL_CLASS_INSTANCES)return e;var r=!goog.defineClass.isUnsealable_(t),o=function(){var n=e.apply(this,arguments)||this;return n[goog.UID_PROPERTY_]=n[goog.UID_PROPERTY_],this.constructor===o&&r&&Object.seal instanceof Function&&Object.seal(n),n};return o};goog.defineClass.isUnsealable_=function(e){return e&&e.prototype&&e.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]};goog.defineClass.OBJECT_PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");goog.defineClass.applyProperties_=function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);for(var o=0;o<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;o++)r=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[o],Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])};goog.tagUnsealableClass=function(e){!COMPILED&&goog.defineClass.SEAL_CLASS_INSTANCES&&(e.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]=!0)};goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable";!COMPILED&&goog.DEPENDENCIES_ENABLED&&(goog.inHtmlDocument_=function(){var e=goog.global.document;return e!=null&&"write"in e},goog.isDocumentLoading_=function(){var e=goog.global.document;return e.attachEvent?e.readyState!="complete":e.readyState=="loading"},goog.findBasePath_=function(){if(goog.isDef(goog.global.CLOSURE_BASE_PATH)&&goog.isString(goog.global.CLOSURE_BASE_PATH))goog.basePath=goog.global.CLOSURE_BASE_PATH;else if(goog.inHtmlDocument_()){var e=goog.global.document,t=e.currentScript;for(e=t?[t]:e.getElementsByTagName("SCRIPT"),t=e.length-1;0<=t;--t){var r=e[t].src,o=r.lastIndexOf("?");if(o=o==-1?r.length:o,r.substr(o-7,7)=="base.js"){goog.basePath=r.substr(0,o-7);break}}}},goog.findBasePath_(),goog.Transpiler=function(){this.requiresTranspilation_=null,this.transpilationTarget_=goog.TRANSPILE_TO_LANGUAGE},goog.Transpiler.prototype.createRequiresTranspilation_=function(){function a(e,t){e?d[e]=!0:t()?(c=e,d[e]=!1):e=d[e]=!0}function b(a){try{return!!eval(a)}catch(e){return!1}}var c="es3",d={es3:!1},e=!1,f=goog.global.navigator&&goog.global.navigator.userAgent?goog.global.navigator.userAgent:"";return a("es5",function(){return b("[1,].length==1")}),a("es6",function(){return f.match(/Edge\/(\d+)(\.\d)*/i)?!1:b('(()=>{"use strict";class X{constructor(){if(new.target!=String)throw 1;this.x=42}}let q=Reflect.construct(X,[],String);if(q.x!=42||!(q instanceof String))throw 1;for(const a of[2,3]){if(a==2)continue;function f(z={a}){let a=0;return z.a}{function f(){return 0;}}return f()==3}})()')}),a("es7",function(){return b("2 ** 2 == 4")}),a("es8",function(){return b("async () => 1, true")}),a("es9",function(){return b("({...rest} = {}), true")}),a("es_next",function(){return!1}),{target:c,map:d}},goog.Transpiler.prototype.needsTranspile=function(e,t){if(goog.TRANSPILE=="always")return!0;if(goog.TRANSPILE=="never")return!1;if(!this.requiresTranspilation_){var r=this.createRequiresTranspilation_();this.requiresTranspilation_=r.map,this.transpilationTarget_=this.transpilationTarget_||r.target}if(e in this.requiresTranspilation_)return this.requiresTranspilation_[e]?!0:!(!goog.inHtmlDocument_()||t!="es6"||"noModule"in goog.global.document.createElement("script"));throw Error("Unknown language mode: "+e)},goog.Transpiler.prototype.transpile=function(e,t){return goog.transpile_(e,t,this.transpilationTarget_)},goog.transpiler_=new goog.Transpiler,goog.protectScriptTag_=function(e){return e.replace(/<\/(SCRIPT)/ig,"\\x3c/$1")},goog.DebugLoader_=function(){this.dependencies_={},this.idToPath_={},this.written_={},this.loadingDeps_=[],this.depsToLoad_=[],this.paused_=!1,this.factory_=new goog.DependencyFactory(goog.transpiler_),this.deferredCallbacks_={},this.deferredQueue_=[]},goog.DebugLoader_.prototype.bootstrap=function(e,t){function r(){o&&(goog.global.setTimeout(o,0),o=null)}var o=t;if(e.length){t=[];for(var n=0;n<e.length;n++){var s=this.getPathFromDeps_(e[n]);if(!s)throw Error("Unregonized namespace: "+e[n]);t.push(this.dependencies_[s])}s=goog.require;var i=0;for(n=0;n<e.length;n++)s(e[n]),t[n].onLoad(function(){++i==e.length&&r()})}else r()},goog.DebugLoader_.prototype.loadClosureDeps=function(){this.depsToLoad_.push(this.factory_.createDependency(goog.normalizePath_(goog.basePath+"deps.js"),"deps.js",[],[],{},!1)),this.loadDeps_()},goog.DebugLoader_.prototype.requested=function(e,t){(e=this.getPathFromDeps_(e))&&(t||this.areDepsLoaded_(this.dependencies_[e].requires))&&(t=this.deferredCallbacks_[e])&&(delete this.deferredCallbacks_[e],t())},goog.DebugLoader_.prototype.setDependencyFactory=function(e){this.factory_=e},goog.DebugLoader_.prototype.load_=function(e){if(this.getPathFromDeps_(e)){var t=this,r=[],o=function(n){var s=t.getPathFromDeps_(n);if(!s)throw Error("Bad dependency path or symbol: "+n);if(!t.written_[s]){for(t.written_[s]=!0,n=t.dependencies_[s],s=0;s<n.requires.length;s++)goog.isProvided_(n.requires[s])||o(n.requires[s]);r.push(n)}};o(e),e=!!this.depsToLoad_.length,this.depsToLoad_=this.depsToLoad_.concat(r),this.paused_||e||this.loadDeps_()}else throw e="goog.require could not find: "+e,goog.logToConsole_(e),Error(e)},goog.DebugLoader_.prototype.loadDeps_=function(){for(var e=this,t=this.paused_;this.depsToLoad_.length&&!t;)(function(){var r=!1,o=e.depsToLoad_.shift(),n=!1;e.loading_(o);var s={pause:function(){if(r)throw Error("Cannot call pause after the call to load.");t=!0},resume:function(){r?e.resume_():t=!1},loaded:function(){if(n)throw Error("Double call to loaded.");n=!0,e.loaded_(o)},pending:function(){for(var i=[],a=0;a<e.loadingDeps_.length;a++)i.push(e.loadingDeps_[a]);return i},setModuleState:function(i){goog.moduleLoaderState_={type:i,moduleName:"",declareLegacyNamespace:!1}},registerEs6ModuleExports:function(i,a,g){g&&(goog.loadedModules_[g]={exports:a,type:goog.ModuleType.ES6,moduleId:g||""})},registerGoogModuleExports:function(i,a){goog.loadedModules_[i]={exports:a,type:goog.ModuleType.GOOG,moduleId:i}},clearModuleState:function(){goog.moduleLoaderState_=null},defer:function(i){if(r)throw Error("Cannot register with defer after the call to load.");e.defer_(o,i)},areDepsLoaded:function(){return e.areDepsLoaded_(o.requires)}};try{o.load(s)}finally{r=!0}})();t&&this.pause_()},goog.DebugLoader_.prototype.pause_=function(){this.paused_=!0},goog.DebugLoader_.prototype.resume_=function(){this.paused_&&(this.paused_=!1,this.loadDeps_())},goog.DebugLoader_.prototype.loading_=function(e){this.loadingDeps_.push(e)},goog.DebugLoader_.prototype.loaded_=function(e){for(var t=0;t<this.loadingDeps_.length;t++)if(this.loadingDeps_[t]==e){this.loadingDeps_.splice(t,1);break}for(t=0;t<this.deferredQueue_.length;t++)if(this.deferredQueue_[t]==e.path){this.deferredQueue_.splice(t,1);break}if(this.loadingDeps_.length==this.deferredQueue_.length&&!this.depsToLoad_.length)for(;this.deferredQueue_.length;)this.requested(this.deferredQueue_.shift(),!0);e.loaded()},goog.DebugLoader_.prototype.areDepsLoaded_=function(e){for(var t=0;t<e.length;t++){var r=this.getPathFromDeps_(e[t]);if(!r||!(r in this.deferredCallbacks_||goog.isProvided_(e[t])))return!1}return!0},goog.DebugLoader_.prototype.getPathFromDeps_=function(e){return e in this.idToPath_?this.idToPath_[e]:e in this.dependencies_?e:null},goog.DebugLoader_.prototype.defer_=function(e,t){this.deferredCallbacks_[e.path]=t,this.deferredQueue_.push(e.path)},goog.LoadController=function(){},goog.LoadController.prototype.pause=function(){},goog.LoadController.prototype.resume=function(){},goog.LoadController.prototype.loaded=function(){},goog.LoadController.prototype.pending=function(){},goog.LoadController.prototype.registerEs6ModuleExports=function(e,t,r){},goog.LoadController.prototype.setModuleState=function(e){},goog.LoadController.prototype.clearModuleState=function(){},goog.LoadController.prototype.defer=function(e){},goog.LoadController.prototype.areDepsLoaded=function(){},goog.Dependency=function(e,t,r,o,n){this.path=e,this.relativePath=t,this.provides=r,this.requires=o,this.loadFlags=n,this.loaded_=!1,this.loadCallbacks_=[]},goog.Dependency.prototype.getPathName=function(){var e=this.path,t=e.indexOf("://");return 0<=t&&(e=e.substring(t+3),t=e.indexOf("/"),0<=t&&(e=e.substring(t+1))),e},goog.Dependency.prototype.onLoad=function(e){this.loaded_?e():this.loadCallbacks_.push(e)},goog.Dependency.prototype.loaded=function(){this.loaded_=!0;var e=this.loadCallbacks_;this.loadCallbacks_=[];for(var t=0;t<e.length;t++)e[t]()},goog.Dependency.defer_=!1,goog.Dependency.callbackMap_={},goog.Dependency.registerCallback_=function(e){var t=Math.random().toString(32);return goog.Dependency.callbackMap_[t]=e,t},goog.Dependency.unregisterCallback_=function(e){delete goog.Dependency.callbackMap_[e]},goog.Dependency.callback_=function(e,t){if(e in goog.Dependency.callbackMap_){for(var r=goog.Dependency.callbackMap_[e],o=[],n=1;n<arguments.length;n++)o.push(arguments[n]);r.apply(void 0,o)}else throw Error("Callback key "+e+" does not exist (was base.js loaded more than once?).")},goog.Dependency.prototype.load=function(e){if(goog.global.CLOSURE_IMPORT_SCRIPT)goog.global.CLOSURE_IMPORT_SCRIPT(this.path)?e.loaded():e.pause();else if(goog.inHtmlDocument_()){var t=goog.global.document;if(t.readyState=="complete"&&!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING){if(/\bdeps.js$/.test(this.path)){e.loaded();return}throw Error('Cannot write "'+this.path+'" after document load')}if(!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING&&goog.isDocumentLoading_()){var r=goog.Dependency.registerCallback_(function(s){goog.DebugLoader_.IS_OLD_IE_&&s.readyState!="complete"||(goog.Dependency.unregisterCallback_(r),e.loaded())}),o=!goog.DebugLoader_.IS_OLD_IE_&&goog.getScriptNonce()?' nonce="'+goog.getScriptNonce()+'"':"";o='<script src="'+this.path+'" '+(goog.DebugLoader_.IS_OLD_IE_?"onreadystatechange":"onload")+`="goog.Dependency.callback_('`+r+`', this)" type="text/javascript" `+(goog.Dependency.defer_?"defer":"")+o+"><\/script>",t.write(goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createHTML(o):o)}else{var n=t.createElement("script");n.defer=goog.Dependency.defer_,n.async=!1,n.type="text/javascript",(o=goog.getScriptNonce())&&n.setAttribute("nonce",o),goog.DebugLoader_.IS_OLD_IE_?(e.pause(),n.onreadystatechange=function(){(n.readyState=="loaded"||n.readyState=="complete")&&(e.loaded(),e.resume())}):n.onload=function(){n.onload=null,e.loaded()},n.src=goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createScriptURL(this.path):this.path,t.head.appendChild(n)}}else goog.logToConsole_("Cannot use default debug loader outside of HTML documents."),this.relativePath=="deps.js"?(goog.logToConsole_("Consider setting CLOSURE_IMPORT_SCRIPT before loading base.js, or setting CLOSURE_NO_DEPS to true."),e.loaded()):e.pause()},goog.Es6ModuleDependency=function(e,t,r,o,n){goog.Dependency.call(this,e,t,r,o,n)},goog.inherits(goog.Es6ModuleDependency,goog.Dependency),goog.Es6ModuleDependency.prototype.load=function(e){function t(u,d){u=d?'<script type="module" crossorigin>'+d+"<\/script>":'<script type="module" crossorigin src="'+u+'"><\/script>',o.write(goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createHTML(u):u)}function r(u,d){var p=o.createElement("script");p.defer=!0,p.async=!1,p.type="module",p.setAttribute("crossorigin",!0);var c=goog.getScriptNonce();c&&p.setAttribute("nonce",c),d?p.textContent=goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createScript(d):d:p.src=goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createScriptURL(u):u,o.head.appendChild(p)}if(goog.global.CLOSURE_IMPORT_SCRIPT)goog.global.CLOSURE_IMPORT_SCRIPT(this.path)?e.loaded():e.pause();else if(goog.inHtmlDocument_()){var o=goog.global.document,n=this;if(goog.isDocumentLoading_()){var s=t;goog.Dependency.defer_=!0}else s=r;var i=goog.Dependency.registerCallback_(function(){goog.Dependency.unregisterCallback_(i),e.setModuleState(goog.ModuleType.ES6)});s(void 0,'goog.Dependency.callback_("'+i+'")'),s(this.path,void 0);var a=goog.Dependency.registerCallback_(function(u){goog.Dependency.unregisterCallback_(a),e.registerEs6ModuleExports(n.path,u,goog.moduleLoaderState_.moduleName)});s(void 0,'import * as m from "'+this.path+'"; goog.Dependency.callback_("'+a+'", m)');var g=goog.Dependency.registerCallback_(function(){goog.Dependency.unregisterCallback_(g),e.clearModuleState(),e.loaded()});s(void 0,'goog.Dependency.callback_("'+g+'")')}else goog.logToConsole_("Cannot use default debug loader outside of HTML documents."),e.pause()},goog.TransformedDependency=function(e,t,r,o,n){goog.Dependency.call(this,e,t,r,o,n),this.contents_=null,this.lazyFetch_=!goog.inHtmlDocument_()||!("noModule"in goog.global.document.createElement("script"))},goog.inherits(goog.TransformedDependency,goog.Dependency),goog.TransformedDependency.prototype.load=function(e){function t(){n.contents_=goog.loadFileSync_(n.path),n.contents_&&(n.contents_=n.transform(n.contents_),n.contents_&&(n.contents_+=`
//# sourceURL=`+n.path))}function r(){if(n.lazyFetch_&&t(),n.contents_){s&&e.setModuleState(goog.ModuleType.ES6);try{var d=n.contents_;if(n.contents_=null,goog.globalEval(d),s)var p=goog.moduleLoaderState_.moduleName}finally{s&&e.clearModuleState()}s&&goog.global.$jscomp.require.ensure([n.getPathName()],function(){e.registerEs6ModuleExports(n.path,goog.global.$jscomp.require(n.getPathName()),p)}),e.loaded()}}function o(){var d=goog.global.document,p=goog.Dependency.registerCallback_(function(){goog.Dependency.unregisterCallback_(p),r()}),c='<script type="text/javascript">'+goog.protectScriptTag_('goog.Dependency.callback_("'+p+'");')+"<\/script>";d.write(goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createHTML(c):c)}var n=this;if(goog.global.CLOSURE_IMPORT_SCRIPT)t(),this.contents_&&goog.global.CLOSURE_IMPORT_SCRIPT("",this.contents_)?(this.contents_=null,e.loaded()):e.pause();else{var s=this.loadFlags.module==goog.ModuleType.ES6;this.lazyFetch_||t();var i=1<e.pending().length,a=i&&goog.DebugLoader_.IS_OLD_IE_;if(i=goog.Dependency.defer_&&(i||goog.isDocumentLoading_()),a||i)e.defer(function(){r()});else{var g=goog.global.document;if(a=goog.inHtmlDocument_()&&"ActiveXObject"in goog.global,s&&goog.inHtmlDocument_()&&goog.isDocumentLoading_()&&!a){goog.Dependency.defer_=!0,e.pause();var u=g.onreadystatechange;g.onreadystatechange=function(){g.readyState=="interactive"&&(g.onreadystatechange=u,r(),e.resume()),goog.isFunction(u)&&u.apply(void 0,arguments)}}else!goog.DebugLoader_.IS_OLD_IE_&&goog.inHtmlDocument_()&&goog.isDocumentLoading_()?o():r()}}},goog.TransformedDependency.prototype.transform=function(e){},goog.TranspiledDependency=function(e,t,r,o,n,s){goog.TransformedDependency.call(this,e,t,r,o,n),this.transpiler=s},goog.inherits(goog.TranspiledDependency,goog.TransformedDependency),goog.TranspiledDependency.prototype.transform=function(e){return this.transpiler.transpile(e,this.getPathName())},goog.PreTranspiledEs6ModuleDependency=function(e,t,r,o,n){goog.TransformedDependency.call(this,e,t,r,o,n)},goog.inherits(goog.PreTranspiledEs6ModuleDependency,goog.TransformedDependency),goog.PreTranspiledEs6ModuleDependency.prototype.transform=function(e){return e},goog.GoogModuleDependency=function(e,t,r,o,n,s,i){goog.TransformedDependency.call(this,e,t,r,o,n),this.needsTranspile_=s,this.transpiler_=i},goog.inherits(goog.GoogModuleDependency,goog.TransformedDependency),goog.GoogModuleDependency.prototype.transform=function(e){return this.needsTranspile_&&(e=this.transpiler_.transpile(e,this.getPathName())),goog.LOAD_MODULE_USING_EVAL&&goog.isDef(goog.global.JSON)?"goog.loadModule("+goog.global.JSON.stringify(e+`
//# sourceURL=`+this.path+`
`)+");":'goog.loadModule(function(exports) {"use strict";'+e+`
;return exports});
//# sourceURL=`+this.path+`
`},goog.DebugLoader_.IS_OLD_IE_=!(goog.global.atob||!goog.global.document||!goog.global.document.all),goog.DebugLoader_.prototype.addDependency=function(e,t,r,o){t=t||[],e=e.replace(/\\/g,"/");var n=goog.normalizePath_(goog.basePath+e);for(o&&typeof o!="boolean"||(o=o?{module:goog.ModuleType.GOOG}:{}),r=this.factory_.createDependency(n,e,t,r,o,goog.transpiler_.needsTranspile(o.lang||"es3",o.module)),this.dependencies_[n]=r,r=0;r<t.length;r++)this.idToPath_[t[r]]=n;this.idToPath_[e]=n},goog.DependencyFactory=function(e){this.transpiler=e},goog.DependencyFactory.prototype.createDependency=function(e,t,r,o,n,s){return n.module==goog.ModuleType.GOOG?new goog.GoogModuleDependency(e,t,r,o,n,s,this.transpiler):s?new goog.TranspiledDependency(e,t,r,o,n,this.transpiler):n.module==goog.ModuleType.ES6?goog.TRANSPILE=="never"&&goog.ASSUME_ES_MODULES_TRANSPILED?new goog.PreTranspiledEs6ModuleDependency(e,t,r,o,n):new goog.Es6ModuleDependency(e,t,r,o,n):new goog.Dependency(e,t,r,o,n)},goog.debugLoader_=new goog.DebugLoader_,goog.loadClosureDeps=function(){goog.debugLoader_.loadClosureDeps()},goog.setDependencyFactory=function(e){goog.debugLoader_.setDependencyFactory(e)},goog.global.CLOSURE_NO_DEPS||goog.debugLoader_.loadClosureDeps(),goog.bootstrap=function(e,t){goog.debugLoader_.bootstrap(e,t)});goog.TRUSTED_TYPES_POLICY_NAME="";goog.identity_=function(e){return e};goog.createTrustedTypesPolicy=function(e){var t=null;if(typeof TrustedTypes=="undefined"||!TrustedTypes.createPolicy)return t;try{t=TrustedTypes.createPolicy(e,{createHTML:goog.identity_,createScript:goog.identity_,createScriptURL:goog.identity_,createURL:goog.identity_})}catch(r){goog.logToConsole_(r.message)}return t};goog.TRUSTED_TYPES_POLICY_=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+"#base"):null;goog.object={};goog.object.is=function(e,t){return e===t?e!==0||1/e==1/t:e!==e&&t!==t};goog.object.forEach=function(e,t,r){for(var o in e)t.call(r,e[o],o,e)};goog.object.filter=function(e,t,r){var o={},n;for(n in e)t.call(r,e[n],n,e)&&(o[n]=e[n]);return o};goog.object.map=function(e,t,r){var o={},n;for(n in e)o[n]=t.call(r,e[n],n,e);return o};goog.object.some=function(e,t,r){for(var o in e)if(t.call(r,e[o],o,e))return!0;return!1};goog.object.every=function(e,t,r){for(var o in e)if(!t.call(r,e[o],o,e))return!1;return!0};goog.object.getCount=function(e){var t=0,r;for(r in e)t++;return t};goog.object.getAnyKey=function(e){for(var t in e)return t};goog.object.getAnyValue=function(e){for(var t in e)return e[t]};goog.object.contains=function(e,t){return goog.object.containsValue(e,t)};goog.object.getValues=function(e){var t=[],r=0,o;for(o in e)t[r++]=e[o];return t};goog.object.getKeys=function(e){var t=[],r=0,o;for(o in e)t[r++]=o;return t};goog.object.getValueByKeys=function(e,t){var r=goog.isArrayLike(t),o=r?t:arguments;for(r=r?0:1;r<o.length;r++){if(e==null)return;e=e[o[r]]}return e};goog.object.containsKey=function(e,t){return e!==null&&t in e};goog.object.containsValue=function(e,t){for(var r in e)if(e[r]==t)return!0;return!1};goog.object.findKey=function(e,t,r){for(var o in e)if(t.call(r,e[o],o,e))return o};goog.object.findValue=function(e,t,r){return(t=goog.object.findKey(e,t,r))&&e[t]};goog.object.isEmpty=function(e){for(var t in e)return!1;return!0};goog.object.clear=function(e){for(var t in e)delete e[t]};goog.object.remove=function(e,t){var r;return(r=t in e)&&delete e[t],r};goog.object.add=function(e,t,r){if(e!==null&&t in e)throw Error('The object already contains the key "'+t+'"');goog.object.set(e,t,r)};goog.object.get=function(e,t,r){return e!==null&&t in e?e[t]:r};goog.object.set=function(e,t,r){e[t]=r};goog.object.setIfUndefined=function(e,t,r){return t in e?e[t]:e[t]=r};goog.object.setWithReturnValueIfNotSet=function(e,t,r){return t in e?e[t]:(r=r(),e[t]=r)};goog.object.equals=function(e,t){for(var r in e)if(!(r in t)||e[r]!==t[r])return!1;for(var o in t)if(!(o in e))return!1;return!0};goog.object.clone=function(e){var t={},r;for(r in e)t[r]=e[r];return t};goog.object.unsafeClone=function(e){var t=goog.typeOf(e);if(t=="object"||t=="array"){if(goog.isFunction(e.clone))return e.clone();t=t=="array"?[]:{};for(var r in e)t[r]=goog.object.unsafeClone(e[r]);return t}return e};goog.object.transpose=function(e){var t={},r;for(r in e)t[e[r]]=r;return t};goog.object.PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");goog.object.extend=function(e,t){for(var r,o,n=1;n<arguments.length;n++){o=arguments[n];for(r in o)e[r]=o[r];for(var s=0;s<goog.object.PROTOTYPE_FIELDS_.length;s++)r=goog.object.PROTOTYPE_FIELDS_[s],Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}};goog.object.create=function(e){var t=arguments.length;if(t==1&&goog.isArray(arguments[0]))return goog.object.create.apply(null,arguments[0]);if(t%2)throw Error("Uneven number of arguments");for(var r={},o=0;o<t;o+=2)r[arguments[o]]=arguments[o+1];return r};goog.object.createSet=function(e){var t=arguments.length;if(t==1&&goog.isArray(arguments[0]))return goog.object.createSet.apply(null,arguments[0]);for(var r={},o=0;o<t;o++)r[arguments[o]]=!0;return r};goog.object.createImmutableView=function(e){var t=e;return Object.isFrozen&&!Object.isFrozen(e)&&(t=Object.create(e),Object.freeze(t)),t};goog.object.isImmutableView=function(e){return!!Object.isFrozen&&Object.isFrozen(e)};goog.object.getAllPropertyNames=function(e,t,r){if(!e)return[];if(!Object.getOwnPropertyNames||!Object.getPrototypeOf)return goog.object.getKeys(e);for(var o={};e&&(e!==Object.prototype||t)&&(e!==Function.prototype||r);){for(var n=Object.getOwnPropertyNames(e),s=0;s<n.length;s++)o[n[s]]=!0;e=Object.getPrototypeOf(e)}return goog.object.getKeys(o)};goog.object.getSuperClass=function(e){return(e=Object.getPrototypeOf(e.prototype))&&e.constructor};goog.debug={};goog.debug.Error=function(e){if(Error.captureStackTrace)Error.captureStackTrace(this,goog.debug.Error);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e)),this.reportErrorToServer=!0};goog.inherits(goog.debug.Error,Error);goog.debug.Error.prototype.name="CustomError";goog.dom={};goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12};goog.asserts={};goog.asserts.ENABLE_ASSERTS=goog.DEBUG;goog.asserts.AssertionError=function(e,t){goog.debug.Error.call(this,goog.asserts.subs_(e,t)),this.messagePattern=e};goog.inherits(goog.asserts.AssertionError,goog.debug.Error);goog.asserts.AssertionError.prototype.name="AssertionError";goog.asserts.DEFAULT_ERROR_HANDLER=function(e){throw e};goog.asserts.errorHandler_=goog.asserts.DEFAULT_ERROR_HANDLER;goog.asserts.subs_=function(e,t){e=e.split("%s");for(var r="",o=e.length-1,n=0;n<o;n++)r+=e[n]+(n<t.length?t[n]:"%s");return r+e[o]};goog.asserts.doAssertFailure_=function(e,t,r,o){var n="Assertion failed";if(r){n+=": "+r;var s=o}else e&&(n+=": "+e,s=t);e=new goog.asserts.AssertionError(""+n,s||[]),goog.asserts.errorHandler_(e)};goog.asserts.setErrorHandler=function(e){goog.asserts.ENABLE_ASSERTS&&(goog.asserts.errorHandler_=e)};goog.asserts.assert=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!e&&goog.asserts.doAssertFailure_("",null,t,Array.prototype.slice.call(arguments,2)),e};goog.asserts.assertExists=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&e==null&&goog.asserts.doAssertFailure_("Expected to exist: %s.",[e],t,Array.prototype.slice.call(arguments,2)),e};goog.asserts.fail=function(e,t){goog.asserts.ENABLE_ASSERTS&&goog.asserts.errorHandler_(new goog.asserts.AssertionError("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1)))};goog.asserts.assertNumber=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isNumber(e)&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e};goog.asserts.assertString=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isString(e)&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e};goog.asserts.assertFunction=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(e)&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e};goog.asserts.assertObject=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isObject(e)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e};goog.asserts.assertArray=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isArray(e)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e};goog.asserts.assertBoolean=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isBoolean(e)&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e};goog.asserts.assertElement=function(e,t,r){return!goog.asserts.ENABLE_ASSERTS||goog.isObject(e)&&e.nodeType==goog.dom.NodeType.ELEMENT||goog.asserts.doAssertFailure_("Expected Element but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e};goog.asserts.assertInstanceof=function(e,t,r,o){return!goog.asserts.ENABLE_ASSERTS||e instanceof t||goog.asserts.doAssertFailure_("Expected instanceof %s but got %s.",[goog.asserts.getType_(t),goog.asserts.getType_(e)],r,Array.prototype.slice.call(arguments,3)),e};goog.asserts.assertFinite=function(e,t,r){return!goog.asserts.ENABLE_ASSERTS||typeof e=="number"&&isFinite(e)||goog.asserts.doAssertFailure_("Expected %s to be a finite number but it is not.",[e],t,Array.prototype.slice.call(arguments,2)),e};goog.asserts.assertObjectPrototypeIsIntact=function(){for(var e in Object.prototype)goog.asserts.fail(e+" should not be enumerable in Object.prototype.")};goog.asserts.getType_=function(e){return e instanceof Function?e.displayName||e.name||"unknown type name":e instanceof Object?e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e):e===null?"null":typeof e};var jspb={BinaryConstants:{},ConstBinaryMessage:function(){},BinaryMessage:function(){}};jspb.BinaryConstants.FieldType={INVALID:-1,DOUBLE:1,FLOAT:2,INT64:3,UINT64:4,INT32:5,FIXED64:6,FIXED32:7,BOOL:8,STRING:9,GROUP:10,MESSAGE:11,BYTES:12,UINT32:13,ENUM:14,SFIXED32:15,SFIXED64:16,SINT32:17,SINT64:18,FHASH64:30,VHASH64:31};jspb.BinaryConstants.WireType={INVALID:-1,VARINT:0,FIXED64:1,DELIMITED:2,START_GROUP:3,END_GROUP:4,FIXED32:5};jspb.BinaryConstants.FieldTypeToWireType=function(e){var t=jspb.BinaryConstants.FieldType,r=jspb.BinaryConstants.WireType;switch(e){case t.INT32:case t.INT64:case t.UINT32:case t.UINT64:case t.SINT32:case t.SINT64:case t.BOOL:case t.ENUM:case t.VHASH64:return r.VARINT;case t.DOUBLE:case t.FIXED64:case t.SFIXED64:case t.FHASH64:return r.FIXED64;case t.STRING:case t.MESSAGE:case t.BYTES:return r.DELIMITED;case t.FLOAT:case t.FIXED32:case t.SFIXED32:return r.FIXED32;default:return r.INVALID}};jspb.BinaryConstants.INVALID_FIELD_NUMBER=-1;jspb.BinaryConstants.FLOAT32_EPS=1401298464324817e-60;jspb.BinaryConstants.FLOAT32_MIN=11754943508222875e-54;jspb.BinaryConstants.FLOAT32_MAX=34028234663852886e22;jspb.BinaryConstants.FLOAT64_EPS=5e-324;jspb.BinaryConstants.FLOAT64_MIN=22250738585072014e-324;jspb.BinaryConstants.FLOAT64_MAX=17976931348623157e292;jspb.BinaryConstants.TWO_TO_20=1048576;jspb.BinaryConstants.TWO_TO_23=8388608;jspb.BinaryConstants.TWO_TO_31=2147483648;jspb.BinaryConstants.TWO_TO_32=4294967296;jspb.BinaryConstants.TWO_TO_52=4503599627370496;jspb.BinaryConstants.TWO_TO_63=9223372036854776e3;jspb.BinaryConstants.TWO_TO_64=18446744073709552e3;jspb.BinaryConstants.ZERO_HASH="\0\0\0\0\0\0\0\0";goog.array={};goog.NATIVE_ARRAY_PROTOTYPES=goog.TRUSTED_SITE;goog.array.ASSUME_NATIVE_FUNCTIONS=2012<goog.FEATURESET_YEAR;goog.array.peek=function(e){return e[e.length-1]};goog.array.last=goog.array.peek;goog.array.indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.indexOf)?function(e,t,r){return goog.asserts.assert(e.length!=null),Array.prototype.indexOf.call(e,t,r)}:function(e,t,r){if(r=r==null?0:0>r?Math.max(0,e.length+r):r,goog.isString(e))return goog.isString(t)&&t.length==1?e.indexOf(t,r):-1;for(;r<e.length;r++)if(r in e&&e[r]===t)return r;return-1};goog.array.lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.lastIndexOf)?function(e,t,r){return goog.asserts.assert(e.length!=null),Array.prototype.lastIndexOf.call(e,t,r??e.length-1)}:function(e,t,r){if(r=r??e.length-1,0>r&&(r=Math.max(0,e.length+r)),goog.isString(e))return goog.isString(t)&&t.length==1?e.lastIndexOf(t,r):-1;for(;0<=r;r--)if(r in e&&e[r]===t)return r;return-1};goog.array.forEach=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.forEach)?function(e,t,r){goog.asserts.assert(e.length!=null),Array.prototype.forEach.call(e,t,r)}:function(e,t,r){for(var o=e.length,n=goog.isString(e)?e.split(""):e,s=0;s<o;s++)s in n&&t.call(r,n[s],s,e)};goog.array.forEachRight=function(e,t,r){var o=e.length,n=goog.isString(e)?e.split(""):e;for(--o;0<=o;--o)o in n&&t.call(r,n[o],o,e)};goog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.filter)?function(e,t,r){return goog.asserts.assert(e.length!=null),Array.prototype.filter.call(e,t,r)}:function(e,t,r){for(var o=e.length,n=[],s=0,i=goog.isString(e)?e.split(""):e,a=0;a<o;a++)if(a in i){var g=i[a];t.call(r,g,a,e)&&(n[s++]=g)}return n};goog.array.map=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.map)?function(e,t,r){return goog.asserts.assert(e.length!=null),Array.prototype.map.call(e,t,r)}:function(e,t,r){for(var o=e.length,n=Array(o),s=goog.isString(e)?e.split(""):e,i=0;i<o;i++)i in s&&(n[i]=t.call(r,s[i],i,e));return n};goog.array.reduce=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduce)?function(e,t,r,o){return goog.asserts.assert(e.length!=null),o&&(t=goog.bind(t,o)),Array.prototype.reduce.call(e,t,r)}:function(e,t,r,o){var n=r;return goog.array.forEach(e,function(s,i){n=t.call(o,n,s,i,e)}),n};goog.array.reduceRight=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduceRight)?function(e,t,r,o){return goog.asserts.assert(e.length!=null),goog.asserts.assert(t!=null),o&&(t=goog.bind(t,o)),Array.prototype.reduceRight.call(e,t,r)}:function(e,t,r,o){var n=r;return goog.array.forEachRight(e,function(s,i){n=t.call(o,n,s,i,e)}),n};goog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.some)?function(e,t,r){return goog.asserts.assert(e.length!=null),Array.prototype.some.call(e,t,r)}:function(e,t,r){for(var o=e.length,n=goog.isString(e)?e.split(""):e,s=0;s<o;s++)if(s in n&&t.call(r,n[s],s,e))return!0;return!1};goog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.every)?function(e,t,r){return goog.asserts.assert(e.length!=null),Array.prototype.every.call(e,t,r)}:function(e,t,r){for(var o=e.length,n=goog.isString(e)?e.split(""):e,s=0;s<o;s++)if(s in n&&!t.call(r,n[s],s,e))return!1;return!0};goog.array.count=function(e,t,r){var o=0;return goog.array.forEach(e,function(n,s,i){t.call(r,n,s,i)&&++o},r),o};goog.array.find=function(e,t,r){return t=goog.array.findIndex(e,t,r),0>t?null:goog.isString(e)?e.charAt(t):e[t]};goog.array.findIndex=function(e,t,r){for(var o=e.length,n=goog.isString(e)?e.split(""):e,s=0;s<o;s++)if(s in n&&t.call(r,n[s],s,e))return s;return-1};goog.array.findRight=function(e,t,r){return t=goog.array.findIndexRight(e,t,r),0>t?null:goog.isString(e)?e.charAt(t):e[t]};goog.array.findIndexRight=function(e,t,r){var o=e.length,n=goog.isString(e)?e.split(""):e;for(--o;0<=o;o--)if(o in n&&t.call(r,n[o],o,e))return o;return-1};goog.array.contains=function(e,t){return 0<=goog.array.indexOf(e,t)};goog.array.isEmpty=function(e){return e.length==0};goog.array.clear=function(e){if(!goog.isArray(e))for(var t=e.length-1;0<=t;t--)delete e[t];e.length=0};goog.array.insert=function(e,t){goog.array.contains(e,t)||e.push(t)};goog.array.insertAt=function(e,t,r){goog.array.splice(e,r,0,t)};goog.array.insertArrayAt=function(e,t,r){goog.partial(goog.array.splice,e,r,0).apply(null,t)};goog.array.insertBefore=function(e,t,r){var o;arguments.length==2||0>(o=goog.array.indexOf(e,r))?e.push(t):goog.array.insertAt(e,t,o)};goog.array.remove=function(e,t){t=goog.array.indexOf(e,t);var r;return(r=0<=t)&&goog.array.removeAt(e,t),r};goog.array.removeLast=function(e,t){return t=goog.array.lastIndexOf(e,t),0<=t?(goog.array.removeAt(e,t),!0):!1};goog.array.removeAt=function(e,t){return goog.asserts.assert(e.length!=null),Array.prototype.splice.call(e,t,1).length==1};goog.array.removeIf=function(e,t,r){return t=goog.array.findIndex(e,t,r),0<=t?(goog.array.removeAt(e,t),!0):!1};goog.array.removeAllIf=function(e,t,r){var o=0;return goog.array.forEachRight(e,function(n,s){t.call(r,n,s,e)&&goog.array.removeAt(e,s)&&o++}),o};goog.array.concat=function(e){return Array.prototype.concat.apply([],arguments)};goog.array.join=function(e){return Array.prototype.concat.apply([],arguments)};goog.array.toArray=function(e){var t=e.length;if(0<t){for(var r=Array(t),o=0;o<t;o++)r[o]=e[o];return r}return[]};goog.array.clone=goog.array.toArray;goog.array.extend=function(e,t){for(var r=1;r<arguments.length;r++){var o=arguments[r];if(goog.isArrayLike(o)){var n=e.length||0,s=o.length||0;e.length=n+s;for(var i=0;i<s;i++)e[n+i]=o[i]}else e.push(o)}};goog.array.splice=function(e,t,r,o){return goog.asserts.assert(e.length!=null),Array.prototype.splice.apply(e,goog.array.slice(arguments,1))};goog.array.slice=function(e,t,r){return goog.asserts.assert(e.length!=null),2>=arguments.length?Array.prototype.slice.call(e,t):Array.prototype.slice.call(e,t,r)};goog.array.removeDuplicates=function(e,t,r){t=t||e;var o=function(g){return goog.isObject(g)?"o"+goog.getUid(g):(typeof g).charAt(0)+g};r=r||o,o={};for(var n=0,s=0;s<e.length;){var i=e[s++],a=r(i);Object.prototype.hasOwnProperty.call(o,a)||(o[a]=!0,t[n++]=i)}t.length=n};goog.array.binarySearch=function(e,t,r){return goog.array.binarySearch_(e,r||goog.array.defaultCompare,!1,t)};goog.array.binarySelect=function(e,t,r){return goog.array.binarySearch_(e,t,!0,void 0,r)};goog.array.binarySearch_=function(e,t,r,o,n){for(var s=0,i=e.length,a;s<i;){var g=s+i>>1,u=r?t.call(n,e[g],g,e):t(o,e[g]);0<u?s=g+1:(i=g,a=!u)}return a?s:~s};goog.array.sort=function(e,t){e.sort(t||goog.array.defaultCompare)};goog.array.stableSort=function(e,t){for(var r=Array(e.length),o=0;o<e.length;o++)r[o]={index:o,value:e[o]};var n=t||goog.array.defaultCompare;for(goog.array.sort(r,function(s,i){return n(s.value,i.value)||s.index-i.index}),o=0;o<e.length;o++)e[o]=r[o].value};goog.array.sortByKey=function(e,t,r){var o=r||goog.array.defaultCompare;goog.array.sort(e,function(n,s){return o(t(n),t(s))})};goog.array.sortObjectsByKey=function(e,t,r){goog.array.sortByKey(e,function(o){return o[t]},r)};goog.array.isSorted=function(e,t,r){t=t||goog.array.defaultCompare;for(var o=1;o<e.length;o++){var n=t(e[o-1],e[o]);if(0<n||n==0&&r)return!1}return!0};goog.array.equals=function(e,t,r){if(!goog.isArrayLike(e)||!goog.isArrayLike(t)||e.length!=t.length)return!1;var o=e.length;r=r||goog.array.defaultCompareEquality;for(var n=0;n<o;n++)if(!r(e[n],t[n]))return!1;return!0};goog.array.compare3=function(e,t,r){r=r||goog.array.defaultCompare;for(var o=Math.min(e.length,t.length),n=0;n<o;n++){var s=r(e[n],t[n]);if(s!=0)return s}return goog.array.defaultCompare(e.length,t.length)};goog.array.defaultCompare=function(e,t){return e>t?1:e<t?-1:0};goog.array.inverseDefaultCompare=function(e,t){return-goog.array.defaultCompare(e,t)};goog.array.defaultCompareEquality=function(e,t){return e===t};goog.array.binaryInsert=function(e,t,r){return r=goog.array.binarySearch(e,t,r),0>r?(goog.array.insertAt(e,t,-(r+1)),!0):!1};goog.array.binaryRemove=function(e,t,r){return t=goog.array.binarySearch(e,t,r),0<=t?goog.array.removeAt(e,t):!1};goog.array.bucket=function(e,t,r){for(var o={},n=0;n<e.length;n++){var s=e[n],i=t.call(r,s,n,e);goog.isDef(i)&&(o[i]||(o[i]=[])).push(s)}return o};goog.array.toObject=function(e,t,r){var o={};return goog.array.forEach(e,function(n,s){o[t.call(r,n,s,e)]=n}),o};goog.array.range=function(e,t,r){var o=[],n=0,s=e;if(r=r||1,t!==void 0&&(n=e,s=t),0>r*(s-n))return[];if(0<r)for(e=n;e<s;e+=r)o.push(e);else for(e=n;e>s;e+=r)o.push(e);return o};goog.array.repeat=function(e,t){for(var r=[],o=0;o<t;o++)r[o]=e;return r};goog.array.flatten=function(e){for(var t=[],r=0;r<arguments.length;r++){var o=arguments[r];if(goog.isArray(o))for(var n=0;n<o.length;n+=8192){var s=goog.array.slice(o,n,n+8192);s=goog.array.flatten.apply(null,s);for(var i=0;i<s.length;i++)t.push(s[i])}else t.push(o)}return t};goog.array.rotate=function(e,t){return goog.asserts.assert(e.length!=null),e.length&&(t%=e.length,0<t?Array.prototype.unshift.apply(e,e.splice(-t,t)):0>t&&Array.prototype.push.apply(e,e.splice(0,-t))),e};goog.array.moveItem=function(e,t,r){goog.asserts.assert(0<=t&&t<e.length),goog.asserts.assert(0<=r&&r<e.length),t=Array.prototype.splice.call(e,t,1),Array.prototype.splice.call(e,r,0,t[0])};goog.array.zip=function(e){if(!arguments.length)return[];for(var t=[],r=arguments[0].length,o=1;o<arguments.length;o++)arguments[o].length<r&&(r=arguments[o].length);for(o=0;o<r;o++){for(var n=[],s=0;s<arguments.length;s++)n.push(arguments[s][o]);t.push(n)}return t};goog.array.shuffle=function(e,t){t=t||Math.random;for(var r=e.length-1;0<r;r--){var o=Math.floor(t()*(r+1)),n=e[r];e[r]=e[o],e[o]=n}};goog.array.copyByIndex=function(e,t){var r=[];return goog.array.forEach(t,function(o){r.push(e[o])}),r};goog.array.concatMap=function(e,t,r){return goog.array.concat.apply([],goog.array.map(e,t,r))};goog.crypt={};goog.crypt.stringToByteArray=function(e){for(var t=[],r=0,o=0;o<e.length;o++){var n=e.charCodeAt(o);255<n&&(t[r++]=n&255,n>>=8),t[r++]=n}return t};goog.crypt.byteArrayToString=function(e){if(8192>=e.length)return String.fromCharCode.apply(null,e);for(var t="",r=0;r<e.length;r+=8192){var o=goog.array.slice(e,r,r+8192);t+=String.fromCharCode.apply(null,o)}return t};goog.crypt.byteArrayToHex=function(e,t){return goog.array.map(e,function(r){return r=r.toString(16),1<r.length?r:"0"+r}).join(t||"")};goog.crypt.hexToByteArray=function(e){goog.asserts.assert(e.length%2==0,"Key string length must be multiple of 2");for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substring(r,r+2),16));return t};goog.crypt.stringToUtf8ByteArray=function(e){for(var t=[],r=0,o=0;o<e.length;o++){var n=e.charCodeAt(o);128>n?t[r++]=n:(2048>n?t[r++]=n>>6|192:((n&64512)==55296&&o+1<e.length&&(e.charCodeAt(o+1)&64512)==56320?(n=65536+((n&1023)<<10)+(e.charCodeAt(++o)&1023),t[r++]=n>>18|240,t[r++]=n>>12&63|128):t[r++]=n>>12|224,t[r++]=n>>6&63|128),t[r++]=n&63|128)}return t};goog.crypt.utf8ByteArrayToString=function(e){for(var t=[],r=0,o=0;r<e.length;){var n=e[r++];if(128>n)t[o++]=String.fromCharCode(n);else if(191<n&&224>n){var s=e[r++];t[o++]=String.fromCharCode((n&31)<<6|s&63)}else if(239<n&&365>n){s=e[r++];var i=e[r++],a=e[r++];n=((n&7)<<18|(s&63)<<12|(i&63)<<6|a&63)-65536,t[o++]=String.fromCharCode(55296+(n>>10)),t[o++]=String.fromCharCode(56320+(n&1023))}else s=e[r++],i=e[r++],t[o++]=String.fromCharCode((n&15)<<12|(s&63)<<6|i&63)}return t.join("")};goog.crypt.xorByteArray=function(e,t){goog.asserts.assert(e.length==t.length,"XOR array lengths must match");for(var r=[],o=0;o<e.length;o++)r.push(e[o]^t[o]);return r};goog.dom.asserts={};goog.dom.asserts.assertIsLocation=function(e){if(goog.asserts.ENABLE_ASSERTS){var t=goog.dom.asserts.getWindow_(e);t&&(!e||!(e instanceof t.Location)&&e instanceof t.Element)&&goog.asserts.fail("Argument is not a Location (or a non-Element mock); got: %s",goog.dom.asserts.debugStringForType_(e))}return e};goog.dom.asserts.assertIsElementType_=function(e,t){if(goog.asserts.ENABLE_ASSERTS){var r=goog.dom.asserts.getWindow_(e);r&&typeof r[t]!="undefined"&&(e&&(e instanceof r[t]||!(e instanceof r.Location||e instanceof r.Element))||goog.asserts.fail("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,goog.dom.asserts.debugStringForType_(e)))}return e};goog.dom.asserts.assertIsHTMLAnchorElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLAnchorElement")};goog.dom.asserts.assertIsHTMLButtonElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLButtonElement")};goog.dom.asserts.assertIsHTMLLinkElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLLinkElement")};goog.dom.asserts.assertIsHTMLImageElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLImageElement")};goog.dom.asserts.assertIsHTMLAudioElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLAudioElement")};goog.dom.asserts.assertIsHTMLVideoElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLVideoElement")};goog.dom.asserts.assertIsHTMLInputElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLInputElement")};goog.dom.asserts.assertIsHTMLTextAreaElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLTextAreaElement")};goog.dom.asserts.assertIsHTMLCanvasElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLCanvasElement")};goog.dom.asserts.assertIsHTMLEmbedElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLEmbedElement")};goog.dom.asserts.assertIsHTMLFormElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLFormElement")};goog.dom.asserts.assertIsHTMLFrameElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLFrameElement")};goog.dom.asserts.assertIsHTMLIFrameElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLIFrameElement")};goog.dom.asserts.assertIsHTMLObjectElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLObjectElement")};goog.dom.asserts.assertIsHTMLScriptElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLScriptElement")};goog.dom.asserts.debugStringForType_=function(e){if(goog.isObject(e))try{return e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(t){return"<object could not be stringified>"}else return e===void 0?"undefined":e===null?"null":typeof e};goog.dom.asserts.getWindow_=function(e){try{var t=e&&e.ownerDocument,r=t&&(t.defaultView||t.parentWindow);if(r=r||goog.global,r.Element&&r.Location)return r}catch(o){}return null};goog.functions={};goog.functions.constant=function(e){return function(){return e}};goog.functions.FALSE=function(){return!1};goog.functions.TRUE=function(){return!0};goog.functions.NULL=function(){return null};goog.functions.identity=function(e,t){return e};goog.functions.error=function(e){return function(){throw Error(e)}};goog.functions.fail=function(e){return function(){throw e}};goog.functions.lock=function(e,t){return t=t||0,function(){return e.apply(this,Array.prototype.slice.call(arguments,0,t))}};goog.functions.nth=function(e){return function(){return arguments[e]}};goog.functions.partialRight=function(e,t){var r=Array.prototype.slice.call(arguments,1);return function(){var o=Array.prototype.slice.call(arguments);return o.push.apply(o,r),e.apply(this,o)}};goog.functions.withReturnValue=function(e,t){return goog.functions.sequence(e,goog.functions.constant(t))};goog.functions.equalTo=function(e,t){return function(r){return t?e==r:e===r}};goog.functions.compose=function(e,t){var r=arguments,o=r.length;return function(){var n;o&&(n=r[o-1].apply(this,arguments));for(var s=o-2;0<=s;s--)n=r[s].call(this,n);return n}};goog.functions.sequence=function(e){var t=arguments,r=t.length;return function(){for(var o,n=0;n<r;n++)o=t[n].apply(this,arguments);return o}};goog.functions.and=function(e){var t=arguments,r=t.length;return function(){for(var o=0;o<r;o++)if(!t[o].apply(this,arguments))return!1;return!0}};goog.functions.or=function(e){var t=arguments,r=t.length;return function(){for(var o=0;o<r;o++)if(t[o].apply(this,arguments))return!0;return!1}};goog.functions.not=function(e){return function(){return!e.apply(this,arguments)}};goog.functions.create=function(e,t){var r=function(){};return r.prototype=e.prototype,r=new r,e.apply(r,Array.prototype.slice.call(arguments,1)),r};goog.functions.CACHE_RETURN_VALUE=!0;goog.functions.cacheReturnValue=function(e){var t=!1,r;return function(){return goog.functions.CACHE_RETURN_VALUE?(t||(r=e(),t=!0),r):e()}};goog.functions.once=function(e){var t=e;return function(){if(t){var r=t;t=null,r()}}};goog.functions.debounce=function(e,t,r){var o=0;return function(n){goog.global.clearTimeout(o);var s=arguments;o=goog.global.setTimeout(function(){e.apply(r,s)},t)}};goog.functions.throttle=function(e,t,r){var o=0,n=!1,s=[],i=function(){o=0,n&&(n=!1,a())},a=function(){o=goog.global.setTimeout(i,t),e.apply(r,s)};return function(g){s=arguments,o?n=!0:a()}};goog.functions.rateLimit=function(e,t,r){var o=0,n=function(){o=0};return function(s){o||(o=goog.global.setTimeout(n,t),e.apply(r,arguments))}};goog.dom.HtmlElement=function(){};goog.dom.TagName=function(e){this.tagName_=e};goog.dom.TagName.prototype.toString=function(){return this.tagName_};goog.dom.TagName.A=new goog.dom.TagName("A");goog.dom.TagName.ABBR=new goog.dom.TagName("ABBR");goog.dom.TagName.ACRONYM=new goog.dom.TagName("ACRONYM");goog.dom.TagName.ADDRESS=new goog.dom.TagName("ADDRESS");goog.dom.TagName.APPLET=new goog.dom.TagName("APPLET");goog.dom.TagName.AREA=new goog.dom.TagName("AREA");goog.dom.TagName.ARTICLE=new goog.dom.TagName("ARTICLE");goog.dom.TagName.ASIDE=new goog.dom.TagName("ASIDE");goog.dom.TagName.AUDIO=new goog.dom.TagName("AUDIO");goog.dom.TagName.B=new goog.dom.TagName("B");goog.dom.TagName.BASE=new goog.dom.TagName("BASE");goog.dom.TagName.BASEFONT=new goog.dom.TagName("BASEFONT");goog.dom.TagName.BDI=new goog.dom.TagName("BDI");goog.dom.TagName.BDO=new goog.dom.TagName("BDO");goog.dom.TagName.BIG=new goog.dom.TagName("BIG");goog.dom.TagName.BLOCKQUOTE=new goog.dom.TagName("BLOCKQUOTE");goog.dom.TagName.BODY=new goog.dom.TagName("BODY");goog.dom.TagName.BR=new goog.dom.TagName("BR");goog.dom.TagName.BUTTON=new goog.dom.TagName("BUTTON");goog.dom.TagName.CANVAS=new goog.dom.TagName("CANVAS");goog.dom.TagName.CAPTION=new goog.dom.TagName("CAPTION");goog.dom.TagName.CENTER=new goog.dom.TagName("CENTER");goog.dom.TagName.CITE=new goog.dom.TagName("CITE");goog.dom.TagName.CODE=new goog.dom.TagName("CODE");goog.dom.TagName.COL=new goog.dom.TagName("COL");goog.dom.TagName.COLGROUP=new goog.dom.TagName("COLGROUP");goog.dom.TagName.COMMAND=new goog.dom.TagName("COMMAND");goog.dom.TagName.DATA=new goog.dom.TagName("DATA");goog.dom.TagName.DATALIST=new goog.dom.TagName("DATALIST");goog.dom.TagName.DD=new goog.dom.TagName("DD");goog.dom.TagName.DEL=new goog.dom.TagName("DEL");goog.dom.TagName.DETAILS=new goog.dom.TagName("DETAILS");goog.dom.TagName.DFN=new goog.dom.TagName("DFN");goog.dom.TagName.DIALOG=new goog.dom.TagName("DIALOG");goog.dom.TagName.DIR=new goog.dom.TagName("DIR");goog.dom.TagName.DIV=new goog.dom.TagName("DIV");goog.dom.TagName.DL=new goog.dom.TagName("DL");goog.dom.TagName.DT=new goog.dom.TagName("DT");goog.dom.TagName.EM=new goog.dom.TagName("EM");goog.dom.TagName.EMBED=new goog.dom.TagName("EMBED");goog.dom.TagName.FIELDSET=new goog.dom.TagName("FIELDSET");goog.dom.TagName.FIGCAPTION=new goog.dom.TagName("FIGCAPTION");goog.dom.TagName.FIGURE=new goog.dom.TagName("FIGURE");goog.dom.TagName.FONT=new goog.dom.TagName("FONT");goog.dom.TagName.FOOTER=new goog.dom.TagName("FOOTER");goog.dom.TagName.FORM=new goog.dom.TagName("FORM");goog.dom.TagName.FRAME=new goog.dom.TagName("FRAME");goog.dom.TagName.FRAMESET=new goog.dom.TagName("FRAMESET");goog.dom.TagName.H1=new goog.dom.TagName("H1");goog.dom.TagName.H2=new goog.dom.TagName("H2");goog.dom.TagName.H3=new goog.dom.TagName("H3");goog.dom.TagName.H4=new goog.dom.TagName("H4");goog.dom.TagName.H5=new goog.dom.TagName("H5");goog.dom.TagName.H6=new goog.dom.TagName("H6");goog.dom.TagName.HEAD=new goog.dom.TagName("HEAD");goog.dom.TagName.HEADER=new goog.dom.TagName("HEADER");goog.dom.TagName.HGROUP=new goog.dom.TagName("HGROUP");goog.dom.TagName.HR=new goog.dom.TagName("HR");goog.dom.TagName.HTML=new goog.dom.TagName("HTML");goog.dom.TagName.I=new goog.dom.TagName("I");goog.dom.TagName.IFRAME=new goog.dom.TagName("IFRAME");goog.dom.TagName.IMG=new goog.dom.TagName("IMG");goog.dom.TagName.INPUT=new goog.dom.TagName("INPUT");goog.dom.TagName.INS=new goog.dom.TagName("INS");goog.dom.TagName.ISINDEX=new goog.dom.TagName("ISINDEX");goog.dom.TagName.KBD=new goog.dom.TagName("KBD");goog.dom.TagName.KEYGEN=new goog.dom.TagName("KEYGEN");goog.dom.TagName.LABEL=new goog.dom.TagName("LABEL");goog.dom.TagName.LEGEND=new goog.dom.TagName("LEGEND");goog.dom.TagName.LI=new goog.dom.TagName("LI");goog.dom.TagName.LINK=new goog.dom.TagName("LINK");goog.dom.TagName.MAIN=new goog.dom.TagName("MAIN");goog.dom.TagName.MAP=new goog.dom.TagName("MAP");goog.dom.TagName.MARK=new goog.dom.TagName("MARK");goog.dom.TagName.MATH=new goog.dom.TagName("MATH");goog.dom.TagName.MENU=new goog.dom.TagName("MENU");goog.dom.TagName.MENUITEM=new goog.dom.TagName("MENUITEM");goog.dom.TagName.META=new goog.dom.TagName("META");goog.dom.TagName.METER=new goog.dom.TagName("METER");goog.dom.TagName.NAV=new goog.dom.TagName("NAV");goog.dom.TagName.NOFRAMES=new goog.dom.TagName("NOFRAMES");goog.dom.TagName.NOSCRIPT=new goog.dom.TagName("NOSCRIPT");goog.dom.TagName.OBJECT=new goog.dom.TagName("OBJECT");goog.dom.TagName.OL=new goog.dom.TagName("OL");goog.dom.TagName.OPTGROUP=new goog.dom.TagName("OPTGROUP");goog.dom.TagName.OPTION=new goog.dom.TagName("OPTION");goog.dom.TagName.OUTPUT=new goog.dom.TagName("OUTPUT");goog.dom.TagName.P=new goog.dom.TagName("P");goog.dom.TagName.PARAM=new goog.dom.TagName("PARAM");goog.dom.TagName.PICTURE=new goog.dom.TagName("PICTURE");goog.dom.TagName.PRE=new goog.dom.TagName("PRE");goog.dom.TagName.PROGRESS=new goog.dom.TagName("PROGRESS");goog.dom.TagName.Q=new goog.dom.TagName("Q");goog.dom.TagName.RP=new goog.dom.TagName("RP");goog.dom.TagName.RT=new goog.dom.TagName("RT");goog.dom.TagName.RTC=new goog.dom.TagName("RTC");goog.dom.TagName.RUBY=new goog.dom.TagName("RUBY");goog.dom.TagName.S=new goog.dom.TagName("S");goog.dom.TagName.SAMP=new goog.dom.TagName("SAMP");goog.dom.TagName.SCRIPT=new goog.dom.TagName("SCRIPT");goog.dom.TagName.SECTION=new goog.dom.TagName("SECTION");goog.dom.TagName.SELECT=new goog.dom.TagName("SELECT");goog.dom.TagName.SMALL=new goog.dom.TagName("SMALL");goog.dom.TagName.SOURCE=new goog.dom.TagName("SOURCE");goog.dom.TagName.SPAN=new goog.dom.TagName("SPAN");goog.dom.TagName.STRIKE=new goog.dom.TagName("STRIKE");goog.dom.TagName.STRONG=new goog.dom.TagName("STRONG");goog.dom.TagName.STYLE=new goog.dom.TagName("STYLE");goog.dom.TagName.SUB=new goog.dom.TagName("SUB");goog.dom.TagName.SUMMARY=new goog.dom.TagName("SUMMARY");goog.dom.TagName.SUP=new goog.dom.TagName("SUP");goog.dom.TagName.SVG=new goog.dom.TagName("SVG");goog.dom.TagName.TABLE=new goog.dom.TagName("TABLE");goog.dom.TagName.TBODY=new goog.dom.TagName("TBODY");goog.dom.TagName.TD=new goog.dom.TagName("TD");goog.dom.TagName.TEMPLATE=new goog.dom.TagName("TEMPLATE");goog.dom.TagName.TEXTAREA=new goog.dom.TagName("TEXTAREA");goog.dom.TagName.TFOOT=new goog.dom.TagName("TFOOT");goog.dom.TagName.TH=new goog.dom.TagName("TH");goog.dom.TagName.THEAD=new goog.dom.TagName("THEAD");goog.dom.TagName.TIME=new goog.dom.TagName("TIME");goog.dom.TagName.TITLE=new goog.dom.TagName("TITLE");goog.dom.TagName.TR=new goog.dom.TagName("TR");goog.dom.TagName.TRACK=new goog.dom.TagName("TRACK");goog.dom.TagName.TT=new goog.dom.TagName("TT");goog.dom.TagName.U=new goog.dom.TagName("U");goog.dom.TagName.UL=new goog.dom.TagName("UL");goog.dom.TagName.VAR=new goog.dom.TagName("VAR");goog.dom.TagName.VIDEO=new goog.dom.TagName("VIDEO");goog.dom.TagName.WBR=new goog.dom.TagName("WBR");goog.dom.tags={};goog.dom.tags.VOID_TAGS_={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};goog.dom.tags.isVoidTag=function(e){return goog.dom.tags.VOID_TAGS_[e]===!0};goog.html={};goog.html.trustedtypes={};goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+"#html"):null;goog.string={};goog.string.TypedString=function(){};goog.string.Const=function(e,t){this.stringConstValueWithSecurityContract__googStringSecurityPrivate_=e===goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_&&t||"",this.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_=goog.string.Const.TYPE_MARKER_};goog.string.Const.prototype.implementsGoogStringTypedString=!0;goog.string.Const.prototype.getTypedStringValue=function(){return this.stringConstValueWithSecurityContract__googStringSecurityPrivate_};goog.string.Const.prototype.toString=function(){return"Const{"+this.stringConstValueWithSecurityContract__googStringSecurityPrivate_+"}"};goog.string.Const.unwrap=function(e){return e instanceof goog.string.Const&&e.constructor===goog.string.Const&&e.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_===goog.string.Const.TYPE_MARKER_?e.stringConstValueWithSecurityContract__googStringSecurityPrivate_:(goog.asserts.fail("expected object of type Const, got '"+e+"'"),"type_error:Const")};goog.string.Const.from=function(e){return new goog.string.Const(goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_,e)};goog.string.Const.TYPE_MARKER_={};goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_={};goog.string.Const.EMPTY=goog.string.Const.from("");goog.html.SafeScript=function(){this.privateDoNotAccessOrElseSafeScriptWrappedValue_="",this.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_};goog.html.SafeScript.prototype.implementsGoogStringTypedString=!0;goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={};goog.html.SafeScript.fromConstant=function(e){return e=goog.string.Const.unwrap(e),e.length===0?goog.html.SafeScript.EMPTY:goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(e)};goog.html.SafeScript.fromConstantAndArgs=function(e,t){for(var r=[],o=1;o<arguments.length;o++)r.push(goog.html.SafeScript.stringify_(arguments[o]));return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse("("+goog.string.Const.unwrap(e)+")("+r.join(", ")+");")};goog.html.SafeScript.fromJson=function(e){return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(goog.html.SafeScript.stringify_(e))};goog.html.SafeScript.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_.toString()};goog.DEBUG&&(goog.html.SafeScript.prototype.toString=function(){return"SafeScript{"+this.privateDoNotAccessOrElseSafeScriptWrappedValue_+"}"});goog.html.SafeScript.unwrap=function(e){return goog.html.SafeScript.unwrapTrustedScript(e).toString()};goog.html.SafeScript.unwrapTrustedScript=function(e){return e instanceof goog.html.SafeScript&&e.constructor===goog.html.SafeScript&&e.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeScriptWrappedValue_:(goog.asserts.fail("expected object of type SafeScript, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeScript")};goog.html.SafeScript.stringify_=function(e){return JSON.stringify(e).replace(/</g,"\\x3c")};goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse=function(e){return new goog.html.SafeScript().initSecurityPrivateDoNotAccessOrElse_(e)};goog.html.SafeScript.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScript(e):e,this};goog.html.SafeScript.EMPTY=goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse("");goog.fs={};goog.fs.url={};goog.fs.url.createObjectUrl=function(e){return goog.fs.url.getUrlObject_().createObjectURL(e)};goog.fs.url.revokeObjectUrl=function(e){goog.fs.url.getUrlObject_().revokeObjectURL(e)};goog.fs.url.getUrlObject_=function(){var e=goog.fs.url.findUrlObject_();if(e!=null)return e;throw Error("This browser doesn't seem to support blob URLs")};goog.fs.url.findUrlObject_=function(){return goog.isDef(goog.global.URL)&&goog.isDef(goog.global.URL.createObjectURL)?goog.global.URL:goog.isDef(goog.global.webkitURL)&&goog.isDef(goog.global.webkitURL.createObjectURL)?goog.global.webkitURL:goog.isDef(goog.global.createObjectURL)?goog.global:null};goog.fs.url.browserSupportsObjectUrls=function(){return goog.fs.url.findUrlObject_()!=null};goog.i18n={};goog.i18n.bidi={};goog.i18n.bidi.FORCE_RTL=!1;goog.i18n.bidi.IS_RTL=goog.i18n.bidi.FORCE_RTL||(goog.LOCALE.substring(0,2).toLowerCase()=="ar"||goog.LOCALE.substring(0,2).toLowerCase()=="fa"||goog.LOCALE.substring(0,2).toLowerCase()=="he"||goog.LOCALE.substring(0,2).toLowerCase()=="iw"||goog.LOCALE.substring(0,2).toLowerCase()=="ps"||goog.LOCALE.substring(0,2).toLowerCase()=="sd"||goog.LOCALE.substring(0,2).toLowerCase()=="ug"||goog.LOCALE.substring(0,2).toLowerCase()=="ur"||goog.LOCALE.substring(0,2).toLowerCase()=="yi")&&(goog.LOCALE.length==2||goog.LOCALE.substring(2,3)=="-"||goog.LOCALE.substring(2,3)=="_")||3<=goog.LOCALE.length&&goog.LOCALE.substring(0,3).toLowerCase()=="ckb"&&(goog.LOCALE.length==3||goog.LOCALE.substring(3,4)=="-"||goog.LOCALE.substring(3,4)=="_")||7<=goog.LOCALE.length&&(goog.LOCALE.substring(2,3)=="-"||goog.LOCALE.substring(2,3)=="_")&&(goog.LOCALE.substring(3,7).toLowerCase()=="adlm"||goog.LOCALE.substring(3,7).toLowerCase()=="arab"||goog.LOCALE.substring(3,7).toLowerCase()=="hebr"||goog.LOCALE.substring(3,7).toLowerCase()=="nkoo"||goog.LOCALE.substring(3,7).toLowerCase()=="rohg"||goog.LOCALE.substring(3,7).toLowerCase()=="thaa")||8<=goog.LOCALE.length&&(goog.LOCALE.substring(3,4)=="-"||goog.LOCALE.substring(3,4)=="_")&&(goog.LOCALE.substring(4,8).toLowerCase()=="adlm"||goog.LOCALE.substring(4,8).toLowerCase()=="arab"||goog.LOCALE.substring(4,8).toLowerCase()=="hebr"||goog.LOCALE.substring(4,8).toLowerCase()=="nkoo"||goog.LOCALE.substring(4,8).toLowerCase()=="rohg"||goog.LOCALE.substring(4,8).toLowerCase()=="thaa");goog.i18n.bidi.Format={LRE:"\u202A",RLE:"\u202B",PDF:"\u202C",LRM:"\u200E",RLM:"\u200F"};goog.i18n.bidi.Dir={LTR:1,RTL:-1,NEUTRAL:0};goog.i18n.bidi.RIGHT="right";goog.i18n.bidi.LEFT="left";goog.i18n.bidi.I18N_RIGHT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.LEFT:goog.i18n.bidi.RIGHT;goog.i18n.bidi.I18N_LEFT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT;goog.i18n.bidi.toDir=function(e,t){return typeof e=="number"?0<e?goog.i18n.bidi.Dir.LTR:0>e?goog.i18n.bidi.Dir.RTL:t?null:goog.i18n.bidi.Dir.NEUTRAL:e==null?null:e?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR};goog.i18n.bidi.ltrChars_="A-Za-z\xC0-\xD6\xD8-\xF6\xF8-\u02B8\u0300-\u0590\u0900-\u1FFF\u200E\u2C00-\uD801\uD804-\uD839\uD83C-\uDBFF\uF900-\uFB1C\uFE00-\uFE6F\uFEFD-\uFFFF";goog.i18n.bidi.rtlChars_="\u0591-\u06EF\u06FA-\u08FF\u200F\uD802-\uD803\uD83A-\uD83B\uFB1D-\uFDFF\uFE70-\uFEFC";goog.i18n.bidi.htmlSkipReg_=/<[^>]*>|&[^;]+;/g;goog.i18n.bidi.stripHtmlIfNeeded_=function(e,t){return t?e.replace(goog.i18n.bidi.htmlSkipReg_,""):e};goog.i18n.bidi.rtlCharReg_=new RegExp("["+goog.i18n.bidi.rtlChars_+"]");goog.i18n.bidi.ltrCharReg_=new RegExp("["+goog.i18n.bidi.ltrChars_+"]");goog.i18n.bidi.hasAnyRtl=function(e,t){return goog.i18n.bidi.rtlCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))};goog.i18n.bidi.hasRtlChar=goog.i18n.bidi.hasAnyRtl;goog.i18n.bidi.hasAnyLtr=function(e,t){return goog.i18n.bidi.ltrCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))};goog.i18n.bidi.ltrRe_=new RegExp("^["+goog.i18n.bidi.ltrChars_+"]");goog.i18n.bidi.rtlRe_=new RegExp("^["+goog.i18n.bidi.rtlChars_+"]");goog.i18n.bidi.isRtlChar=function(e){return goog.i18n.bidi.rtlRe_.test(e)};goog.i18n.bidi.isLtrChar=function(e){return goog.i18n.bidi.ltrRe_.test(e)};goog.i18n.bidi.isNeutralChar=function(e){return!goog.i18n.bidi.isLtrChar(e)&&!goog.i18n.bidi.isRtlChar(e)};goog.i18n.bidi.ltrDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.rtlChars_+"]*["+goog.i18n.bidi.ltrChars_+"]");goog.i18n.bidi.rtlDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.ltrChars_+"]*["+goog.i18n.bidi.rtlChars_+"]");goog.i18n.bidi.startsWithRtl=function(e,t){return goog.i18n.bidi.rtlDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))};goog.i18n.bidi.isRtlText=goog.i18n.bidi.startsWithRtl;goog.i18n.bidi.startsWithLtr=function(e,t){return goog.i18n.bidi.ltrDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))};goog.i18n.bidi.isLtrText=goog.i18n.bidi.startsWithLtr;goog.i18n.bidi.isRequiredLtrRe_=/^http:\/\/.*/;goog.i18n.bidi.isNeutralText=function(e,t){return e=goog.i18n.bidi.stripHtmlIfNeeded_(e,t),goog.i18n.bidi.isRequiredLtrRe_.test(e)||!goog.i18n.bidi.hasAnyLtr(e)&&!goog.i18n.bidi.hasAnyRtl(e)};goog.i18n.bidi.ltrExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.ltrChars_+"][^"+goog.i18n.bidi.rtlChars_+"]*$");goog.i18n.bidi.rtlExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.rtlChars_+"][^"+goog.i18n.bidi.ltrChars_+"]*$");goog.i18n.bidi.endsWithLtr=function(e,t){return goog.i18n.bidi.ltrExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))};goog.i18n.bidi.isLtrExitText=goog.i18n.bidi.endsWithLtr;goog.i18n.bidi.endsWithRtl=function(e,t){return goog.i18n.bidi.rtlExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))};goog.i18n.bidi.isRtlExitText=goog.i18n.bidi.endsWithRtl;goog.i18n.bidi.rtlLocalesRe_=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;goog.i18n.bidi.isRtlLanguage=function(e){return goog.i18n.bidi.rtlLocalesRe_.test(e)};goog.i18n.bidi.bracketGuardTextRe_=/(\(.*?\)+)|(\[.*?\]+)|(\{.*?\}+)|(<.*?>+)/g;goog.i18n.bidi.guardBracketInText=function(e,t){return t=(t===void 0?goog.i18n.bidi.hasAnyRtl(e):t)?goog.i18n.bidi.Format.RLM:goog.i18n.bidi.Format.LRM,e.replace(goog.i18n.bidi.bracketGuardTextRe_,t+"$&"+t)};goog.i18n.bidi.enforceRtlInHtml=function(e){return e.charAt(0)=="<"?e.replace(/<\w+/,"$& dir=rtl"):`
<span dir=rtl>`+e+"</span>"};goog.i18n.bidi.enforceRtlInText=function(e){return goog.i18n.bidi.Format.RLE+e+goog.i18n.bidi.Format.PDF};goog.i18n.bidi.enforceLtrInHtml=function(e){return e.charAt(0)=="<"?e.replace(/<\w+/,"$& dir=ltr"):`
<span dir=ltr>`+e+"</span>"};goog.i18n.bidi.enforceLtrInText=function(e){return goog.i18n.bidi.Format.LRE+e+goog.i18n.bidi.Format.PDF};goog.i18n.bidi.dimensionsRe_=/:\s*([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)/g;goog.i18n.bidi.leftRe_=/left/gi;goog.i18n.bidi.rightRe_=/right/gi;goog.i18n.bidi.tempRe_=/%%%%/g;goog.i18n.bidi.mirrorCSS=function(e){return e.replace(goog.i18n.bidi.dimensionsRe_,":$1 $4 $3 $2").replace(goog.i18n.bidi.leftRe_,"%%%%").replace(goog.i18n.bidi.rightRe_,goog.i18n.bidi.LEFT).replace(goog.i18n.bidi.tempRe_,goog.i18n.bidi.RIGHT)};goog.i18n.bidi.doubleQuoteSubstituteRe_=/([\u0591-\u05f2])"/g;goog.i18n.bidi.singleQuoteSubstituteRe_=/([\u0591-\u05f2])'/g;goog.i18n.bidi.normalizeHebrewQuote=function(e){return e.replace(goog.i18n.bidi.doubleQuoteSubstituteRe_,"$1\u05F4").replace(goog.i18n.bidi.singleQuoteSubstituteRe_,"$1\u05F3")};goog.i18n.bidi.wordSeparatorRe_=/\s+/;goog.i18n.bidi.hasNumeralsRe_=/[\d\u06f0-\u06f9]/;goog.i18n.bidi.rtlDetectionThreshold_=.4;goog.i18n.bidi.estimateDirection=function(e,t){var r=0,o=0,n=!1;for(e=goog.i18n.bidi.stripHtmlIfNeeded_(e,t).split(goog.i18n.bidi.wordSeparatorRe_),t=0;t<e.length;t++){var s=e[t];goog.i18n.bidi.startsWithRtl(s)?(r++,o++):goog.i18n.bidi.isRequiredLtrRe_.test(s)?n=!0:goog.i18n.bidi.hasAnyLtr(s)?o++:goog.i18n.bidi.hasNumeralsRe_.test(s)&&(n=!0)}return o==0?n?goog.i18n.bidi.Dir.LTR:goog.i18n.bidi.Dir.NEUTRAL:r/o>goog.i18n.bidi.rtlDetectionThreshold_?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR};goog.i18n.bidi.detectRtlDirectionality=function(e,t){return goog.i18n.bidi.estimateDirection(e,t)==goog.i18n.bidi.Dir.RTL};goog.i18n.bidi.setElementDirAndAlign=function(e,t){e&&(t=goog.i18n.bidi.toDir(t))&&(e.style.textAlign=t==goog.i18n.bidi.Dir.RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,e.dir=t==goog.i18n.bidi.Dir.RTL?"rtl":"ltr")};goog.i18n.bidi.setElementDirByTextDirectionality=function(e,t){switch(goog.i18n.bidi.estimateDirection(t)){case goog.i18n.bidi.Dir.LTR:e.dir="ltr";break;case goog.i18n.bidi.Dir.RTL:e.dir="rtl";break;default:e.removeAttribute("dir")}};goog.i18n.bidi.DirectionalString=function(){};goog.html.TrustedResourceUrl=function(){this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_="",this.trustedURL_=null,this.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_};goog.html.TrustedResourceUrl.prototype.implementsGoogStringTypedString=!0;goog.html.TrustedResourceUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_.toString()};goog.html.TrustedResourceUrl.prototype.implementsGoogI18nBidiDirectionalString=!0;goog.html.TrustedResourceUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR};goog.html.TrustedResourceUrl.prototype.cloneWithParams=function(e,t){var r=goog.html.TrustedResourceUrl.unwrap(this);r=goog.html.TrustedResourceUrl.URL_PARAM_PARSER_.exec(r);var o=r[3]||"";return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(r[1]+goog.html.TrustedResourceUrl.stringifyParams_("?",r[2]||"",e)+goog.html.TrustedResourceUrl.stringifyParams_("#",o,t))};goog.DEBUG&&(goog.html.TrustedResourceUrl.prototype.toString=function(){return"TrustedResourceUrl{"+this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_+"}"});goog.html.TrustedResourceUrl.unwrap=function(e){return goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(e).toString()};goog.html.TrustedResourceUrl.unwrapTrustedScriptURL=function(e){return e instanceof goog.html.TrustedResourceUrl&&e.constructor===goog.html.TrustedResourceUrl&&e.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_:(goog.asserts.fail("expected object of type TrustedResourceUrl, got '"+e+"' of type "+goog.typeOf(e)),"type_error:TrustedResourceUrl")};goog.html.TrustedResourceUrl.unwrapTrustedURL=function(e){return e.trustedURL_?e.trustedURL_:goog.html.TrustedResourceUrl.unwrap(e)};goog.html.TrustedResourceUrl.format=function(e,t){var r=goog.string.Const.unwrap(e);if(!goog.html.TrustedResourceUrl.BASE_URL_.test(r))throw Error("Invalid TrustedResourceUrl format: "+r);return e=r.replace(goog.html.TrustedResourceUrl.FORMAT_MARKER_,function(o,n){if(!Object.prototype.hasOwnProperty.call(t,n))throw Error('Found marker, "'+n+'", in format string, "'+r+'", but no valid label mapping found in args: '+JSON.stringify(t));return o=t[n],o instanceof goog.string.Const?goog.string.Const.unwrap(o):encodeURIComponent(String(o))}),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(e)};goog.html.TrustedResourceUrl.FORMAT_MARKER_=/%{(\w+)}/g;goog.html.TrustedResourceUrl.BASE_URL_=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i;goog.html.TrustedResourceUrl.URL_PARAM_PARSER_=/^([^?#]*)(\?[^#]*)?(#[\s\S]*)?/;goog.html.TrustedResourceUrl.formatWithParams=function(e,t,r,o){return goog.html.TrustedResourceUrl.format(e,t).cloneWithParams(r,o)};goog.html.TrustedResourceUrl.fromConstant=function(e){return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(e))};goog.html.TrustedResourceUrl.fromConstants=function(e){for(var t="",r=0;r<e.length;r++)t+=goog.string.Const.unwrap(e[r]);return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(t)};goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={};goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse=function(e){var t=new goog.html.TrustedResourceUrl;return t.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScriptURL(e):e,goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY&&(t.trustedURL_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createURL(e)),t};goog.html.TrustedResourceUrl.stringifyParams_=function(e,t,r){if(r==null)return t;if(goog.isString(r))return r?e+encodeURIComponent(r):"";for(var o in r){var n=r[o];n=goog.isArray(n)?n:[n];for(var s=0;s<n.length;s++){var i=n[s];i!=null&&(t||(t=e),t+=(t.length>e.length?"&":"")+encodeURIComponent(o)+"="+encodeURIComponent(String(i)))}}return t};goog.string.internal={};goog.string.internal.startsWith=function(e,t){return e.lastIndexOf(t,0)==0};goog.string.internal.endsWith=function(e,t){var r=e.length-t.length;return 0<=r&&e.indexOf(t,r)==r};goog.string.internal.caseInsensitiveStartsWith=function(e,t){return goog.string.internal.caseInsensitiveCompare(t,e.substr(0,t.length))==0};goog.string.internal.caseInsensitiveEndsWith=function(e,t){return goog.string.internal.caseInsensitiveCompare(t,e.substr(e.length-t.length,t.length))==0};goog.string.internal.caseInsensitiveEquals=function(e,t){return e.toLowerCase()==t.toLowerCase()};goog.string.internal.isEmptyOrWhitespace=function(e){return/^[\s\xa0]*$/.test(e)};goog.string.internal.trim=goog.TRUSTED_SITE&&String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};goog.string.internal.caseInsensitiveCompare=function(e,t){return e=String(e).toLowerCase(),t=String(t).toLowerCase(),e<t?-1:e==t?0:1};goog.string.internal.newLineToBr=function(e,t){return e.replace(/(\r\n|\r|\n)/g,t?"<br />":"<br>")};goog.string.internal.htmlEscape=function(e,t){if(t)e=e.replace(goog.string.internal.AMP_RE_,"&amp;").replace(goog.string.internal.LT_RE_,"&lt;").replace(goog.string.internal.GT_RE_,"&gt;").replace(goog.string.internal.QUOT_RE_,"&quot;").replace(goog.string.internal.SINGLE_QUOTE_RE_,"&#39;").replace(goog.string.internal.NULL_RE_,"&#0;");else{if(!goog.string.internal.ALL_RE_.test(e))return e;e.indexOf("&")!=-1&&(e=e.replace(goog.string.internal.AMP_RE_,"&amp;")),e.indexOf("<")!=-1&&(e=e.replace(goog.string.internal.LT_RE_,"&lt;")),e.indexOf(">")!=-1&&(e=e.replace(goog.string.internal.GT_RE_,"&gt;")),e.indexOf('"')!=-1&&(e=e.replace(goog.string.internal.QUOT_RE_,"&quot;")),e.indexOf("'")!=-1&&(e=e.replace(goog.string.internal.SINGLE_QUOTE_RE_,"&#39;")),e.indexOf("\0")!=-1&&(e=e.replace(goog.string.internal.NULL_RE_,"&#0;"))}return e};goog.string.internal.AMP_RE_=/&/g;goog.string.internal.LT_RE_=/</g;goog.string.internal.GT_RE_=/>/g;goog.string.internal.QUOT_RE_=/"/g;goog.string.internal.SINGLE_QUOTE_RE_=/'/g;goog.string.internal.NULL_RE_=/\x00/g;goog.string.internal.ALL_RE_=/[\x00&<>"']/;goog.string.internal.whitespaceEscape=function(e,t){return goog.string.internal.newLineToBr(e.replace(/  /g," &#160;"),t)};goog.string.internal.contains=function(e,t){return e.indexOf(t)!=-1};goog.string.internal.caseInsensitiveContains=function(e,t){return goog.string.internal.contains(e.toLowerCase(),t.toLowerCase())};goog.string.internal.compareVersions=function(e,t){var r=0;e=goog.string.internal.trim(String(e)).split("."),t=goog.string.internal.trim(String(t)).split(".");for(var o=Math.max(e.length,t.length),n=0;r==0&&n<o;n++){var s=e[n]||"",i=t[n]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s[0].length==0&&i[0].length==0)break;r=s[1].length==0?0:parseInt(s[1],10);var a=i[1].length==0?0:parseInt(i[1],10);r=goog.string.internal.compareElements_(r,a)||goog.string.internal.compareElements_(s[2].length==0,i[2].length==0)||goog.string.internal.compareElements_(s[2],i[2]),s=s[3],i=i[3]}while(r==0)}return r};goog.string.internal.compareElements_=function(e,t){return e<t?-1:e>t?1:0};goog.html.SafeUrl=function(){this.privateDoNotAccessOrElseSafeUrlWrappedValue_="",this.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_};goog.html.SafeUrl.INNOCUOUS_STRING="about:invalid#zClosurez";goog.html.SafeUrl.prototype.implementsGoogStringTypedString=!0;goog.html.SafeUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeUrlWrappedValue_.toString()};goog.html.SafeUrl.prototype.implementsGoogI18nBidiDirectionalString=!0;goog.html.SafeUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR};goog.DEBUG&&(goog.html.SafeUrl.prototype.toString=function(){return"SafeUrl{"+this.privateDoNotAccessOrElseSafeUrlWrappedValue_+"}"});goog.html.SafeUrl.unwrap=function(e){return goog.html.SafeUrl.unwrapTrustedURL(e).toString()};goog.html.SafeUrl.unwrapTrustedURL=function(e){return e instanceof goog.html.SafeUrl&&e.constructor===goog.html.SafeUrl&&e.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeUrlWrappedValue_:(goog.asserts.fail("expected object of type SafeUrl, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeUrl")};goog.html.SafeUrl.fromConstant=function(e){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(e))};goog.html.SAFE_MIME_TYPE_PATTERN_=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-wav|wav|webm)|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime))(?:;\w+=(?:\w+|"[\w;=]+"))*$/i;goog.html.SafeUrl.isSafeMimeType=function(e){return goog.html.SAFE_MIME_TYPE_PATTERN_.test(e)};goog.html.SafeUrl.fromBlob=function(e){return e=goog.html.SAFE_MIME_TYPE_PATTERN_.test(e.type)?goog.fs.url.createObjectUrl(e):goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)};goog.html.DATA_URL_PATTERN_=/^data:([^,]*);base64,[a-z0-9+\/]+=*$/i;goog.html.SafeUrl.fromDataUrl=function(e){e=e.replace(/(%0A|%0D)/g,"");var t=e.match(goog.html.DATA_URL_PATTERN_);return t=t&&goog.html.SAFE_MIME_TYPE_PATTERN_.test(t[1]),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t?e:goog.html.SafeUrl.INNOCUOUS_STRING)};goog.html.SafeUrl.fromTelUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"tel:")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)};goog.html.SIP_URL_PATTERN_=/^sip[s]?:[+a-z0-9_.!$%&'*\/=^`{|}~-]+@([a-z0-9-]+\.)+[a-z0-9]{2,63}$/i;goog.html.SafeUrl.fromSipUrl=function(e){return goog.html.SIP_URL_PATTERN_.test(decodeURIComponent(e))||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)};goog.html.SafeUrl.fromFacebookMessengerUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"fb-messenger://share")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)};goog.html.SafeUrl.fromWhatsAppUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"whatsapp://send")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)};goog.html.SafeUrl.fromSmsUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"sms:")&&goog.html.SafeUrl.isSmsUrlBodyValid_(e)||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)};goog.html.SafeUrl.isSmsUrlBodyValid_=function(e){var t=e.indexOf("#");if(0<t&&(e=e.substring(0,t)),t=e.match(/[?&]body=/gi),!t)return!0;if(1<t.length)return!1;if(e=e.match(/[?&]body=([^&]*)/)[1],!e)return!0;try{decodeURIComponent(e)}catch(r){return!1}return/^(?:[a-z0-9\-_.~]|%[0-9a-f]{2})+$/i.test(e)};goog.html.SafeUrl.fromSshUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"ssh://")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)};goog.html.SafeUrl.sanitizeChromeExtensionUrl=function(e,t){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^chrome-extension:\/\/([^\/]+)\//,e,t)};goog.html.SafeUrl.sanitizeFirefoxExtensionUrl=function(e,t){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^moz-extension:\/\/([^\/]+)\//,e,t)};goog.html.SafeUrl.sanitizeEdgeExtensionUrl=function(e,t){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^ms-browser-extension:\/\/([^\/]+)\//,e,t)};goog.html.SafeUrl.sanitizeExtensionUrl_=function(e,t,r){return(e=e.exec(t))?(e=e[1],(r instanceof goog.string.Const?[goog.string.Const.unwrap(r)]:r.map(function(o){return goog.string.Const.unwrap(o)})).indexOf(e)==-1&&(t=goog.html.SafeUrl.INNOCUOUS_STRING)):t=goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)};goog.html.SafeUrl.fromTrustedResourceUrl=function(e){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.html.TrustedResourceUrl.unwrap(e))};goog.html.SAFE_URL_PATTERN_=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;goog.html.SafeUrl.SAFE_URL_PATTERN=goog.html.SAFE_URL_PATTERN_;goog.html.SafeUrl.sanitize=function(e){return e instanceof goog.html.SafeUrl?e:(e=typeof e=="object"&&e.implementsGoogStringTypedString?e.getTypedStringValue():String(e),goog.html.SAFE_URL_PATTERN_.test(e)||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e))};goog.html.SafeUrl.sanitizeAssertUnchanged=function(e,t){return e instanceof goog.html.SafeUrl?e:(e=typeof e=="object"&&e.implementsGoogStringTypedString?e.getTypedStringValue():String(e),t&&/^data:/i.test(e)&&(t=goog.html.SafeUrl.fromDataUrl(e),t.getTypedStringValue()==e)?t:(goog.asserts.assert(goog.html.SAFE_URL_PATTERN_.test(e),"%s does not match the safe URL pattern",e)||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)))};goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={};goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse=function(e){var t=new goog.html.SafeUrl;return t.privateDoNotAccessOrElseSafeUrlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createURL(e):e,t};goog.html.SafeUrl.ABOUT_BLANK=goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse("about:blank");goog.html.SafeStyle=function(){this.privateDoNotAccessOrElseSafeStyleWrappedValue_="",this.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_};goog.html.SafeStyle.prototype.implementsGoogStringTypedString=!0;goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={};goog.html.SafeStyle.fromConstant=function(e){return e=goog.string.Const.unwrap(e),e.length===0?goog.html.SafeStyle.EMPTY:(goog.asserts.assert(goog.string.internal.endsWith(e,";"),"Last character of style string is not ';': "+e),goog.asserts.assert(goog.string.internal.contains(e,":"),`Style string must contain at least one ':', to specify a "name: value" pair: `+e),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(e))};goog.html.SafeStyle.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_};goog.DEBUG&&(goog.html.SafeStyle.prototype.toString=function(){return"SafeStyle{"+this.privateDoNotAccessOrElseSafeStyleWrappedValue_+"}"});goog.html.SafeStyle.unwrap=function(e){return e instanceof goog.html.SafeStyle&&e.constructor===goog.html.SafeStyle&&e.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeStyleWrappedValue_:(goog.asserts.fail("expected object of type SafeStyle, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeStyle")};goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse=function(e){return new goog.html.SafeStyle().initSecurityPrivateDoNotAccessOrElse_(e)};goog.html.SafeStyle.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_=e,this};goog.html.SafeStyle.EMPTY=goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse("");goog.html.SafeStyle.INNOCUOUS_STRING="zClosurez";goog.html.SafeStyle.create=function(e){var t="",r;for(r in e){if(!/^[-_a-zA-Z0-9]+$/.test(r))throw Error("Name allows only [-_a-zA-Z0-9], got: "+r);var o=e[r];o!=null&&(o=goog.isArray(o)?goog.array.map(o,goog.html.SafeStyle.sanitizePropertyValue_).join(" "):goog.html.SafeStyle.sanitizePropertyValue_(o),t+=r+":"+o+";")}return t?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(t):goog.html.SafeStyle.EMPTY};goog.html.SafeStyle.sanitizePropertyValue_=function(e){if(e instanceof goog.html.SafeUrl)return'url("'+goog.html.SafeUrl.unwrap(e).replace(/</g,"%3c").replace(/[\\"]/g,"\\$&")+'")';if(e=e instanceof goog.string.Const?goog.string.Const.unwrap(e):goog.html.SafeStyle.sanitizePropertyValueString_(String(e)),/[{;}]/.test(e))throw new goog.asserts.AssertionError("Value does not allow [{;}], got: %s.",[e]);return e};goog.html.SafeStyle.sanitizePropertyValueString_=function(e){var t=e.replace(goog.html.SafeStyle.FUNCTIONS_RE_,"$1").replace(goog.html.SafeStyle.FUNCTIONS_RE_,"$1").replace(goog.html.SafeStyle.URL_RE_,"url");if(goog.html.SafeStyle.VALUE_RE_.test(t)){if(goog.html.SafeStyle.COMMENT_RE_.test(e))return goog.asserts.fail("String value disallows comments, got: "+e),goog.html.SafeStyle.INNOCUOUS_STRING;if(!goog.html.SafeStyle.hasBalancedQuotes_(e))return goog.asserts.fail("String value requires balanced quotes, got: "+e),goog.html.SafeStyle.INNOCUOUS_STRING;if(!goog.html.SafeStyle.hasBalancedSquareBrackets_(e))return goog.asserts.fail("String value requires balanced square brackets and one identifier per pair of brackets, got: "+e),goog.html.SafeStyle.INNOCUOUS_STRING}else return goog.asserts.fail("String value allows only "+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+" and simple functions, got: "+e),goog.html.SafeStyle.INNOCUOUS_STRING;return goog.html.SafeStyle.sanitizeUrl_(e)};goog.html.SafeStyle.hasBalancedQuotes_=function(e){for(var t=!0,r=!0,o=0;o<e.length;o++){var n=e.charAt(o);n=="'"&&r?t=!t:n=='"'&&t&&(r=!r)}return t&&r};goog.html.SafeStyle.hasBalancedSquareBrackets_=function(e){for(var t=!0,r=/^[-_a-zA-Z0-9]$/,o=0;o<e.length;o++){var n=e.charAt(o);if(n=="]"){if(t)return!1;t=!0}else if(n=="["){if(!t)return!1;t=!1}else if(!t&&!r.test(n))return!1}return t};goog.html.SafeStyle.VALUE_ALLOWED_CHARS_=`[-,."'%_!# a-zA-Z0-9\\[\\]]`;goog.html.SafeStyle.VALUE_RE_=new RegExp("^"+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+"+$");goog.html.SafeStyle.URL_RE_=/\b(url\([ \t\n]*)('[ -&(-\[\]-~]*'|"[ !#-\[\]-~]*"|[!#-&*-\[\]-~]*)([ \t\n]*\))/g;goog.html.SafeStyle.FUNCTIONS_RE_=/\b(hsl|hsla|rgb|rgba|matrix|calc|minmax|fit-content|repeat|(rotate|scale|translate)(X|Y|Z|3d)?)\([-+*/0-9a-z.%\[\], ]+\)/g;goog.html.SafeStyle.COMMENT_RE_=/\/\*/;goog.html.SafeStyle.sanitizeUrl_=function(e){return e.replace(goog.html.SafeStyle.URL_RE_,function(t,r,o,n){var s="";return o=o.replace(/^(['"])(.*)\1$/,function(i,a,g){return s=a,g}),t=goog.html.SafeUrl.sanitize(o).getTypedStringValue(),r+s+t+s+n})};goog.html.SafeStyle.concat=function(e){var t="",r=function(o){goog.isArray(o)?goog.array.forEach(o,r):t+=goog.html.SafeStyle.unwrap(o)};return goog.array.forEach(arguments,r),t?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(t):goog.html.SafeStyle.EMPTY};goog.html.SafeStyleSheet=function(){this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_="",this.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_};goog.html.SafeStyleSheet.prototype.implementsGoogStringTypedString=!0;goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={};goog.html.SafeStyleSheet.createRule=function(e,t){if(goog.string.internal.contains(e,"<"))throw Error("Selector does not allow '<', got: "+e);var r=e.replace(/('|")((?!\1)[^\r\n\f\\]|\\[\s\S])*\1/g,"");if(!/^[-_a-zA-Z0-9#.:* ,>+~[\]()=^$|]+$/.test(r))throw Error("Selector allows only [-_a-zA-Z0-9#.:* ,>+~[\\]()=^$|] and strings, got: "+e);if(!goog.html.SafeStyleSheet.hasBalancedBrackets_(r))throw Error("() and [] in selector must be balanced, got: "+e);return t instanceof goog.html.SafeStyle||(t=goog.html.SafeStyle.create(t)),e=e+"{"+goog.html.SafeStyle.unwrap(t).replace(/</g,"\\3C ")+"}",goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(e)};goog.html.SafeStyleSheet.hasBalancedBrackets_=function(e){for(var t={"(":")","[":"]"},r=[],o=0;o<e.length;o++){var n=e[o];if(t[n])r.push(t[n]);else if(goog.object.contains(t,n)&&r.pop()!=n)return!1}return r.length==0};goog.html.SafeStyleSheet.concat=function(e){var t="",r=function(o){goog.isArray(o)?goog.array.forEach(o,r):t+=goog.html.SafeStyleSheet.unwrap(o)};return goog.array.forEach(arguments,r),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(t)};goog.html.SafeStyleSheet.fromConstant=function(e){return e=goog.string.Const.unwrap(e),e.length===0?goog.html.SafeStyleSheet.EMPTY:(goog.asserts.assert(!goog.string.internal.contains(e,"<"),"Forbidden '<' character in style sheet string: "+e),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(e))};goog.html.SafeStyleSheet.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_};goog.DEBUG&&(goog.html.SafeStyleSheet.prototype.toString=function(){return"SafeStyleSheet{"+this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_+"}"});goog.html.SafeStyleSheet.unwrap=function(e){return e instanceof goog.html.SafeStyleSheet&&e.constructor===goog.html.SafeStyleSheet&&e.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_:(goog.asserts.fail("expected object of type SafeStyleSheet, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeStyleSheet")};goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse=function(e){return new goog.html.SafeStyleSheet().initSecurityPrivateDoNotAccessOrElse_(e)};goog.html.SafeStyleSheet.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_=e,this};goog.html.SafeStyleSheet.EMPTY=goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse("");goog.labs={};goog.labs.userAgent={};goog.labs.userAgent.util={};goog.labs.userAgent.util.getNativeUserAgentString_=function(){var e=goog.labs.userAgent.util.getNavigator_();return e&&(e=e.userAgent)?e:""};goog.labs.userAgent.util.getNavigator_=function(){return goog.global.navigator};goog.labs.userAgent.util.userAgent_=goog.labs.userAgent.util.getNativeUserAgentString_();goog.labs.userAgent.util.setUserAgent=function(e){goog.labs.userAgent.util.userAgent_=e||goog.labs.userAgent.util.getNativeUserAgentString_()};goog.labs.userAgent.util.getUserAgent=function(){return goog.labs.userAgent.util.userAgent_};goog.labs.userAgent.util.matchUserAgent=function(e){var t=goog.labs.userAgent.util.getUserAgent();return goog.string.internal.contains(t,e)};goog.labs.userAgent.util.matchUserAgentIgnoreCase=function(e){var t=goog.labs.userAgent.util.getUserAgent();return goog.string.internal.caseInsensitiveContains(t,e)};goog.labs.userAgent.util.extractVersionTuples=function(e){for(var t=/(\w[\w ]+)\/([^\s]+)\s*(?:\((.*?)\))?/g,r=[],o;o=t.exec(e);)r.push([o[1],o[2],o[3]||void 0]);return r};goog.labs.userAgent.browser={};goog.labs.userAgent.browser.matchOpera_=function(){return goog.labs.userAgent.util.matchUserAgent("Opera")};goog.labs.userAgent.browser.matchIE_=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")};goog.labs.userAgent.browser.matchEdgeHtml_=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")};goog.labs.userAgent.browser.matchEdgeChromium_=function(){return goog.labs.userAgent.util.matchUserAgent("Edg/")};goog.labs.userAgent.browser.matchOperaChromium_=function(){return goog.labs.userAgent.util.matchUserAgent("OPR")};goog.labs.userAgent.browser.matchFirefox_=function(){return goog.labs.userAgent.util.matchUserAgent("Firefox")||goog.labs.userAgent.util.matchUserAgent("FxiOS")};goog.labs.userAgent.browser.matchSafari_=function(){return goog.labs.userAgent.util.matchUserAgent("Safari")&&!(goog.labs.userAgent.browser.matchChrome_()||goog.labs.userAgent.browser.matchCoast_()||goog.labs.userAgent.browser.matchOpera_()||goog.labs.userAgent.browser.matchEdgeHtml_()||goog.labs.userAgent.browser.matchEdgeChromium_()||goog.labs.userAgent.browser.matchOperaChromium_()||goog.labs.userAgent.browser.matchFirefox_()||goog.labs.userAgent.browser.isSilk()||goog.labs.userAgent.util.matchUserAgent("Android"))};goog.labs.userAgent.browser.matchCoast_=function(){return goog.labs.userAgent.util.matchUserAgent("Coast")};goog.labs.userAgent.browser.matchIosWebview_=function(){return(goog.labs.userAgent.util.matchUserAgent("iPad")||goog.labs.userAgent.util.matchUserAgent("iPhone"))&&!goog.labs.userAgent.browser.matchSafari_()&&!goog.labs.userAgent.browser.matchChrome_()&&!goog.labs.userAgent.browser.matchCoast_()&&!goog.labs.userAgent.browser.matchFirefox_()&&goog.labs.userAgent.util.matchUserAgent("AppleWebKit")};goog.labs.userAgent.browser.matchChrome_=function(){return(goog.labs.userAgent.util.matchUserAgent("Chrome")||goog.labs.userAgent.util.matchUserAgent("CriOS"))&&!goog.labs.userAgent.browser.matchEdgeHtml_()};goog.labs.userAgent.browser.matchAndroidBrowser_=function(){return goog.labs.userAgent.util.matchUserAgent("Android")&&!(goog.labs.userAgent.browser.isChrome()||goog.labs.userAgent.browser.isFirefox()||goog.labs.userAgent.browser.isOpera()||goog.labs.userAgent.browser.isSilk())};goog.labs.userAgent.browser.isOpera=goog.labs.userAgent.browser.matchOpera_;goog.labs.userAgent.browser.isIE=goog.labs.userAgent.browser.matchIE_;goog.labs.userAgent.browser.isEdge=goog.labs.userAgent.browser.matchEdgeHtml_;goog.labs.userAgent.browser.isEdgeChromium=goog.labs.userAgent.browser.matchEdgeChromium_;goog.labs.userAgent.browser.isOperaChromium=goog.labs.userAgent.browser.matchOperaChromium_;goog.labs.userAgent.browser.isFirefox=goog.labs.userAgent.browser.matchFirefox_;goog.labs.userAgent.browser.isSafari=goog.labs.userAgent.browser.matchSafari_;goog.labs.userAgent.browser.isCoast=goog.labs.userAgent.browser.matchCoast_;goog.labs.userAgent.browser.isIosWebview=goog.labs.userAgent.browser.matchIosWebview_;goog.labs.userAgent.browser.isChrome=goog.labs.userAgent.browser.matchChrome_;goog.labs.userAgent.browser.isAndroidBrowser=goog.labs.userAgent.browser.matchAndroidBrowser_;goog.labs.userAgent.browser.isSilk=function(){return goog.labs.userAgent.util.matchUserAgent("Silk")};goog.labs.userAgent.browser.getVersion=function(){function e(n){return n=goog.array.find(n,o),r[n]||""}var t=goog.labs.userAgent.util.getUserAgent();if(goog.labs.userAgent.browser.isIE())return goog.labs.userAgent.browser.getIEVersion_(t);t=goog.labs.userAgent.util.extractVersionTuples(t);var r={};goog.array.forEach(t,function(n){r[n[0]]=n[1]});var o=goog.partial(goog.object.containsKey,r);return goog.labs.userAgent.browser.isOpera()?e(["Version","Opera"]):goog.labs.userAgent.browser.isEdge()?e(["Edge"]):goog.labs.userAgent.browser.isEdgeChromium()?e(["Edg"]):goog.labs.userAgent.browser.isChrome()?e(["Chrome","CriOS"]):(t=t[2])&&t[1]||""};goog.labs.userAgent.browser.isVersionOrHigher=function(e){return 0<=goog.string.internal.compareVersions(goog.labs.userAgent.browser.getVersion(),e)};goog.labs.userAgent.browser.getIEVersion_=function(e){var t=/rv: *([\d\.]*)/.exec(e);if(t&&t[1])return t[1];t="";var r=/MSIE +([\d\.]+)/.exec(e);if(r&&r[1])if(e=/Trident\/(\d.\d)/.exec(e),r[1]=="7.0")if(e&&e[1])switch(e[1]){case"4.0":t="8.0";break;case"5.0":t="9.0";break;case"6.0":t="10.0";break;case"7.0":t="11.0"}else t="7.0";else t=r[1];return t};goog.html.SafeHtml=function(){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_="",this.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_,this.dir_=null};goog.html.SafeHtml.prototype.implementsGoogI18nBidiDirectionalString=!0;goog.html.SafeHtml.prototype.getDirection=function(){return this.dir_};goog.html.SafeHtml.prototype.implementsGoogStringTypedString=!0;goog.html.SafeHtml.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_.toString()};goog.DEBUG&&(goog.html.SafeHtml.prototype.toString=function(){return"SafeHtml{"+this.privateDoNotAccessOrElseSafeHtmlWrappedValue_+"}"});goog.html.SafeHtml.unwrap=function(e){return goog.html.SafeHtml.unwrapTrustedHTML(e).toString()};goog.html.SafeHtml.unwrapTrustedHTML=function(e){return e instanceof goog.html.SafeHtml&&e.constructor===goog.html.SafeHtml&&e.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeHtmlWrappedValue_:(goog.asserts.fail("expected object of type SafeHtml, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeHtml")};goog.html.SafeHtml.htmlEscape=function(e){if(e instanceof goog.html.SafeHtml)return e;var t=typeof e=="object",r=null;return t&&e.implementsGoogI18nBidiDirectionalString&&(r=e.getDirection()),e=t&&e.implementsGoogStringTypedString?e.getTypedStringValue():String(e),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.htmlEscape(e),r)};goog.html.SafeHtml.htmlEscapePreservingNewlines=function(e){return e instanceof goog.html.SafeHtml?e:(e=goog.html.SafeHtml.htmlEscape(e),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.newLineToBr(goog.html.SafeHtml.unwrap(e)),e.getDirection()))};goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces=function(e){return e instanceof goog.html.SafeHtml?e:(e=goog.html.SafeHtml.htmlEscape(e),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.whitespaceEscape(goog.html.SafeHtml.unwrap(e)),e.getDirection()))};goog.html.SafeHtml.from=goog.html.SafeHtml.htmlEscape;goog.html.SafeHtml.VALID_NAMES_IN_TAG_=/^[a-zA-Z0-9-]+$/;goog.html.SafeHtml.URL_ATTRIBUTES_={action:!0,cite:!0,data:!0,formaction:!0,href:!0,manifest:!0,poster:!0,src:!0};goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_={APPLET:!0,BASE:!0,EMBED:!0,IFRAME:!0,LINK:!0,MATH:!0,META:!0,OBJECT:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0};goog.html.SafeHtml.create=function(e,t,r){return goog.html.SafeHtml.verifyTagName(String(e)),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(String(e),t,r)};goog.html.SafeHtml.verifyTagName=function(e){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(e))throw Error("Invalid tag name <"+e+">.");if(e.toUpperCase()in goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_)throw Error("Tag name <"+e+"> is not allowed for SafeHtml.")};goog.html.SafeHtml.createIframe=function(e,t,r,o){e&&goog.html.TrustedResourceUrl.unwrap(e);var n={};return n.src=e||null,n.srcdoc=t&&goog.html.SafeHtml.unwrap(t),e=goog.html.SafeHtml.combineAttributes(n,{sandbox:""},r),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",e,o)};goog.html.SafeHtml.createSandboxIframe=function(e,t,r,o){if(!goog.html.SafeHtml.canUseSandboxIframe())throw Error("The browser does not support sandboxed iframes.");var n={};return n.src=e?goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(e)):null,n.srcdoc=t||null,n.sandbox="",e=goog.html.SafeHtml.combineAttributes(n,{},r),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",e,o)};goog.html.SafeHtml.canUseSandboxIframe=function(){return goog.global.HTMLIFrameElement&&"sandbox"in goog.global.HTMLIFrameElement.prototype};goog.html.SafeHtml.createScriptSrc=function(e,t){return goog.html.TrustedResourceUrl.unwrap(e),e=goog.html.SafeHtml.combineAttributes({src:e},{},t),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",e)};goog.html.SafeHtml.createScript=function(e,t){for(var r in t){var o=r.toLowerCase();if(o=="language"||o=="src"||o=="text"||o=="type")throw Error('Cannot set "'+o+'" attribute')}for(r="",e=goog.array.concat(e),o=0;o<e.length;o++)r+=goog.html.SafeScript.unwrap(e[o]);return e=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(r,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",t,e)};goog.html.SafeHtml.createStyle=function(e,t){t=goog.html.SafeHtml.combineAttributes({type:"text/css"},{},t);var r="";e=goog.array.concat(e);for(var o=0;o<e.length;o++)r+=goog.html.SafeStyleSheet.unwrap(e[o]);return e=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(r,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("style",t,e)};goog.html.SafeHtml.createMetaRefresh=function(e,t){return e=goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(e)),(goog.labs.userAgent.browser.isIE()||goog.labs.userAgent.browser.isEdge())&&goog.string.internal.contains(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("meta",{"http-equiv":"refresh",content:(t||0)+"; url="+e})};goog.html.SafeHtml.getAttrNameAndValue_=function(e,t,r){if(r instanceof goog.string.Const)r=goog.string.Const.unwrap(r);else if(t.toLowerCase()=="style")r=goog.html.SafeHtml.getStyleValue_(r);else{if(/^on/i.test(t))throw Error('Attribute "'+t+'" requires goog.string.Const value, "'+r+'" given.');if(t.toLowerCase()in goog.html.SafeHtml.URL_ATTRIBUTES_)if(r instanceof goog.html.TrustedResourceUrl)r=goog.html.TrustedResourceUrl.unwrap(r);else if(r instanceof goog.html.SafeUrl)r=goog.html.SafeUrl.unwrap(r);else if(goog.isString(r))r=goog.html.SafeUrl.sanitize(r).getTypedStringValue();else throw Error('Attribute "'+t+'" on tag "'+e+'" requires goog.html.SafeUrl, goog.string.Const, or string, value "'+r+'" given.')}return r.implementsGoogStringTypedString&&(r=r.getTypedStringValue()),goog.asserts.assert(goog.isString(r)||goog.isNumber(r),"String or number value expected, got "+typeof r+" with value: "+r),t+'="'+goog.string.internal.htmlEscape(String(r))+'"'};goog.html.SafeHtml.getStyleValue_=function(e){if(!goog.isObject(e))throw Error('The "style" attribute requires goog.html.SafeStyle or map of style properties, '+typeof e+" given: "+e);return e instanceof goog.html.SafeStyle||(e=goog.html.SafeStyle.create(e)),goog.html.SafeStyle.unwrap(e)};goog.html.SafeHtml.createWithDir=function(e,t,r,o){return t=goog.html.SafeHtml.create(t,r,o),t.dir_=e,t};goog.html.SafeHtml.join=function(e,t){e=goog.html.SafeHtml.htmlEscape(e);var r=e.getDirection(),o=[],n=function(s){goog.isArray(s)?goog.array.forEach(s,n):(s=goog.html.SafeHtml.htmlEscape(s),o.push(goog.html.SafeHtml.unwrap(s)),s=s.getDirection(),r==goog.i18n.bidi.Dir.NEUTRAL?r=s:s!=goog.i18n.bidi.Dir.NEUTRAL&&r!=s&&(r=null))};return goog.array.forEach(t,n),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(o.join(goog.html.SafeHtml.unwrap(e)),r)};goog.html.SafeHtml.concat=function(e){return goog.html.SafeHtml.join(goog.html.SafeHtml.EMPTY,Array.prototype.slice.call(arguments))};goog.html.SafeHtml.concatWithDir=function(e,t){var r=goog.html.SafeHtml.concat(goog.array.slice(arguments,1));return r.dir_=e,r};goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={};goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse=function(e,t){return new goog.html.SafeHtml().initSecurityPrivateDoNotAccessOrElse_(e,t)};goog.html.SafeHtml.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e,t){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createHTML(e):e,this.dir_=t,this};goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse=function(e,t,r){var o=null,n="<"+e+goog.html.SafeHtml.stringifyAttributes(e,t);return goog.isDefAndNotNull(r)?goog.isArray(r)||(r=[r]):r=[],goog.dom.tags.isVoidTag(e.toLowerCase())?(goog.asserts.assert(!r.length,"Void tag <"+e+"> does not allow content."),n+=">"):(o=goog.html.SafeHtml.concat(r),n+=">"+goog.html.SafeHtml.unwrap(o)+"</"+e+">",o=o.getDirection()),(e=t&&t.dir)&&(o=/^(ltr|rtl|auto)$/i.test(e)?goog.i18n.bidi.Dir.NEUTRAL:null),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(n,o)};goog.html.SafeHtml.stringifyAttributes=function(e,t){var r="";if(t)for(var o in t){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(o))throw Error('Invalid attribute name "'+o+'".');var n=t[o];goog.isDefAndNotNull(n)&&(r+=" "+goog.html.SafeHtml.getAttrNameAndValue_(e,o,n))}return r};goog.html.SafeHtml.combineAttributes=function(e,t,r){var o={},n;for(n in e)goog.asserts.assert(n.toLowerCase()==n,"Must be lower case"),o[n]=e[n];for(n in t)goog.asserts.assert(n.toLowerCase()==n,"Must be lower case"),o[n]=t[n];for(n in r){var s=n.toLowerCase();if(s in e)throw Error('Cannot override "'+s+'" attribute, got "'+n+'" with value "'+r[n]+'"');s in t&&delete o[s],o[n]=r[n]}return o};goog.html.SafeHtml.DOCTYPE_HTML=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<!DOCTYPE html>",goog.i18n.bidi.Dir.NEUTRAL);goog.html.SafeHtml.EMPTY=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("",goog.i18n.bidi.Dir.NEUTRAL);goog.html.SafeHtml.BR=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<br>",goog.i18n.bidi.Dir.NEUTRAL);goog.html.uncheckedconversions={};goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract=function(e,t,r){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(t,r||null)};goog.html.uncheckedconversions.safeScriptFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(t)};goog.html.uncheckedconversions.safeStyleFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(t)};goog.html.uncheckedconversions.safeStyleSheetFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(t)};goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)};goog.html.uncheckedconversions.trustedResourceUrlFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(t)};goog.dom.safe={};goog.dom.safe.InsertAdjacentHtmlPosition={AFTERBEGIN:"afterbegin",AFTEREND:"afterend",BEFOREBEGIN:"beforebegin",BEFOREEND:"beforeend"};goog.dom.safe.insertAdjacentHtml=function(e,t,r){e.insertAdjacentHTML(t,goog.html.SafeHtml.unwrapTrustedHTML(r))};goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_={MATH:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0};goog.dom.safe.isInnerHtmlCleanupRecursive_=goog.functions.cacheReturnValue(function(){if(goog.DEBUG&&typeof document=="undefined")return!1;var e=document.createElement("div"),t=document.createElement("div");return t.appendChild(document.createElement("div")),e.appendChild(t),goog.DEBUG&&!e.firstChild?!1:(t=e.firstChild.firstChild,e.innerHTML=goog.html.SafeHtml.unwrapTrustedHTML(goog.html.SafeHtml.EMPTY),!t.parentElement)});goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse=function(e,t){if(goog.dom.safe.isInnerHtmlCleanupRecursive_())for(;e.lastChild;)e.removeChild(e.lastChild);e.innerHTML=goog.html.SafeHtml.unwrapTrustedHTML(t)};goog.dom.safe.setInnerHtml=function(e,t){if(goog.asserts.ENABLE_ASSERTS){var r=e.tagName.toUpperCase();if(goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_[r])throw Error("goog.dom.safe.setInnerHtml cannot be used to set content of "+e.tagName+".")}goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse(e,t)};goog.dom.safe.setOuterHtml=function(e,t){e.outerHTML=goog.html.SafeHtml.unwrapTrustedHTML(t)};goog.dom.safe.setFormElementAction=function(e,t){t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),goog.dom.asserts.assertIsHTMLFormElement(e).action=goog.html.SafeUrl.unwrapTrustedURL(t)};goog.dom.safe.setButtonFormAction=function(e,t){t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),goog.dom.asserts.assertIsHTMLButtonElement(e).formAction=goog.html.SafeUrl.unwrapTrustedURL(t)};goog.dom.safe.setInputFormAction=function(e,t){t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),goog.dom.asserts.assertIsHTMLInputElement(e).formAction=goog.html.SafeUrl.unwrapTrustedURL(t)};goog.dom.safe.setStyle=function(e,t){e.style.cssText=goog.html.SafeStyle.unwrap(t)};goog.dom.safe.documentWrite=function(e,t){e.write(goog.html.SafeHtml.unwrapTrustedHTML(t))};goog.dom.safe.setAnchorHref=function(e,t){goog.dom.asserts.assertIsHTMLAnchorElement(e),t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),e.href=goog.html.SafeUrl.unwrapTrustedURL(t)};goog.dom.safe.setImageSrc=function(e,t){if(goog.dom.asserts.assertIsHTMLImageElement(e),!(t instanceof goog.html.SafeUrl)){var r=/^data:image\//i.test(t);t=goog.html.SafeUrl.sanitizeAssertUnchanged(t,r)}e.src=goog.html.SafeUrl.unwrapTrustedURL(t)};goog.dom.safe.setAudioSrc=function(e,t){if(goog.dom.asserts.assertIsHTMLAudioElement(e),!(t instanceof goog.html.SafeUrl)){var r=/^data:audio\//i.test(t);t=goog.html.SafeUrl.sanitizeAssertUnchanged(t,r)}e.src=goog.html.SafeUrl.unwrapTrustedURL(t)};goog.dom.safe.setVideoSrc=function(e,t){if(goog.dom.asserts.assertIsHTMLVideoElement(e),!(t instanceof goog.html.SafeUrl)){var r=/^data:video\//i.test(t);t=goog.html.SafeUrl.sanitizeAssertUnchanged(t,r)}e.src=goog.html.SafeUrl.unwrapTrustedURL(t)};goog.dom.safe.setEmbedSrc=function(e,t){goog.dom.asserts.assertIsHTMLEmbedElement(e),e.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(t)};goog.dom.safe.setFrameSrc=function(e,t){goog.dom.asserts.assertIsHTMLFrameElement(e),e.src=goog.html.TrustedResourceUrl.unwrapTrustedURL(t)};goog.dom.safe.setIframeSrc=function(e,t){goog.dom.asserts.assertIsHTMLIFrameElement(e),e.src=goog.html.TrustedResourceUrl.unwrapTrustedURL(t)};goog.dom.safe.setIframeSrcdoc=function(e,t){goog.dom.asserts.assertIsHTMLIFrameElement(e),e.srcdoc=goog.html.SafeHtml.unwrapTrustedHTML(t)};goog.dom.safe.setLinkHrefAndRel=function(e,t,r){goog.dom.asserts.assertIsHTMLLinkElement(e),e.rel=r,goog.string.internal.caseInsensitiveContains(r,"stylesheet")?(goog.asserts.assert(t instanceof goog.html.TrustedResourceUrl,'URL must be TrustedResourceUrl because "rel" contains "stylesheet"'),e.href=goog.html.TrustedResourceUrl.unwrapTrustedURL(t)):e.href=t instanceof goog.html.TrustedResourceUrl?goog.html.TrustedResourceUrl.unwrapTrustedURL(t):t instanceof goog.html.SafeUrl?goog.html.SafeUrl.unwrapTrustedURL(t):goog.html.SafeUrl.unwrapTrustedURL(goog.html.SafeUrl.sanitizeAssertUnchanged(t))};goog.dom.safe.setObjectData=function(e,t){goog.dom.asserts.assertIsHTMLObjectElement(e),e.data=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(t)};goog.dom.safe.setScriptSrc=function(e,t){goog.dom.asserts.assertIsHTMLScriptElement(e),e.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(t),(t=goog.getScriptNonce())&&e.setAttribute("nonce",t)};goog.dom.safe.setScriptContent=function(e,t){goog.dom.asserts.assertIsHTMLScriptElement(e),e.text=goog.html.SafeScript.unwrapTrustedScript(t),(t=goog.getScriptNonce())&&e.setAttribute("nonce",t)};goog.dom.safe.setLocationHref=function(e,t){goog.dom.asserts.assertIsLocation(e),t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),e.href=goog.html.SafeUrl.unwrapTrustedURL(t)};goog.dom.safe.assignLocation=function(e,t){goog.dom.asserts.assertIsLocation(e),t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),e.assign(goog.html.SafeUrl.unwrapTrustedURL(t))};goog.dom.safe.replaceLocation=function(e,t){goog.dom.asserts.assertIsLocation(e),t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),e.replace(goog.html.SafeUrl.unwrapTrustedURL(t))};goog.dom.safe.openInWindow=function(e,t,r,o,n){return e=e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitizeAssertUnchanged(e),(t||goog.global).open(goog.html.SafeUrl.unwrapTrustedURL(e),r?goog.string.Const.unwrap(r):"",o,n)};goog.dom.safe.parseFromStringHtml=function(e,t){return goog.dom.safe.parseFromString(e,t,"text/html")};goog.dom.safe.parseFromString=function(e,t,r){return e.parseFromString(goog.html.SafeHtml.unwrapTrustedHTML(t),r)};goog.dom.safe.createImageFromBlob=function(e){if(!/^image\/.*/g.test(e.type))throw Error("goog.dom.safe.createImageFromBlob only accepts MIME type image/.*.");var t=goog.global.URL.createObjectURL(e);return e=new goog.global.Image,e.onload=function(){goog.global.URL.revokeObjectURL(t)},goog.dom.safe.setImageSrc(e,goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Image blob URL."),t)),e};goog.string.DETECT_DOUBLE_ESCAPING=!1;goog.string.FORCE_NON_DOM_HTML_UNESCAPING=!1;goog.string.Unicode={NBSP:"\xA0"};goog.string.startsWith=goog.string.internal.startsWith;goog.string.endsWith=goog.string.internal.endsWith;goog.string.caseInsensitiveStartsWith=goog.string.internal.caseInsensitiveStartsWith;goog.string.caseInsensitiveEndsWith=goog.string.internal.caseInsensitiveEndsWith;goog.string.caseInsensitiveEquals=goog.string.internal.caseInsensitiveEquals;goog.string.subs=function(e,t){for(var r=e.split("%s"),o="",n=Array.prototype.slice.call(arguments,1);n.length&&1<r.length;)o+=r.shift()+n.shift();return o+r.join("%s")};goog.string.collapseWhitespace=function(e){return e.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")};goog.string.isEmptyOrWhitespace=goog.string.internal.isEmptyOrWhitespace;goog.string.isEmptyString=function(e){return e.length==0};goog.string.isEmpty=goog.string.isEmptyOrWhitespace;goog.string.isEmptyOrWhitespaceSafe=function(e){return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(e))};goog.string.isEmptySafe=goog.string.isEmptyOrWhitespaceSafe;goog.string.isBreakingWhitespace=function(e){return!/[^\t\n\r ]/.test(e)};goog.string.isAlpha=function(e){return!/[^a-zA-Z]/.test(e)};goog.string.isNumeric=function(e){return!/[^0-9]/.test(e)};goog.string.isAlphaNumeric=function(e){return!/[^a-zA-Z0-9]/.test(e)};goog.string.isSpace=function(e){return e==" "};goog.string.isUnicodeChar=function(e){return e.length==1&&" "<=e&&"~">=e||"\x80"<=e&&"\uFFFD">=e};goog.string.stripNewlines=function(e){return e.replace(/(\r\n|\r|\n)+/g," ")};goog.string.canonicalizeNewlines=function(e){return e.replace(/(\r\n|\r|\n)/g,`
`)};goog.string.normalizeWhitespace=function(e){return e.replace(/\xa0|\s/g," ")};goog.string.normalizeSpaces=function(e){return e.replace(/\xa0|[ \t]+/g," ")};goog.string.collapseBreakingSpaces=function(e){return e.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")};goog.string.trim=goog.string.internal.trim;goog.string.trimLeft=function(e){return e.replace(/^[\s\xa0]+/,"")};goog.string.trimRight=function(e){return e.replace(/[\s\xa0]+$/,"")};goog.string.caseInsensitiveCompare=goog.string.internal.caseInsensitiveCompare;goog.string.numberAwareCompare_=function(e,t,r){if(e==t)return 0;if(!e)return-1;if(!t)return 1;for(var o=e.toLowerCase().match(r),n=t.toLowerCase().match(r),s=Math.min(o.length,n.length),i=0;i<s;i++){r=o[i];var a=n[i];if(r!=a)return e=parseInt(r,10),!isNaN(e)&&(t=parseInt(a,10),!isNaN(t)&&e-t)?e-t:r<a?-1:1}return o.length!=n.length?o.length-n.length:e<t?-1:1};goog.string.intAwareCompare=function(e,t){return goog.string.numberAwareCompare_(e,t,/\d+|\D+/g)};goog.string.floatAwareCompare=function(e,t){return goog.string.numberAwareCompare_(e,t,/\d+|\.\d+|\D+/g)};goog.string.numerateCompare=goog.string.floatAwareCompare;goog.string.urlEncode=function(e){return encodeURIComponent(String(e))};goog.string.urlDecode=function(e){return decodeURIComponent(e.replace(/\+/g," "))};goog.string.newLineToBr=goog.string.internal.newLineToBr;goog.string.htmlEscape=function(e,t){return e=goog.string.internal.htmlEscape(e,t),goog.string.DETECT_DOUBLE_ESCAPING&&(e=e.replace(goog.string.E_RE_,"&#101;")),e};goog.string.E_RE_=/e/g;goog.string.unescapeEntities=function(e){return goog.string.contains(e,"&")?!goog.string.FORCE_NON_DOM_HTML_UNESCAPING&&"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(e):goog.string.unescapePureXmlEntities_(e):e};goog.string.unescapeEntitiesWithDocument=function(e,t){return goog.string.contains(e,"&")?goog.string.unescapeEntitiesUsingDom_(e,t):e};goog.string.unescapeEntitiesUsingDom_=function(e,t){var r={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},o=t?t.createElement("div"):goog.global.document.createElement("div");return e.replace(goog.string.HTML_ENTITY_PATTERN_,function(n,s){var i=r[n];return i||(s.charAt(0)=="#"&&(s=Number("0"+s.substr(1)),isNaN(s)||(i=String.fromCharCode(s))),i||(goog.dom.safe.setInnerHtml(o,goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Single HTML entity."),n+" ")),i=o.firstChild.nodeValue.slice(0,-1)),r[n]=i)})};goog.string.unescapePureXmlEntities_=function(e){return e.replace(/&([^;]+);/g,function(t,r){switch(r){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return'"';default:return r.charAt(0)!="#"||(r=Number("0"+r.substr(1)),isNaN(r))?t:String.fromCharCode(r)}})};goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g;goog.string.whitespaceEscape=function(e,t){return goog.string.newLineToBr(e.replace(/  /g," &#160;"),t)};goog.string.preserveSpaces=function(e){return e.replace(/(^|[\n ]) /g,"$1"+goog.string.Unicode.NBSP)};goog.string.stripQuotes=function(e,t){for(var r=t.length,o=0;o<r;o++){var n=r==1?t:t.charAt(o);if(e.charAt(0)==n&&e.charAt(e.length-1)==n)return e.substring(1,e.length-1)}return e};goog.string.truncate=function(e,t,r){return r&&(e=goog.string.unescapeEntities(e)),e.length>t&&(e=e.substring(0,t-3)+"..."),r&&(e=goog.string.htmlEscape(e)),e};goog.string.truncateMiddle=function(e,t,r,o){if(r&&(e=goog.string.unescapeEntities(e)),o&&e.length>t){o>t&&(o=t);var n=e.length-o;e=e.substring(0,t-o)+"..."+e.substring(n)}else e.length>t&&(o=Math.floor(t/2),n=e.length-o,e=e.substring(0,o+t%2)+"..."+e.substring(n));return r&&(e=goog.string.htmlEscape(e)),e};goog.string.specialEscapeChars_={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\","<":"\\u003C"};goog.string.jsEscapeCache_={"'":"\\'"};goog.string.quote=function(e){e=String(e);for(var t=['"'],r=0;r<e.length;r++){var o=e.charAt(r),n=o.charCodeAt(0);t[r+1]=goog.string.specialEscapeChars_[o]||(31<n&&127>n?o:goog.string.escapeChar(o))}return t.push('"'),t.join("")};goog.string.escapeString=function(e){for(var t=[],r=0;r<e.length;r++)t[r]=goog.string.escapeChar(e.charAt(r));return t.join("")};goog.string.escapeChar=function(e){if(e in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[e];if(e in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[e]=goog.string.specialEscapeChars_[e];var t=e.charCodeAt(0);if(31<t&&127>t)var r=e;else 256>t?(r="\\x",(16>t||256<t)&&(r+="0")):(r="\\u",4096>t&&(r+="0")),r+=t.toString(16).toUpperCase();return goog.string.jsEscapeCache_[e]=r};goog.string.contains=goog.string.internal.contains;goog.string.caseInsensitiveContains=goog.string.internal.caseInsensitiveContains;goog.string.countOf=function(e,t){return e&&t?e.split(t).length-1:0};goog.string.removeAt=function(e,t,r){var o=e;return 0<=t&&t<e.length&&0<r&&(o=e.substr(0,t)+e.substr(t+r,e.length-t-r)),o};goog.string.remove=function(e,t){return e.replace(t,"")};goog.string.removeAll=function(e,t){return t=new RegExp(goog.string.regExpEscape(t),"g"),e.replace(t,"")};goog.string.replaceAll=function(e,t,r){return t=new RegExp(goog.string.regExpEscape(t),"g"),e.replace(t,r.replace(/\$/g,"$$$$"))};goog.string.regExpEscape=function(e){return String(e).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")};goog.string.repeat=String.prototype.repeat?function(e,t){return e.repeat(t)}:function(e,t){return Array(t+1).join(e)};goog.string.padNumber=function(e,t,r){return e=goog.isDef(r)?e.toFixed(r):String(e),r=e.indexOf("."),r==-1&&(r=e.length),goog.string.repeat("0",Math.max(0,t-r))+e};goog.string.makeSafe=function(e){return e==null?"":String(e)};goog.string.buildString=function(e){return Array.prototype.join.call(arguments,"")};goog.string.getRandomString=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^goog.now()).toString(36)};goog.string.compareVersions=goog.string.internal.compareVersions;goog.string.hashCode=function(e){for(var t=0,r=0;r<e.length;++r)t=31*t+e.charCodeAt(r)>>>0;return t};goog.string.uniqueStringCounter_=2147483648*Math.random()|0;goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++};goog.string.toNumber=function(e){var t=Number(e);return t==0&&goog.string.isEmptyOrWhitespace(e)?NaN:t};goog.string.isLowerCamelCase=function(e){return/^[a-z]+([A-Z][a-z]*)*$/.test(e)};goog.string.isUpperCamelCase=function(e){return/^([A-Z][a-z]*)+$/.test(e)};goog.string.toCamelCase=function(e){return String(e).replace(/\-([a-z])/g,function(t,r){return r.toUpperCase()})};goog.string.toSelectorCase=function(e){return String(e).replace(/([A-Z])/g,"-$1").toLowerCase()};goog.string.toTitleCase=function(e,t){return t=goog.isString(t)?goog.string.regExpEscape(t):"\\s",e.replace(new RegExp("(^"+(t?"|["+t+"]+":"")+")([a-z])","g"),function(r,o,n){return o+n.toUpperCase()})};goog.string.capitalize=function(e){return String(e.charAt(0)).toUpperCase()+String(e.substr(1)).toLowerCase()};goog.string.parseInt=function(e){return isFinite(e)&&(e=String(e)),goog.isString(e)?/^\s*-?0x/i.test(e)?parseInt(e,16):parseInt(e,10):NaN};goog.string.splitLimit=function(e,t,r){e=e.split(t);for(var o=[];0<r&&e.length;)o.push(e.shift()),r--;return e.length&&o.push(e.join(t)),o};goog.string.lastComponent=function(e,t){if(t)typeof t=="string"&&(t=[t]);else return e;for(var r=-1,o=0;o<t.length;o++)if(t[o]!=""){var n=e.lastIndexOf(t[o]);n>r&&(r=n)}return r==-1?e:e.slice(r+1)};goog.string.editDistance=function(e,t){var r=[],o=[];if(e==t)return 0;if(!e.length||!t.length)return Math.max(e.length,t.length);for(var n=0;n<t.length+1;n++)r[n]=n;for(n=0;n<e.length;n++){o[0]=n+1;for(var s=0;s<t.length;s++)o[s+1]=Math.min(o[s]+1,r[s+1]+1,r[s]+Number(e[n]!=t[s]));for(s=0;s<r.length;s++)r[s]=o[s]}return o[t.length]};goog.labs.userAgent.engine={};goog.labs.userAgent.engine.isPresto=function(){return goog.labs.userAgent.util.matchUserAgent("Presto")};goog.labs.userAgent.engine.isTrident=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")};goog.labs.userAgent.engine.isEdge=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")};goog.labs.userAgent.engine.isWebKit=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("WebKit")&&!goog.labs.userAgent.engine.isEdge()};goog.labs.userAgent.engine.isGecko=function(){return goog.labs.userAgent.util.matchUserAgent("Gecko")&&!goog.labs.userAgent.engine.isWebKit()&&!goog.labs.userAgent.engine.isTrident()&&!goog.labs.userAgent.engine.isEdge()};goog.labs.userAgent.engine.getVersion=function(){var e=goog.labs.userAgent.util.getUserAgent();if(e){e=goog.labs.userAgent.util.extractVersionTuples(e);var t=goog.labs.userAgent.engine.getEngineTuple_(e);if(t)return t[0]=="Gecko"?goog.labs.userAgent.engine.getVersionForKey_(e,"Firefox"):t[1];e=e[0];var r;if(e&&(r=e[2])&&(r=/Trident\/([^\s;]+)/.exec(r)))return r[1]}return""};goog.labs.userAgent.engine.getEngineTuple_=function(e){if(!goog.labs.userAgent.engine.isEdge())return e[1];for(var t=0;t<e.length;t++){var r=e[t];if(r[0]=="Edge")return r}};goog.labs.userAgent.engine.isVersionOrHigher=function(e){return 0<=goog.string.compareVersions(goog.labs.userAgent.engine.getVersion(),e)};goog.labs.userAgent.engine.getVersionForKey_=function(e,t){return(e=goog.array.find(e,function(r){return t==r[0]}))&&e[1]||""};goog.labs.userAgent.platform={};goog.labs.userAgent.platform.isAndroid=function(){return goog.labs.userAgent.util.matchUserAgent("Android")};goog.labs.userAgent.platform.isIpod=function(){return goog.labs.userAgent.util.matchUserAgent("iPod")};goog.labs.userAgent.platform.isIphone=function(){return goog.labs.userAgent.util.matchUserAgent("iPhone")&&!goog.labs.userAgent.util.matchUserAgent("iPod")&&!goog.labs.userAgent.util.matchUserAgent("iPad")};goog.labs.userAgent.platform.isIpad=function(){return goog.labs.userAgent.util.matchUserAgent("iPad")};goog.labs.userAgent.platform.isIos=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpad()||goog.labs.userAgent.platform.isIpod()};goog.labs.userAgent.platform.isMacintosh=function(){return goog.labs.userAgent.util.matchUserAgent("Macintosh")};goog.labs.userAgent.platform.isLinux=function(){return goog.labs.userAgent.util.matchUserAgent("Linux")};goog.labs.userAgent.platform.isWindows=function(){return goog.labs.userAgent.util.matchUserAgent("Windows")};goog.labs.userAgent.platform.isChromeOS=function(){return goog.labs.userAgent.util.matchUserAgent("CrOS")};goog.labs.userAgent.platform.isChromecast=function(){return goog.labs.userAgent.util.matchUserAgent("CrKey")};goog.labs.userAgent.platform.isKaiOS=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("KaiOS")};goog.labs.userAgent.platform.isGo2Phone=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("GAFP")};goog.labs.userAgent.platform.getVersion=function(){var e=goog.labs.userAgent.util.getUserAgent(),t="";return goog.labs.userAgent.platform.isWindows()?(t=/Windows (?:NT|Phone) ([0-9.]+)/,t=(e=t.exec(e))?e[1]:"0.0"):goog.labs.userAgent.platform.isIos()?(t=/(?:iPhone|iPod|iPad|CPU)\s+OS\s+(\S+)/,t=(e=t.exec(e))&&e[1].replace(/_/g,".")):goog.labs.userAgent.platform.isMacintosh()?(t=/Mac OS X ([0-9_.]+)/,t=(e=t.exec(e))?e[1].replace(/_/g,"."):"10"):goog.labs.userAgent.platform.isKaiOS()?(t=/(?:KaiOS)\/(\S+)/i,t=(e=t.exec(e))&&e[1]):goog.labs.userAgent.platform.isAndroid()?(t=/Android\s+([^\);]+)(\)|;)/,t=(e=t.exec(e))&&e[1]):goog.labs.userAgent.platform.isChromeOS()&&(t=/(?:CrOS\s+(?:i686|x86_64)\s+([0-9.]+))/,t=(e=t.exec(e))&&e[1]),t||""};goog.labs.userAgent.platform.isVersionOrHigher=function(e){return 0<=goog.string.compareVersions(goog.labs.userAgent.platform.getVersion(),e)};goog.reflect={};goog.reflect.object=function(e,t){return t};goog.reflect.objectProperty=function(e,t){return e};goog.reflect.sinkValue=function(e){return goog.reflect.sinkValue[" "](e),e};goog.reflect.sinkValue[" "]=goog.nullFunction;goog.reflect.canAccessProperty=function(e,t){try{return goog.reflect.sinkValue(e[t]),!0}catch(r){}return!1};goog.reflect.cache=function(e,t,r,o){return o=o?o(t):t,Object.prototype.hasOwnProperty.call(e,o)?e[o]:e[o]=r(t)};goog.userAgent={};goog.userAgent.ASSUME_IE=!1;goog.userAgent.ASSUME_EDGE=!1;goog.userAgent.ASSUME_GECKO=!1;goog.userAgent.ASSUME_WEBKIT=!1;goog.userAgent.ASSUME_MOBILE_WEBKIT=!1;goog.userAgent.ASSUME_OPERA=!1;goog.userAgent.ASSUME_ANY_VERSION=!1;goog.userAgent.BROWSER_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_GECKO||goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_OPERA;goog.userAgent.getUserAgentString=function(){return goog.labs.userAgent.util.getUserAgent()};goog.userAgent.getNavigatorTyped=function(){return goog.global.navigator||null};goog.userAgent.getNavigator=function(){return goog.userAgent.getNavigatorTyped()};goog.userAgent.OPERA=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_OPERA:goog.labs.userAgent.browser.isOpera();goog.userAgent.IE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_IE:goog.labs.userAgent.browser.isIE();goog.userAgent.EDGE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_EDGE:goog.labs.userAgent.engine.isEdge();goog.userAgent.EDGE_OR_IE=goog.userAgent.EDGE||goog.userAgent.IE;goog.userAgent.GECKO=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_GECKO:goog.labs.userAgent.engine.isGecko();goog.userAgent.WEBKIT=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_MOBILE_WEBKIT:goog.labs.userAgent.engine.isWebKit();goog.userAgent.isMobile_=function(){return goog.userAgent.WEBKIT&&goog.labs.userAgent.util.matchUserAgent("Mobile")};goog.userAgent.MOBILE=goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.isMobile_();goog.userAgent.SAFARI=goog.userAgent.WEBKIT;goog.userAgent.determinePlatform_=function(){var e=goog.userAgent.getNavigatorTyped();return e&&e.platform||""};goog.userAgent.PLATFORM=goog.userAgent.determinePlatform_();goog.userAgent.ASSUME_MAC=!1;goog.userAgent.ASSUME_WINDOWS=!1;goog.userAgent.ASSUME_LINUX=!1;goog.userAgent.ASSUME_X11=!1;goog.userAgent.ASSUME_ANDROID=!1;goog.userAgent.ASSUME_IPHONE=!1;goog.userAgent.ASSUME_IPAD=!1;goog.userAgent.ASSUME_IPOD=!1;goog.userAgent.ASSUME_KAIOS=!1;goog.userAgent.ASSUME_GO2PHONE=!1;goog.userAgent.PLATFORM_KNOWN_=goog.userAgent.ASSUME_MAC||goog.userAgent.ASSUME_WINDOWS||goog.userAgent.ASSUME_LINUX||goog.userAgent.ASSUME_X11||goog.userAgent.ASSUME_ANDROID||goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD;goog.userAgent.MAC=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_MAC:goog.labs.userAgent.platform.isMacintosh();goog.userAgent.WINDOWS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_WINDOWS:goog.labs.userAgent.platform.isWindows();goog.userAgent.isLegacyLinux_=function(){return goog.labs.userAgent.platform.isLinux()||goog.labs.userAgent.platform.isChromeOS()};goog.userAgent.LINUX=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_LINUX:goog.userAgent.isLegacyLinux_();goog.userAgent.isX11_=function(){var e=goog.userAgent.getNavigatorTyped();return!!e&&goog.string.contains(e.appVersion||"","X11")};goog.userAgent.X11=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_X11:goog.userAgent.isX11_();goog.userAgent.ANDROID=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_ANDROID:goog.labs.userAgent.platform.isAndroid();goog.userAgent.IPHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE:goog.labs.userAgent.platform.isIphone();goog.userAgent.IPAD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad();goog.userAgent.IPOD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIpod();goog.userAgent.IOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIos();goog.userAgent.KAIOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_KAIOS:goog.labs.userAgent.platform.isKaiOS();goog.userAgent.GO2PHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_GO2PHONE:goog.labs.userAgent.platform.isGo2Phone();goog.userAgent.determineVersion_=function(){var e="",t=goog.userAgent.getVersionRegexResult_();return t&&(e=t?t[1]:""),goog.userAgent.IE&&(t=goog.userAgent.getDocumentMode_(),t!=null&&t>parseFloat(e))?String(t):e};goog.userAgent.getVersionRegexResult_=function(){var e=goog.userAgent.getUserAgentString();if(goog.userAgent.GECKO)return/rv:([^\);]+)(\)|;)/.exec(e);if(goog.userAgent.EDGE)return/Edge\/([\d\.]+)/.exec(e);if(goog.userAgent.IE)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(goog.userAgent.WEBKIT)return/WebKit\/(\S+)/.exec(e);if(goog.userAgent.OPERA)return/(?:Version)[ \/]?(\S+)/.exec(e)};goog.userAgent.getDocumentMode_=function(){var e=goog.global.document;return e?e.documentMode:void 0};goog.userAgent.VERSION=goog.userAgent.determineVersion_();goog.userAgent.compare=function(e,t){return goog.string.compareVersions(e,t)};goog.userAgent.isVersionOrHigherCache_={};goog.userAgent.isVersionOrHigher=function(e){return goog.userAgent.ASSUME_ANY_VERSION||goog.reflect.cache(goog.userAgent.isVersionOrHigherCache_,e,function(){return 0<=goog.string.compareVersions(goog.userAgent.VERSION,e)})};goog.userAgent.isVersion=goog.userAgent.isVersionOrHigher;goog.userAgent.isDocumentModeOrHigher=function(e){return Number(goog.userAgent.DOCUMENT_MODE)>=e};goog.userAgent.isDocumentMode=goog.userAgent.isDocumentModeOrHigher;goog.userAgent.DOCUMENT_MODE=function(){if(goog.global.document&&goog.userAgent.IE)return goog.userAgent.getDocumentMode_()}();goog.userAgent.product={};goog.userAgent.product.ASSUME_FIREFOX=!1;goog.userAgent.product.ASSUME_IPHONE=!1;goog.userAgent.product.ASSUME_IPAD=!1;goog.userAgent.product.ASSUME_ANDROID=!1;goog.userAgent.product.ASSUME_CHROME=!1;goog.userAgent.product.ASSUME_SAFARI=!1;goog.userAgent.product.PRODUCT_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_OPERA||goog.userAgent.product.ASSUME_FIREFOX||goog.userAgent.product.ASSUME_IPHONE||goog.userAgent.product.ASSUME_IPAD||goog.userAgent.product.ASSUME_ANDROID||goog.userAgent.product.ASSUME_CHROME||goog.userAgent.product.ASSUME_SAFARI;goog.userAgent.product.OPERA=goog.userAgent.OPERA;goog.userAgent.product.IE=goog.userAgent.IE;goog.userAgent.product.EDGE=goog.userAgent.EDGE;goog.userAgent.product.FIREFOX=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_FIREFOX:goog.labs.userAgent.browser.isFirefox();goog.userAgent.product.isIphoneOrIpod_=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpod()};goog.userAgent.product.IPHONE=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPHONE:goog.userAgent.product.isIphoneOrIpod_();goog.userAgent.product.IPAD=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad();goog.userAgent.product.ANDROID=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_ANDROID:goog.labs.userAgent.browser.isAndroidBrowser();goog.userAgent.product.CHROME=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_CHROME:goog.labs.userAgent.browser.isChrome();goog.userAgent.product.isSafariDesktop_=function(){return goog.labs.userAgent.browser.isSafari()&&!goog.labs.userAgent.platform.isIos()};goog.userAgent.product.SAFARI=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_SAFARI:goog.userAgent.product.isSafariDesktop_();goog.crypt.base64={};goog.crypt.base64.DEFAULT_ALPHABET_COMMON_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";goog.crypt.base64.ENCODED_VALS=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_+"+/=";goog.crypt.base64.ENCODED_VALS_WEBSAFE=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_+"-_.";goog.crypt.base64.Alphabet={DEFAULT:0,NO_PADDING:1,WEBSAFE:2,WEBSAFE_DOT_PADDING:3,WEBSAFE_NO_PADDING:4};goog.crypt.base64.paddingChars_="=.";goog.crypt.base64.isPadding_=function(e){return goog.string.contains(goog.crypt.base64.paddingChars_,e)};goog.crypt.base64.byteToCharMaps_={};goog.crypt.base64.charToByteMap_=null;goog.crypt.base64.ASSUME_NATIVE_SUPPORT_=goog.userAgent.GECKO||goog.userAgent.WEBKIT&&!goog.userAgent.product.SAFARI||goog.userAgent.OPERA;goog.crypt.base64.HAS_NATIVE_ENCODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||typeof goog.global.btoa=="function";goog.crypt.base64.HAS_NATIVE_DECODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||!goog.userAgent.product.SAFARI&&!goog.userAgent.IE&&typeof goog.global.atob=="function";goog.crypt.base64.encodeByteArray=function(e,t){goog.asserts.assert(goog.isArrayLike(e),"encodeByteArray takes an array as a parameter"),t===void 0&&(t=goog.crypt.base64.Alphabet.DEFAULT),goog.crypt.base64.init_(),t=goog.crypt.base64.byteToCharMaps_[t];for(var r=[],o=0;o<e.length;o+=3){var n=e[o],s=o+1<e.length,i=s?e[o+1]:0,a=o+2<e.length,g=a?e[o+2]:0,u=n>>2;n=(n&3)<<4|i>>4,i=(i&15)<<2|g>>6,g&=63,a||(g=64,s||(i=64)),r.push(t[u],t[n],t[i]||"",t[g]||"")}return r.join("")};goog.crypt.base64.encodeString=function(e,t){return goog.crypt.base64.HAS_NATIVE_ENCODE_&&!t?goog.global.btoa(e):goog.crypt.base64.encodeByteArray(goog.crypt.stringToByteArray(e),t)};goog.crypt.base64.decodeString=function(e,t){if(goog.crypt.base64.HAS_NATIVE_DECODE_&&!t)return goog.global.atob(e);var r="";return goog.crypt.base64.decodeStringInternal_(e,function(o){r+=String.fromCharCode(o)}),r};goog.crypt.base64.decodeStringToByteArray=function(e,t){var r=[];return goog.crypt.base64.decodeStringInternal_(e,function(o){r.push(o)}),r};goog.crypt.base64.decodeStringToUint8Array=function(e){goog.asserts.assert(!goog.userAgent.IE||goog.userAgent.isVersionOrHigher("10"),"Browser does not support typed arrays");var t=e.length,r=3*t/4;r%3?r=Math.floor(r):goog.crypt.base64.isPadding_(e[t-1])&&(r=goog.crypt.base64.isPadding_(e[t-2])?r-2:r-1);var o=new Uint8Array(r),n=0;return goog.crypt.base64.decodeStringInternal_(e,function(s){o[n++]=s}),o.subarray(0,n)};goog.crypt.base64.decodeStringInternal_=function(e,t){function r(g){for(;o<e.length;){var u=e.charAt(o++),d=goog.crypt.base64.charToByteMap_[u];if(d!=null)return d;if(!goog.string.isEmptyOrWhitespace(u))throw Error("Unknown base64 encoding at char: "+u)}return g}goog.crypt.base64.init_();for(var o=0;;){var n=r(-1),s=r(0),i=r(64),a=r(64);if(a===64&&n===-1)break;t(n<<2|s>>4),i!=64&&(t(s<<4&240|i>>2),a!=64&&t(i<<6&192|a))}};goog.crypt.base64.init_=function(){if(!goog.crypt.base64.charToByteMap_){goog.crypt.base64.charToByteMap_={};for(var e=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_.split(""),t=["+/=","+/","-_=","-_.","-_"],r=0;5>r;r++){var o=e.concat(t[r].split(""));goog.crypt.base64.byteToCharMaps_[r]=o;for(var n=0;n<o.length;n++){var s=o[n],i=goog.crypt.base64.charToByteMap_[s];i===void 0?goog.crypt.base64.charToByteMap_[s]=n:goog.asserts.assert(i===n)}}}};jspb.utils={};jspb.utils.split64Low=0;jspb.utils.split64High=0;jspb.utils.splitUint64=function(e){var t=e>>>0;e=Math.floor((e-t)/jspb.BinaryConstants.TWO_TO_32)>>>0,jspb.utils.split64Low=t,jspb.utils.split64High=e};jspb.utils.splitInt64=function(e){var t=0>e;e=Math.abs(e);var r=e>>>0;e=Math.floor((e-r)/jspb.BinaryConstants.TWO_TO_32),e>>>=0,t&&(e=~e>>>0,r=(~r>>>0)+1,4294967295<r&&(r=0,e++,4294967295<e&&(e=0))),jspb.utils.split64Low=r,jspb.utils.split64High=e};jspb.utils.splitZigzag64=function(e){var t=0>e;e=2*Math.abs(e),jspb.utils.splitUint64(e),e=jspb.utils.split64Low;var r=jspb.utils.split64High;t&&(e==0?r==0?r=e=4294967295:(r--,e=4294967295):e--),jspb.utils.split64Low=e,jspb.utils.split64High=r};jspb.utils.splitFloat32=function(e){var t=0>e?1:0;if(e=t?-e:e,e===0)0<1/e?(jspb.utils.split64High=0,jspb.utils.split64Low=0):(jspb.utils.split64High=0,jspb.utils.split64Low=2147483648);else if(isNaN(e))jspb.utils.split64High=0,jspb.utils.split64Low=2147483647;else if(e>jspb.BinaryConstants.FLOAT32_MAX)jspb.utils.split64High=0,jspb.utils.split64Low=(t<<31|2139095040)>>>0;else if(e<jspb.BinaryConstants.FLOAT32_MIN)e=Math.round(e/Math.pow(2,-149)),jspb.utils.split64High=0,jspb.utils.split64Low=(t<<31|e)>>>0;else{var r=Math.floor(Math.log(e)/Math.LN2);e*=Math.pow(2,-r),e=Math.round(e*jspb.BinaryConstants.TWO_TO_23)&8388607,jspb.utils.split64High=0,jspb.utils.split64Low=(t<<31|r+127<<23|e)>>>0}};jspb.utils.splitFloat64=function(e){var t=0>e?1:0;if(e=t?-e:e,e===0)jspb.utils.split64High=0<1/e?0:2147483648,jspb.utils.split64Low=0;else if(isNaN(e))jspb.utils.split64High=2147483647,jspb.utils.split64Low=4294967295;else if(e>jspb.BinaryConstants.FLOAT64_MAX)jspb.utils.split64High=(t<<31|2146435072)>>>0,jspb.utils.split64Low=0;else if(e<jspb.BinaryConstants.FLOAT64_MIN){var r=e/Math.pow(2,-1074);e=r/jspb.BinaryConstants.TWO_TO_32,jspb.utils.split64High=(t<<31|e)>>>0,jspb.utils.split64Low=r>>>0}else{r=e;var o=0;if(2<=r)for(;2<=r&&1023>o;)o++,r/=2;else for(;1>r&&-1022<o;)r*=2,o--;r=e*Math.pow(2,-o),e=r*jspb.BinaryConstants.TWO_TO_20&1048575,r=r*jspb.BinaryConstants.TWO_TO_52>>>0,jspb.utils.split64High=(t<<31|o+1023<<20|e)>>>0,jspb.utils.split64Low=r}};jspb.utils.splitHash64=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1),o=e.charCodeAt(2),n=e.charCodeAt(3),s=e.charCodeAt(4),i=e.charCodeAt(5),a=e.charCodeAt(6);e=e.charCodeAt(7),jspb.utils.split64Low=t+(r<<8)+(o<<16)+(n<<24)>>>0,jspb.utils.split64High=s+(i<<8)+(a<<16)+(e<<24)>>>0};jspb.utils.joinUint64=function(e,t){return t*jspb.BinaryConstants.TWO_TO_32+(e>>>0)};jspb.utils.joinInt64=function(e,t){var r=t&2147483648;return r&&(e=~e+1>>>0,t=~t>>>0,e==0&&(t=t+1>>>0)),e=jspb.utils.joinUint64(e,t),r?-e:e};jspb.utils.toZigzag64=function(e,t,r){var o=t>>31;return r(e<<1^o,(t<<1|e>>>31)^o)};jspb.utils.joinZigzag64=function(e,t){return jspb.utils.fromZigzag64(e,t,jspb.utils.joinInt64)};jspb.utils.fromZigzag64=function(e,t,r){var o=-(e&1);return r((e>>>1|t<<31)^o,t>>>1^o)};jspb.utils.joinFloat32=function(e,t){t=2*(e>>31)+1;var r=e>>>23&255;return e&=8388607,r==255?e?NaN:1/0*t:r==0?t*Math.pow(2,-149)*e:t*Math.pow(2,r-150)*(e+Math.pow(2,23))};jspb.utils.joinFloat64=function(e,t){var r=2*(t>>31)+1,o=t>>>20&2047;return e=jspb.BinaryConstants.TWO_TO_32*(t&1048575)+e,o==2047?e?NaN:1/0*r:o==0?r*Math.pow(2,-1074)*e:r*Math.pow(2,o-1075)*(e+jspb.BinaryConstants.TWO_TO_52)};jspb.utils.joinHash64=function(e,t){return String.fromCharCode(e>>>0&255,e>>>8&255,e>>>16&255,e>>>24&255,t>>>0&255,t>>>8&255,t>>>16&255,t>>>24&255)};jspb.utils.DIGITS="0123456789abcdef".split("");jspb.utils.ZERO_CHAR_CODE_=48;jspb.utils.A_CHAR_CODE_=97;jspb.utils.joinUnsignedDecimalString=function(e,t){function r(n,s){return n=n?String(n):"",s?"0000000".slice(n.length)+n:n}if(2097151>=t)return""+jspb.utils.joinUint64(e,t);var o=(e>>>24|t<<8)>>>0&16777215;return t=t>>16&65535,e=(e&16777215)+6777216*o+6710656*t,o+=8147497*t,t*=2,1e7<=e&&(o+=Math.floor(e/1e7),e%=1e7),1e7<=o&&(t+=Math.floor(o/1e7),o%=1e7),r(t,0)+r(o,t)+r(e,1)};jspb.utils.joinSignedDecimalString=function(e,t){var r=t&2147483648;return r&&(e=~e+1>>>0,t=~t+(e==0?1:0)>>>0),e=jspb.utils.joinUnsignedDecimalString(e,t),r?"-"+e:e};jspb.utils.hash64ToDecimalString=function(e,t){jspb.utils.splitHash64(e),e=jspb.utils.split64Low;var r=jspb.utils.split64High;return t?jspb.utils.joinSignedDecimalString(e,r):jspb.utils.joinUnsignedDecimalString(e,r)};jspb.utils.hash64ArrayToDecimalStrings=function(e,t){for(var r=Array(e.length),o=0;o<e.length;o++)r[o]=jspb.utils.hash64ToDecimalString(e[o],t);return r};jspb.utils.decimalStringToHash64=function(e){function t(i,a){for(var g=0;8>g&&(i!==1||0<a);g++)a=i*n[g]+a,n[g]=a&255,a>>>=8}function r(){for(var i=0;8>i;i++)n[i]=~n[i]&255}goog.asserts.assert(0<e.length);var o=!1;e[0]==="-"&&(o=!0,e=e.slice(1));for(var n=[0,0,0,0,0,0,0,0],s=0;s<e.length;s++)t(10,e.charCodeAt(s)-jspb.utils.ZERO_CHAR_CODE_);return o&&(r(),t(1,1)),goog.crypt.byteArrayToString(n)};jspb.utils.splitDecimalString=function(e){jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(e))};jspb.utils.toHexDigit_=function(e){return String.fromCharCode(10>e?jspb.utils.ZERO_CHAR_CODE_+e:jspb.utils.A_CHAR_CODE_-10+e)};jspb.utils.fromHexCharCode_=function(e){return e>=jspb.utils.A_CHAR_CODE_?e-jspb.utils.A_CHAR_CODE_+10:e-jspb.utils.ZERO_CHAR_CODE_};jspb.utils.hash64ToHexString=function(e){var t=Array(18);t[0]="0",t[1]="x";for(var r=0;8>r;r++){var o=e.charCodeAt(7-r);t[2*r+2]=jspb.utils.toHexDigit_(o>>4),t[2*r+3]=jspb.utils.toHexDigit_(o&15)}return t.join("")};jspb.utils.hexStringToHash64=function(e){e=e.toLowerCase(),goog.asserts.assert(e.length==18),goog.asserts.assert(e[0]=="0"),goog.asserts.assert(e[1]=="x");for(var t="",r=0;8>r;r++){var o=jspb.utils.fromHexCharCode_(e.charCodeAt(2*r+2)),n=jspb.utils.fromHexCharCode_(e.charCodeAt(2*r+3));t=String.fromCharCode(16*o+n)+t}return t};jspb.utils.hash64ToNumber=function(e,t){jspb.utils.splitHash64(e),e=jspb.utils.split64Low;var r=jspb.utils.split64High;return t?jspb.utils.joinInt64(e,r):jspb.utils.joinUint64(e,r)};jspb.utils.numberToHash64=function(e){return jspb.utils.splitInt64(e),jspb.utils.joinHash64(jspb.utils.split64Low,jspb.utils.split64High)};jspb.utils.countVarints=function(e,t,r){for(var o=0,n=t;n<r;n++)o+=e[n]>>7;return r-t-o};jspb.utils.countVarintFields=function(e,t,r,o){var n=0;if(o=8*o+jspb.BinaryConstants.WireType.VARINT,128>o)for(;t<r&&e[t++]==o;)for(n++;;){var s=e[t++];if((s&128)==0)break}else for(;t<r;){for(s=o;128<s;){if(e[t]!=(s&127|128))return n;t++,s>>=7}if(e[t++]!=s)break;for(n++;s=e[t++],(s&128)!=0;);}return n};jspb.utils.countFixedFields_=function(e,t,r,o,n){var s=0;if(128>o)for(;t<r&&e[t++]==o;)s++,t+=n;else for(;t<r;){for(var i=o;128<i;){if(e[t++]!=(i&127|128))return s;i>>=7}if(e[t++]!=i)break;s++,t+=n}return s};jspb.utils.countFixed32Fields=function(e,t,r,o){return jspb.utils.countFixedFields_(e,t,r,8*o+jspb.BinaryConstants.WireType.FIXED32,4)};jspb.utils.countFixed64Fields=function(e,t,r,o){return jspb.utils.countFixedFields_(e,t,r,8*o+jspb.BinaryConstants.WireType.FIXED64,8)};jspb.utils.countDelimitedFields=function(e,t,r,o){var n=0;for(o=8*o+jspb.BinaryConstants.WireType.DELIMITED;t<r;){for(var s=o;128<s;){if(e[t++]!=(s&127|128))return n;s>>=7}if(e[t++]!=s)break;n++;for(var i=0,a=1;s=e[t++],i+=(s&127)*a,a*=128,(s&128)!=0;);t+=i}return n};jspb.utils.debugBytesToTextFormat=function(e){var t='"';if(e){e=jspb.utils.byteSourceToUint8Array(e);for(var r=0;r<e.length;r++)t+="\\x",16>e[r]&&(t+="0"),t+=e[r].toString(16)}return t+'"'};jspb.utils.debugScalarToTextFormat=function(e){return typeof e=="string"?goog.string.quote(e):e.toString()};jspb.utils.stringToByteArray=function(e){for(var t=new Uint8Array(e.length),r=0;r<e.length;r++){var o=e.charCodeAt(r);if(255<o)throw Error("Conversion error: string contains codepoint outside of byte range");t[r]=o}return t};jspb.utils.byteSourceToUint8Array=function(e){return e.constructor===Uint8Array?e:e.constructor===ArrayBuffer||typeof Buffer!="undefined"&&e.constructor===Buffer||e.constructor===Array?new Uint8Array(e):e.constructor===String?goog.crypt.base64.decodeStringToUint8Array(e):(goog.asserts.fail("Type not convertible to Uint8Array."),new Uint8Array(0))};jspb.BinaryDecoder=function(e,t,r){this.bytes_=null,this.cursor_=this.end_=this.start_=0,this.error_=!1,e&&this.setBlock(e,t,r)};jspb.BinaryDecoder.instanceCache_=[];jspb.BinaryDecoder.alloc=function(e,t,r){if(jspb.BinaryDecoder.instanceCache_.length){var o=jspb.BinaryDecoder.instanceCache_.pop();return e&&o.setBlock(e,t,r),o}return new jspb.BinaryDecoder(e,t,r)};jspb.BinaryDecoder.prototype.free=function(){this.clear(),100>jspb.BinaryDecoder.instanceCache_.length&&jspb.BinaryDecoder.instanceCache_.push(this)};jspb.BinaryDecoder.prototype.clone=function(){return jspb.BinaryDecoder.alloc(this.bytes_,this.start_,this.end_-this.start_)};jspb.BinaryDecoder.prototype.clear=function(){this.bytes_=null,this.cursor_=this.end_=this.start_=0,this.error_=!1};jspb.BinaryDecoder.prototype.getBuffer=function(){return this.bytes_};jspb.BinaryDecoder.prototype.setBlock=function(e,t,r){this.bytes_=jspb.utils.byteSourceToUint8Array(e),this.start_=t!==void 0?t:0,this.end_=r!==void 0?this.start_+r:this.bytes_.length,this.cursor_=this.start_};jspb.BinaryDecoder.prototype.getEnd=function(){return this.end_};jspb.BinaryDecoder.prototype.setEnd=function(e){this.end_=e};jspb.BinaryDecoder.prototype.reset=function(){this.cursor_=this.start_};jspb.BinaryDecoder.prototype.getCursor=function(){return this.cursor_};jspb.BinaryDecoder.prototype.setCursor=function(e){this.cursor_=e};jspb.BinaryDecoder.prototype.advance=function(e){this.cursor_+=e,goog.asserts.assert(this.cursor_<=this.end_)};jspb.BinaryDecoder.prototype.atEnd=function(){return this.cursor_==this.end_};jspb.BinaryDecoder.prototype.pastEnd=function(){return this.cursor_>this.end_};jspb.BinaryDecoder.prototype.getError=function(){return this.error_||0>this.cursor_||this.cursor_>this.end_};jspb.BinaryDecoder.prototype.readSplitVarint64=function(e){for(var t=128,r=0,o=0,n=0;4>n&&128<=t;n++)t=this.bytes_[this.cursor_++],r|=(t&127)<<7*n;if(128<=t&&(t=this.bytes_[this.cursor_++],r|=(t&127)<<28,o|=(t&127)>>4),128<=t)for(n=0;5>n&&128<=t;n++)t=this.bytes_[this.cursor_++],o|=(t&127)<<7*n+3;if(128>t)return e(r>>>0,o>>>0);goog.asserts.fail("Failed to read varint, encoding is invalid."),this.error_=!0};jspb.BinaryDecoder.prototype.readSplitZigzagVarint64=function(e){return this.readSplitVarint64(function(t,r){return jspb.utils.fromZigzag64(t,r,e)})};jspb.BinaryDecoder.prototype.readSplitFixed64=function(e){var t=this.bytes_,r=this.cursor_;this.cursor_+=8;for(var o=0,n=0,s=r+7;s>=r;s--)o=o<<8|t[s],n=n<<8|t[s+4];return e(o,n)};jspb.BinaryDecoder.prototype.skipVarint=function(){for(;this.bytes_[this.cursor_]&128;)this.cursor_++;this.cursor_++};jspb.BinaryDecoder.prototype.unskipVarint=function(e){for(;128<e;)this.cursor_--,e>>>=7;this.cursor_--};jspb.BinaryDecoder.prototype.readUnsignedVarint32=function(){var e=this.bytes_,t=e[this.cursor_+0],r=t&127;return 128>t?(this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),r):(t=e[this.cursor_+1],r|=(t&127)<<7,128>t?(this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),r):(t=e[this.cursor_+2],r|=(t&127)<<14,128>t?(this.cursor_+=3,goog.asserts.assert(this.cursor_<=this.end_),r):(t=e[this.cursor_+3],r|=(t&127)<<21,128>t?(this.cursor_+=4,goog.asserts.assert(this.cursor_<=this.end_),r):(t=e[this.cursor_+4],r|=(t&15)<<28,128>t?(this.cursor_+=5,goog.asserts.assert(this.cursor_<=this.end_),r>>>0):(this.cursor_+=5,128<=e[this.cursor_++]&&128<=e[this.cursor_++]&&128<=e[this.cursor_++]&&128<=e[this.cursor_++]&&128<=e[this.cursor_++]&&goog.asserts.assert(!1),goog.asserts.assert(this.cursor_<=this.end_),r)))))};jspb.BinaryDecoder.prototype.readSignedVarint32=jspb.BinaryDecoder.prototype.readUnsignedVarint32;jspb.BinaryDecoder.prototype.readUnsignedVarint32String=function(){return this.readUnsignedVarint32().toString()};jspb.BinaryDecoder.prototype.readSignedVarint32String=function(){return this.readSignedVarint32().toString()};jspb.BinaryDecoder.prototype.readZigzagVarint32=function(){var e=this.readUnsignedVarint32();return e>>>1^-(e&1)};jspb.BinaryDecoder.prototype.readUnsignedVarint64=function(){return this.readSplitVarint64(jspb.utils.joinUint64)};jspb.BinaryDecoder.prototype.readUnsignedVarint64String=function(){return this.readSplitVarint64(jspb.utils.joinUnsignedDecimalString)};jspb.BinaryDecoder.prototype.readSignedVarint64=function(){return this.readSplitVarint64(jspb.utils.joinInt64)};jspb.BinaryDecoder.prototype.readSignedVarint64String=function(){return this.readSplitVarint64(jspb.utils.joinSignedDecimalString)};jspb.BinaryDecoder.prototype.readZigzagVarint64=function(){return this.readSplitVarint64(jspb.utils.joinZigzag64)};jspb.BinaryDecoder.prototype.readZigzagVarintHash64=function(){return this.readSplitZigzagVarint64(jspb.utils.joinHash64)};jspb.BinaryDecoder.prototype.readZigzagVarint64String=function(){return this.readSplitZigzagVarint64(jspb.utils.joinSignedDecimalString)};jspb.BinaryDecoder.prototype.readUint8=function(){var e=this.bytes_[this.cursor_+0];return this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),e};jspb.BinaryDecoder.prototype.readUint16=function(){var e=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1];return this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),e<<0|t<<8};jspb.BinaryDecoder.prototype.readUint32=function(){var e=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1],r=this.bytes_[this.cursor_+2],o=this.bytes_[this.cursor_+3];return this.cursor_+=4,goog.asserts.assert(this.cursor_<=this.end_),(e<<0|t<<8|r<<16|o<<24)>>>0};jspb.BinaryDecoder.prototype.readUint64=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinUint64(e,t)};jspb.BinaryDecoder.prototype.readUint64String=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinUnsignedDecimalString(e,t)};jspb.BinaryDecoder.prototype.readInt8=function(){var e=this.bytes_[this.cursor_+0];return this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),e<<24>>24};jspb.BinaryDecoder.prototype.readInt16=function(){var e=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1];return this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),(e<<0|t<<8)<<16>>16};jspb.BinaryDecoder.prototype.readInt32=function(){var e=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1],r=this.bytes_[this.cursor_+2],o=this.bytes_[this.cursor_+3];return this.cursor_+=4,goog.asserts.assert(this.cursor_<=this.end_),e<<0|t<<8|r<<16|o<<24};jspb.BinaryDecoder.prototype.readInt64=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinInt64(e,t)};jspb.BinaryDecoder.prototype.readInt64String=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinSignedDecimalString(e,t)};jspb.BinaryDecoder.prototype.readFloat=function(){var e=this.readUint32();return jspb.utils.joinFloat32(e,0)};jspb.BinaryDecoder.prototype.readDouble=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinFloat64(e,t)};jspb.BinaryDecoder.prototype.readBool=function(){return!!this.bytes_[this.cursor_++]};jspb.BinaryDecoder.prototype.readEnum=function(){return this.readSignedVarint32()};jspb.BinaryDecoder.prototype.readString=function(e){var t=this.bytes_,r=this.cursor_;e=r+e;for(var o=[],n="";r<e;){var s=t[r++];if(128>s)o.push(s);else{if(192>s)continue;if(224>s){var i=t[r++];o.push((s&31)<<6|i&63)}else if(240>s){i=t[r++];var a=t[r++];o.push((s&15)<<12|(i&63)<<6|a&63)}else if(248>s){i=t[r++],a=t[r++];var g=t[r++];s=(s&7)<<18|(i&63)<<12|(a&63)<<6|g&63,s-=65536,o.push((s>>10&1023)+55296,(s&1023)+56320)}}8192<=o.length&&(n+=String.fromCharCode.apply(null,o),o.length=0)}return n+=goog.crypt.byteArrayToString(o),this.cursor_=r,n};jspb.BinaryDecoder.prototype.readStringWithLength=function(){var e=this.readUnsignedVarint32();return this.readString(e)};jspb.BinaryDecoder.prototype.readBytes=function(e){if(0>e||this.cursor_+e>this.bytes_.length)return this.error_=!0,goog.asserts.fail("Invalid byte length!"),new Uint8Array(0);var t=this.bytes_.subarray(this.cursor_,this.cursor_+e);return this.cursor_+=e,goog.asserts.assert(this.cursor_<=this.end_),t};jspb.BinaryDecoder.prototype.readVarintHash64=function(){return this.readSplitVarint64(jspb.utils.joinHash64)};jspb.BinaryDecoder.prototype.readFixedHash64=function(){var e=this.bytes_,t=this.cursor_,r=e[t+0],o=e[t+1],n=e[t+2],s=e[t+3],i=e[t+4],a=e[t+5],g=e[t+6];return e=e[t+7],this.cursor_+=8,String.fromCharCode(r,o,n,s,i,a,g,e)};jspb.BinaryReader=function(e,t,r){this.decoder_=jspb.BinaryDecoder.alloc(e,t,r),this.fieldCursor_=this.decoder_.getCursor(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID,this.error_=!1,this.readCallbacks_=null};jspb.BinaryReader.instanceCache_=[];jspb.BinaryReader.alloc=function(e,t,r){if(jspb.BinaryReader.instanceCache_.length){var o=jspb.BinaryReader.instanceCache_.pop();return e&&o.decoder_.setBlock(e,t,r),o}return new jspb.BinaryReader(e,t,r)};jspb.BinaryReader.prototype.alloc=jspb.BinaryReader.alloc;jspb.BinaryReader.prototype.free=function(){this.decoder_.clear(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID,this.error_=!1,this.readCallbacks_=null,100>jspb.BinaryReader.instanceCache_.length&&jspb.BinaryReader.instanceCache_.push(this)};jspb.BinaryReader.prototype.getFieldCursor=function(){return this.fieldCursor_};jspb.BinaryReader.prototype.getCursor=function(){return this.decoder_.getCursor()};jspb.BinaryReader.prototype.getBuffer=function(){return this.decoder_.getBuffer()};jspb.BinaryReader.prototype.getFieldNumber=function(){return this.nextField_};jspb.BinaryReader.prototype.getWireType=function(){return this.nextWireType_};jspb.BinaryReader.prototype.isDelimited=function(){return this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED};jspb.BinaryReader.prototype.isEndGroup=function(){return this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP};jspb.BinaryReader.prototype.getError=function(){return this.error_||this.decoder_.getError()};jspb.BinaryReader.prototype.setBlock=function(e,t,r){this.decoder_.setBlock(e,t,r),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID};jspb.BinaryReader.prototype.reset=function(){this.decoder_.reset(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID};jspb.BinaryReader.prototype.advance=function(e){this.decoder_.advance(e)};jspb.BinaryReader.prototype.nextField=function(){if(this.decoder_.atEnd())return!1;if(this.getError())return goog.asserts.fail("Decoder hit an error"),!1;this.fieldCursor_=this.decoder_.getCursor();var e=this.decoder_.readUnsignedVarint32(),t=e>>>3;return e&=7,e!=jspb.BinaryConstants.WireType.VARINT&&e!=jspb.BinaryConstants.WireType.FIXED32&&e!=jspb.BinaryConstants.WireType.FIXED64&&e!=jspb.BinaryConstants.WireType.DELIMITED&&e!=jspb.BinaryConstants.WireType.START_GROUP&&e!=jspb.BinaryConstants.WireType.END_GROUP?(goog.asserts.fail("Invalid wire type: %s (at position %s)",e,this.fieldCursor_),this.error_=!0,!1):(this.nextField_=t,this.nextWireType_=e,!0)};jspb.BinaryReader.prototype.unskipHeader=function(){this.decoder_.unskipVarint(this.nextField_<<3|this.nextWireType_)};jspb.BinaryReader.prototype.skipMatchingFields=function(){var e=this.nextField_;for(this.unskipHeader();this.nextField()&&this.getFieldNumber()==e;)this.skipField();this.decoder_.atEnd()||this.unskipHeader()};jspb.BinaryReader.prototype.skipVarintField=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.VARINT?(goog.asserts.fail("Invalid wire type for skipVarintField"),this.skipField()):this.decoder_.skipVarint()};jspb.BinaryReader.prototype.skipDelimitedField=function(){if(this.nextWireType_!=jspb.BinaryConstants.WireType.DELIMITED)goog.asserts.fail("Invalid wire type for skipDelimitedField"),this.skipField();else{var e=this.decoder_.readUnsignedVarint32();this.decoder_.advance(e)}};jspb.BinaryReader.prototype.skipFixed32Field=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.FIXED32?(goog.asserts.fail("Invalid wire type for skipFixed32Field"),this.skipField()):this.decoder_.advance(4)};jspb.BinaryReader.prototype.skipFixed64Field=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.FIXED64?(goog.asserts.fail("Invalid wire type for skipFixed64Field"),this.skipField()):this.decoder_.advance(8)};jspb.BinaryReader.prototype.skipGroup=function(){var e=this.nextField_;do{if(!this.nextField()){goog.asserts.fail("Unmatched start-group tag: stream EOF"),this.error_=!0;break}if(this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP){this.nextField_!=e&&(goog.asserts.fail("Unmatched end-group tag"),this.error_=!0);break}this.skipField()}while(1)};jspb.BinaryReader.prototype.skipField=function(){switch(this.nextWireType_){case jspb.BinaryConstants.WireType.VARINT:this.skipVarintField();break;case jspb.BinaryConstants.WireType.FIXED64:this.skipFixed64Field();break;case jspb.BinaryConstants.WireType.DELIMITED:this.skipDelimitedField();break;case jspb.BinaryConstants.WireType.FIXED32:this.skipFixed32Field();break;case jspb.BinaryConstants.WireType.START_GROUP:this.skipGroup();break;default:goog.asserts.fail("Invalid wire encoding for field.")}};jspb.BinaryReader.prototype.registerReadCallback=function(e,t){this.readCallbacks_===null&&(this.readCallbacks_={}),goog.asserts.assert(!this.readCallbacks_[e]),this.readCallbacks_[e]=t};jspb.BinaryReader.prototype.runReadCallback=function(e){return goog.asserts.assert(this.readCallbacks_!==null),e=this.readCallbacks_[e],goog.asserts.assert(e),e(this)};jspb.BinaryReader.prototype.readAny=function(e){this.nextWireType_=jspb.BinaryConstants.FieldTypeToWireType(e);var t=jspb.BinaryConstants.FieldType;switch(e){case t.DOUBLE:return this.readDouble();case t.FLOAT:return this.readFloat();case t.INT64:return this.readInt64();case t.UINT64:return this.readUint64();case t.INT32:return this.readInt32();case t.FIXED64:return this.readFixed64();case t.FIXED32:return this.readFixed32();case t.BOOL:return this.readBool();case t.STRING:return this.readString();case t.GROUP:goog.asserts.fail("Group field type not supported in readAny()");case t.MESSAGE:goog.asserts.fail("Message field type not supported in readAny()");case t.BYTES:return this.readBytes();case t.UINT32:return this.readUint32();case t.ENUM:return this.readEnum();case t.SFIXED32:return this.readSfixed32();case t.SFIXED64:return this.readSfixed64();case t.SINT32:return this.readSint32();case t.SINT64:return this.readSint64();case t.FHASH64:return this.readFixedHash64();case t.VHASH64:return this.readVarintHash64();default:goog.asserts.fail("Invalid field type in readAny()")}return 0};jspb.BinaryReader.prototype.readMessage=function(e,t){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var r=this.decoder_.getEnd(),o=this.decoder_.readUnsignedVarint32();o=this.decoder_.getCursor()+o,this.decoder_.setEnd(o),t(e,this),this.decoder_.setCursor(o),this.decoder_.setEnd(r)};jspb.BinaryReader.prototype.readGroup=function(e,t,r){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.START_GROUP),goog.asserts.assert(this.nextField_==e),r(t,this),this.error_||this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP||(goog.asserts.fail("Group submessage did not end with an END_GROUP tag"),this.error_=!0)};jspb.BinaryReader.prototype.getFieldDecoder=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var e=this.decoder_.readUnsignedVarint32(),t=this.decoder_.getCursor(),r=t+e;return e=jspb.BinaryDecoder.alloc(this.decoder_.getBuffer(),t,e),this.decoder_.setCursor(r),e};jspb.BinaryReader.prototype.readInt32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint32()};jspb.BinaryReader.prototype.readInt32String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint32String()};jspb.BinaryReader.prototype.readInt64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()};jspb.BinaryReader.prototype.readInt64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64String()};jspb.BinaryReader.prototype.readUint32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint32()};jspb.BinaryReader.prototype.readUint32String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint32String()};jspb.BinaryReader.prototype.readUint64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64()};jspb.BinaryReader.prototype.readUint64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64String()};jspb.BinaryReader.prototype.readSint32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint32()};jspb.BinaryReader.prototype.readSint64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64()};jspb.BinaryReader.prototype.readSint64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64String()};jspb.BinaryReader.prototype.readFixed32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readUint32()};jspb.BinaryReader.prototype.readFixed64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readUint64()};jspb.BinaryReader.prototype.readFixed64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readUint64String()};jspb.BinaryReader.prototype.readSfixed32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readInt32()};jspb.BinaryReader.prototype.readSfixed32String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readInt32().toString()};jspb.BinaryReader.prototype.readSfixed64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readInt64()};jspb.BinaryReader.prototype.readSfixed64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readInt64String()};jspb.BinaryReader.prototype.readFloat=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readFloat()};jspb.BinaryReader.prototype.readDouble=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readDouble()};jspb.BinaryReader.prototype.readBool=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),!!this.decoder_.readUnsignedVarint32()};jspb.BinaryReader.prototype.readEnum=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()};jspb.BinaryReader.prototype.readString=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var e=this.decoder_.readUnsignedVarint32();return this.decoder_.readString(e)};jspb.BinaryReader.prototype.readBytes=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var e=this.decoder_.readUnsignedVarint32();return this.decoder_.readBytes(e)};jspb.BinaryReader.prototype.readVarintHash64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readVarintHash64()};jspb.BinaryReader.prototype.readSintHash64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarintHash64()};jspb.BinaryReader.prototype.readSplitVarint64=function(e){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSplitVarint64(e)};jspb.BinaryReader.prototype.readSplitZigzagVarint64=function(e){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSplitVarint64(function(t,r){return jspb.utils.fromZigzag64(t,r,e)})};jspb.BinaryReader.prototype.readFixedHash64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readFixedHash64()};jspb.BinaryReader.prototype.readSplitFixed64=function(e){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readSplitFixed64(e)};jspb.BinaryReader.prototype.readPackedField_=function(e){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var t=this.decoder_.readUnsignedVarint32();t=this.decoder_.getCursor()+t;for(var r=[];this.decoder_.getCursor()<t;)r.push(e.call(this.decoder_));return r};jspb.BinaryReader.prototype.readPackedInt32=function(){return this.readPackedField_(this.decoder_.readSignedVarint32)};jspb.BinaryReader.prototype.readPackedInt32String=function(){return this.readPackedField_(this.decoder_.readSignedVarint32String)};jspb.BinaryReader.prototype.readPackedInt64=function(){return this.readPackedField_(this.decoder_.readSignedVarint64)};jspb.BinaryReader.prototype.readPackedInt64String=function(){return this.readPackedField_(this.decoder_.readSignedVarint64String)};jspb.BinaryReader.prototype.readPackedUint32=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32)};jspb.BinaryReader.prototype.readPackedUint32String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32String)};jspb.BinaryReader.prototype.readPackedUint64=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64)};jspb.BinaryReader.prototype.readPackedUint64String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64String)};jspb.BinaryReader.prototype.readPackedSint32=function(){return this.readPackedField_(this.decoder_.readZigzagVarint32)};jspb.BinaryReader.prototype.readPackedSint64=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64)};jspb.BinaryReader.prototype.readPackedSint64String=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64String)};jspb.BinaryReader.prototype.readPackedFixed32=function(){return this.readPackedField_(this.decoder_.readUint32)};jspb.BinaryReader.prototype.readPackedFixed64=function(){return this.readPackedField_(this.decoder_.readUint64)};jspb.BinaryReader.prototype.readPackedFixed64String=function(){return this.readPackedField_(this.decoder_.readUint64String)};jspb.BinaryReader.prototype.readPackedSfixed32=function(){return this.readPackedField_(this.decoder_.readInt32)};jspb.BinaryReader.prototype.readPackedSfixed64=function(){return this.readPackedField_(this.decoder_.readInt64)};jspb.BinaryReader.prototype.readPackedSfixed64String=function(){return this.readPackedField_(this.decoder_.readInt64String)};jspb.BinaryReader.prototype.readPackedFloat=function(){return this.readPackedField_(this.decoder_.readFloat)};jspb.BinaryReader.prototype.readPackedDouble=function(){return this.readPackedField_(this.decoder_.readDouble)};jspb.BinaryReader.prototype.readPackedBool=function(){return this.readPackedField_(this.decoder_.readBool)};jspb.BinaryReader.prototype.readPackedEnum=function(){return this.readPackedField_(this.decoder_.readEnum)};jspb.BinaryReader.prototype.readPackedVarintHash64=function(){return this.readPackedField_(this.decoder_.readVarintHash64)};jspb.BinaryReader.prototype.readPackedFixedHash64=function(){return this.readPackedField_(this.decoder_.readFixedHash64)};jspb.BinaryEncoder=function(){this.buffer_=[]};jspb.BinaryEncoder.prototype.length=function(){return this.buffer_.length};jspb.BinaryEncoder.prototype.end=function(){var e=this.buffer_;return this.buffer_=[],e};jspb.BinaryEncoder.prototype.writeSplitVarint64=function(e,t){for(goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(t==Math.floor(t)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32);0<t||127<e;)this.buffer_.push(e&127|128),e=(e>>>7|t<<25)>>>0,t>>>=7;this.buffer_.push(e)};jspb.BinaryEncoder.prototype.writeSplitFixed64=function(e,t){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(t==Math.floor(t)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),this.writeUint32(e),this.writeUint32(t)};jspb.BinaryEncoder.prototype.writeUnsignedVarint32=function(e){for(goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32);127<e;)this.buffer_.push(e&127|128),e>>>=7;this.buffer_.push(e)};jspb.BinaryEncoder.prototype.writeSignedVarint32=function(e){if(goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),0<=e)this.writeUnsignedVarint32(e);else{for(var t=0;9>t;t++)this.buffer_.push(e&127|128),e>>=7;this.buffer_.push(1)}};jspb.BinaryEncoder.prototype.writeUnsignedVarint64=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_64),jspb.utils.splitInt64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)};jspb.BinaryEncoder.prototype.writeSignedVarint64=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_63&&e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitInt64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)};jspb.BinaryEncoder.prototype.writeZigzagVarint32=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.writeUnsignedVarint32((e<<1^e>>31)>>>0)};jspb.BinaryEncoder.prototype.writeZigzagVarint64=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_63&&e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitZigzag64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)};jspb.BinaryEncoder.prototype.writeZigzagVarint64String=function(e){this.writeZigzagVarintHash64(jspb.utils.decimalStringToHash64(e))};jspb.BinaryEncoder.prototype.writeZigzagVarintHash64=function(e){var t=this;jspb.utils.splitHash64(e),jspb.utils.toZigzag64(jspb.utils.split64Low,jspb.utils.split64High,function(r,o){t.writeSplitVarint64(r>>>0,o>>>0)})};jspb.BinaryEncoder.prototype.writeUint8=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&256>e),this.buffer_.push(e>>>0&255)};jspb.BinaryEncoder.prototype.writeUint16=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&65536>e),this.buffer_.push(e>>>0&255),this.buffer_.push(e>>>8&255)};jspb.BinaryEncoder.prototype.writeUint32=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),this.buffer_.push(e>>>0&255),this.buffer_.push(e>>>8&255),this.buffer_.push(e>>>16&255),this.buffer_.push(e>>>24&255)};jspb.BinaryEncoder.prototype.writeUint64=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_64),jspb.utils.splitUint64(e),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)};jspb.BinaryEncoder.prototype.writeInt8=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(-128<=e&&128>e),this.buffer_.push(e>>>0&255)};jspb.BinaryEncoder.prototype.writeInt16=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(-32768<=e&&32768>e),this.buffer_.push(e>>>0&255),this.buffer_.push(e>>>8&255)};jspb.BinaryEncoder.prototype.writeInt32=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.buffer_.push(e>>>0&255),this.buffer_.push(e>>>8&255),this.buffer_.push(e>>>16&255),this.buffer_.push(e>>>24&255)};jspb.BinaryEncoder.prototype.writeInt64=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_63&&e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitInt64(e),this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)};jspb.BinaryEncoder.prototype.writeInt64String=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(+e>=-jspb.BinaryConstants.TWO_TO_63&&+e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(e)),this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)};jspb.BinaryEncoder.prototype.writeFloat=function(e){goog.asserts.assert(e===1/0||e===-1/0||isNaN(e)||e>=-jspb.BinaryConstants.FLOAT32_MAX&&e<=jspb.BinaryConstants.FLOAT32_MAX),jspb.utils.splitFloat32(e),this.writeUint32(jspb.utils.split64Low)};jspb.BinaryEncoder.prototype.writeDouble=function(e){goog.asserts.assert(e===1/0||e===-1/0||isNaN(e)||e>=-jspb.BinaryConstants.FLOAT64_MAX&&e<=jspb.BinaryConstants.FLOAT64_MAX),jspb.utils.splitFloat64(e),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)};jspb.BinaryEncoder.prototype.writeBool=function(e){goog.asserts.assert(typeof e=="boolean"||typeof e=="number"),this.buffer_.push(e?1:0)};jspb.BinaryEncoder.prototype.writeEnum=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32(e)};jspb.BinaryEncoder.prototype.writeBytes=function(e){this.buffer_.push.apply(this.buffer_,e)};jspb.BinaryEncoder.prototype.writeVarintHash64=function(e){jspb.utils.splitHash64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)};jspb.BinaryEncoder.prototype.writeFixedHash64=function(e){jspb.utils.splitHash64(e),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)};jspb.BinaryEncoder.prototype.writeString=function(e){for(var t=this.buffer_.length,r=0;r<e.length;r++){var o=e.charCodeAt(r);if(128>o)this.buffer_.push(o);else if(2048>o)this.buffer_.push(o>>6|192),this.buffer_.push(o&63|128);else if(65536>o)if(55296<=o&&56319>=o&&r+1<e.length){var n=e.charCodeAt(r+1);56320<=n&&57343>=n&&(o=1024*(o-55296)+n-56320+65536,this.buffer_.push(o>>18|240),this.buffer_.push(o>>12&63|128),this.buffer_.push(o>>6&63|128),this.buffer_.push(o&63|128),r++)}else this.buffer_.push(o>>12|224),this.buffer_.push(o>>6&63|128),this.buffer_.push(o&63|128)}return this.buffer_.length-t};jspb.arith={};jspb.arith.UInt64=function(e,t){this.lo=e,this.hi=t};jspb.arith.UInt64.prototype.cmp=function(e){return this.hi<e.hi||this.hi==e.hi&&this.lo<e.lo?-1:this.hi==e.hi&&this.lo==e.lo?0:1};jspb.arith.UInt64.prototype.rightShift=function(){return new jspb.arith.UInt64((this.lo>>>1|(this.hi&1)<<31)>>>0,this.hi>>>1>>>0)};jspb.arith.UInt64.prototype.leftShift=function(){return new jspb.arith.UInt64(this.lo<<1>>>0,(this.hi<<1|this.lo>>>31)>>>0)};jspb.arith.UInt64.prototype.msb=function(){return!!(this.hi&2147483648)};jspb.arith.UInt64.prototype.lsb=function(){return!!(this.lo&1)};jspb.arith.UInt64.prototype.zero=function(){return this.lo==0&&this.hi==0};jspb.arith.UInt64.prototype.add=function(e){return new jspb.arith.UInt64((this.lo+e.lo&4294967295)>>>0>>>0,((this.hi+e.hi&4294967295)>>>0)+(4294967296<=this.lo+e.lo?1:0)>>>0)};jspb.arith.UInt64.prototype.sub=function(e){return new jspb.arith.UInt64((this.lo-e.lo&4294967295)>>>0>>>0,((this.hi-e.hi&4294967295)>>>0)-(0>this.lo-e.lo?1:0)>>>0)};jspb.arith.UInt64.mul32x32=function(e,t){var r=e&65535;e>>>=16;var o=t&65535,n=t>>>16;for(t=r*o+65536*(r*n&65535)+65536*(e*o&65535),r=e*n+(r*n>>>16)+(e*o>>>16);4294967296<=t;)t-=4294967296,r+=1;return new jspb.arith.UInt64(t>>>0,r>>>0)};jspb.arith.UInt64.prototype.mul=function(e){var t=jspb.arith.UInt64.mul32x32(this.lo,e);return e=jspb.arith.UInt64.mul32x32(this.hi,e),e.hi=e.lo,e.lo=0,t.add(e)};jspb.arith.UInt64.prototype.div=function(e){if(e==0)return[];var t=new jspb.arith.UInt64(0,0),r=new jspb.arith.UInt64(this.lo,this.hi);e=new jspb.arith.UInt64(e,0);for(var o=new jspb.arith.UInt64(1,0);!e.msb();)e=e.leftShift(),o=o.leftShift();for(;!o.zero();)0>=e.cmp(r)&&(t=t.add(o),r=r.sub(e)),e=e.rightShift(),o=o.rightShift();return[t,r]};jspb.arith.UInt64.prototype.toString=function(){for(var e="",t=this;!t.zero();){t=t.div(10);var r=t[0];e=t[1].lo+e,t=r}return e==""&&(e="0"),e};jspb.arith.UInt64.fromString=function(e){for(var t=new jspb.arith.UInt64(0,0),r=new jspb.arith.UInt64(0,0),o=0;o<e.length;o++){if("0">e[o]||"9"<e[o])return null;var n=parseInt(e[o],10);r.lo=n,t=t.mul(10).add(r)}return t};jspb.arith.UInt64.prototype.clone=function(){return new jspb.arith.UInt64(this.lo,this.hi)};jspb.arith.Int64=function(e,t){this.lo=e,this.hi=t};jspb.arith.Int64.prototype.add=function(e){return new jspb.arith.Int64((this.lo+e.lo&4294967295)>>>0>>>0,((this.hi+e.hi&4294967295)>>>0)+(4294967296<=this.lo+e.lo?1:0)>>>0)};jspb.arith.Int64.prototype.sub=function(e){return new jspb.arith.Int64((this.lo-e.lo&4294967295)>>>0>>>0,((this.hi-e.hi&4294967295)>>>0)-(0>this.lo-e.lo?1:0)>>>0)};jspb.arith.Int64.prototype.clone=function(){return new jspb.arith.Int64(this.lo,this.hi)};jspb.arith.Int64.prototype.toString=function(){var e=(this.hi&2147483648)!=0,t=new jspb.arith.UInt64(this.lo,this.hi);return e&&(t=new jspb.arith.UInt64(0,0).sub(t)),(e?"-":"")+t.toString()};jspb.arith.Int64.fromString=function(e){var t=0<e.length&&e[0]=="-";return t&&(e=e.substring(1)),e=jspb.arith.UInt64.fromString(e),e===null?null:(t&&(e=new jspb.arith.UInt64(0,0).sub(e)),new jspb.arith.Int64(e.lo,e.hi))};jspb.BinaryWriter=function(){this.blocks_=[],this.totalLength_=0,this.encoder_=new jspb.BinaryEncoder,this.bookmarks_=[]};jspb.BinaryWriter.prototype.appendUint8Array_=function(e){var t=this.encoder_.end();this.blocks_.push(t),this.blocks_.push(e),this.totalLength_+=t.length+e.length};jspb.BinaryWriter.prototype.beginDelimited_=function(e){return this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),e=this.encoder_.end(),this.blocks_.push(e),this.totalLength_+=e.length,e.push(this.totalLength_),e};jspb.BinaryWriter.prototype.endDelimited_=function(e){var t=e.pop();for(t=this.totalLength_+this.encoder_.length()-t,goog.asserts.assert(0<=t);127<t;)e.push(t&127|128),t>>>=7,this.totalLength_++;e.push(t),this.totalLength_++};jspb.BinaryWriter.prototype.writeSerializedMessage=function(e,t,r){this.appendUint8Array_(e.subarray(t,r))};jspb.BinaryWriter.prototype.maybeWriteSerializedMessage=function(e,t,r){e!=null&&t!=null&&r!=null&&this.writeSerializedMessage(e,t,r)};jspb.BinaryWriter.prototype.reset=function(){this.blocks_=[],this.encoder_.end(),this.totalLength_=0,this.bookmarks_=[]};jspb.BinaryWriter.prototype.getResultBuffer=function(){goog.asserts.assert(this.bookmarks_.length==0);for(var e=new Uint8Array(this.totalLength_+this.encoder_.length()),t=this.blocks_,r=t.length,o=0,n=0;n<r;n++){var s=t[n];e.set(s,o),o+=s.length}return t=this.encoder_.end(),e.set(t,o),o+=t.length,goog.asserts.assert(o==e.length),this.blocks_=[e],e};jspb.BinaryWriter.prototype.getResultBase64String=function(e){return goog.crypt.base64.encodeByteArray(this.getResultBuffer(),e)};jspb.BinaryWriter.prototype.beginSubMessage=function(e){this.bookmarks_.push(this.beginDelimited_(e))};jspb.BinaryWriter.prototype.endSubMessage=function(){goog.asserts.assert(0<=this.bookmarks_.length),this.endDelimited_(this.bookmarks_.pop())};jspb.BinaryWriter.prototype.writeFieldHeader_=function(e,t){goog.asserts.assert(1<=e&&e==Math.floor(e)),this.encoder_.writeUnsignedVarint32(8*e+t)};jspb.BinaryWriter.prototype.writeAny=function(e,t,r){var o=jspb.BinaryConstants.FieldType;switch(e){case o.DOUBLE:this.writeDouble(t,r);break;case o.FLOAT:this.writeFloat(t,r);break;case o.INT64:this.writeInt64(t,r);break;case o.UINT64:this.writeUint64(t,r);break;case o.INT32:this.writeInt32(t,r);break;case o.FIXED64:this.writeFixed64(t,r);break;case o.FIXED32:this.writeFixed32(t,r);break;case o.BOOL:this.writeBool(t,r);break;case o.STRING:this.writeString(t,r);break;case o.GROUP:goog.asserts.fail("Group field type not supported in writeAny()");break;case o.MESSAGE:goog.asserts.fail("Message field type not supported in writeAny()");break;case o.BYTES:this.writeBytes(t,r);break;case o.UINT32:this.writeUint32(t,r);break;case o.ENUM:this.writeEnum(t,r);break;case o.SFIXED32:this.writeSfixed32(t,r);break;case o.SFIXED64:this.writeSfixed64(t,r);break;case o.SINT32:this.writeSint32(t,r);break;case o.SINT64:this.writeSint64(t,r);break;case o.FHASH64:this.writeFixedHash64(t,r);break;case o.VHASH64:this.writeVarintHash64(t,r);break;default:goog.asserts.fail("Invalid field type in writeAny()")}};jspb.BinaryWriter.prototype.writeUnsignedVarint32_=function(e,t){t!=null&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint32(t))};jspb.BinaryWriter.prototype.writeSignedVarint32_=function(e,t){t!=null&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(t))};jspb.BinaryWriter.prototype.writeUnsignedVarint64_=function(e,t){t!=null&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint64(t))};jspb.BinaryWriter.prototype.writeSignedVarint64_=function(e,t){t!=null&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint64(t))};jspb.BinaryWriter.prototype.writeZigzagVarint32_=function(e,t){t!=null&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint32(t))};jspb.BinaryWriter.prototype.writeZigzagVarint64_=function(e,t){t!=null&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64(t))};jspb.BinaryWriter.prototype.writeZigzagVarint64String_=function(e,t){t!=null&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64String(t))};jspb.BinaryWriter.prototype.writeZigzagVarintHash64_=function(e,t){t!=null&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarintHash64(t))};jspb.BinaryWriter.prototype.writeInt32=function(e,t){t!=null&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(e,t))};jspb.BinaryWriter.prototype.writeInt32String=function(e,t){t!=null&&(t=parseInt(t,10),goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(e,t))};jspb.BinaryWriter.prototype.writeInt64=function(e,t){t!=null&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_63&&t<jspb.BinaryConstants.TWO_TO_63),this.writeSignedVarint64_(e,t))};jspb.BinaryWriter.prototype.writeInt64String=function(e,t){t!=null&&(t=jspb.arith.Int64.fromString(t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(t.lo,t.hi))};jspb.BinaryWriter.prototype.writeUint32=function(e,t){t!=null&&(goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(e,t))};jspb.BinaryWriter.prototype.writeUint32String=function(e,t){t!=null&&(t=parseInt(t,10),goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(e,t))};jspb.BinaryWriter.prototype.writeUint64=function(e,t){t!=null&&(goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_64),this.writeUnsignedVarint64_(e,t))};jspb.BinaryWriter.prototype.writeUint64String=function(e,t){t!=null&&(t=jspb.arith.UInt64.fromString(t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(t.lo,t.hi))};jspb.BinaryWriter.prototype.writeSint32=function(e,t){t!=null&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeZigzagVarint32_(e,t))};jspb.BinaryWriter.prototype.writeSint64=function(e,t){t!=null&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_63&&t<jspb.BinaryConstants.TWO_TO_63),this.writeZigzagVarint64_(e,t))};jspb.BinaryWriter.prototype.writeSintHash64=function(e,t){t!=null&&this.writeZigzagVarintHash64_(e,t)};jspb.BinaryWriter.prototype.writeSint64String=function(e,t){t!=null&&this.writeZigzagVarint64String_(e,t)};jspb.BinaryWriter.prototype.writeFixed32=function(e,t){t!=null&&(goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeUint32(t))};jspb.BinaryWriter.prototype.writeFixed64=function(e,t){t!=null&&(goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_64),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeUint64(t))};jspb.BinaryWriter.prototype.writeFixed64String=function(e,t){t!=null&&(t=jspb.arith.UInt64.fromString(t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(t.lo,t.hi))};jspb.BinaryWriter.prototype.writeSfixed32=function(e,t){t!=null&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeInt32(t))};jspb.BinaryWriter.prototype.writeSfixed64=function(e,t){t!=null&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_63&&t<jspb.BinaryConstants.TWO_TO_63),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeInt64(t))};jspb.BinaryWriter.prototype.writeSfixed64String=function(e,t){t!=null&&(t=jspb.arith.Int64.fromString(t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(t.lo,t.hi))};jspb.BinaryWriter.prototype.writeFloat=function(e,t){t!=null&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeFloat(t))};jspb.BinaryWriter.prototype.writeDouble=function(e,t){t!=null&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeDouble(t))};jspb.BinaryWriter.prototype.writeBool=function(e,t){t!=null&&(goog.asserts.assert(typeof t=="boolean"||typeof t=="number"),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeBool(t))};jspb.BinaryWriter.prototype.writeEnum=function(e,t){t!=null&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(t))};jspb.BinaryWriter.prototype.writeString=function(e,t){t!=null&&(e=this.beginDelimited_(e),this.encoder_.writeString(t),this.endDelimited_(e))};jspb.BinaryWriter.prototype.writeBytes=function(e,t){t!=null&&(t=jspb.utils.byteSourceToUint8Array(t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(t.length),this.appendUint8Array_(t))};jspb.BinaryWriter.prototype.writeMessage=function(e,t,r){t!=null&&(e=this.beginDelimited_(e),r(t,this),this.endDelimited_(e))};jspb.BinaryWriter.prototype.writeMessageSet=function(e,t,r){t!=null&&(this.writeFieldHeader_(1,jspb.BinaryConstants.WireType.START_GROUP),this.writeFieldHeader_(2,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(e),e=this.beginDelimited_(3),r(t,this),this.endDelimited_(e),this.writeFieldHeader_(1,jspb.BinaryConstants.WireType.END_GROUP))};jspb.BinaryWriter.prototype.writeGroup=function(e,t,r){t!=null&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.START_GROUP),r(t,this),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.END_GROUP))};jspb.BinaryWriter.prototype.writeFixedHash64=function(e,t){t!=null&&(goog.asserts.assert(t.length==8),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeFixedHash64(t))};jspb.BinaryWriter.prototype.writeVarintHash64=function(e,t){t!=null&&(goog.asserts.assert(t.length==8),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeVarintHash64(t))};jspb.BinaryWriter.prototype.writeSplitFixed64=function(e,t,r){this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(t,r)};jspb.BinaryWriter.prototype.writeSplitVarint64=function(e,t,r){this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(t,r)};jspb.BinaryWriter.prototype.writeSplitZigzagVarint64=function(e,t,r){this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT);var o=this.encoder_;jspb.utils.toZigzag64(t,r,function(n,s){o.writeSplitVarint64(n>>>0,s>>>0)})};jspb.BinaryWriter.prototype.writeRepeatedInt32=function(e,t){if(t!=null)for(var r=0;r<t.length;r++)this.writeSignedVarint32_(e,t[r])};jspb.BinaryWriter.prototype.writeRepeatedInt32String=function(e,t){if(t!=null)for(var r=0;r<t.length;r++)this.writeInt32String(e,t[r])};jspb.BinaryWriter.prototype.writeRepeatedInt64=function(e,t){if(t!=null)for(var r=0;r<t.length;r++)this.writeSignedVarint64_(e,t[r])};jspb.BinaryWriter.prototype.writeRepeatedSplitFixed64=function(e,t,r,o){if(t!=null)for(var n=0;n<t.length;n++)this.writeSplitFixed64(e,r(t[n]),o(t[n]))};jspb.BinaryWriter.prototype.writeRepeatedSplitVarint64=function(e,t,r,o){if(t!=null)for(var n=0;n<t.length;n++)this.writeSplitVarint64(e,r(t[n]),o(t[n]))};jspb.BinaryWriter.prototype.writeRepeatedSplitZigzagVarint64=function(e,t,r,o){if(t!=null)for(var n=0;n<t.length;n++)this.writeSplitZigzagVarint64(e,r(t[n]),o(t[n]))};jspb.BinaryWriter.prototype.writeRepeatedInt64String=function(e,t){if(t!=null)for(var r=0;r<t.length;r++)this.writeInt64String(e,t[r])};jspb.BinaryWriter.prototype.writeRepeatedUint32=function(e,t){if(t!=null)for(var r=0;r<t.length;r++)this.writeUnsignedVarint32_(e,t[r])};jspb.BinaryWriter.prototype.writeRepeatedUint32String=function(e,t){if(t!=null)for(var r=0;r<t.length;r++)this.writeUint32String(e,t[r])};jspb.BinaryWriter.prototype.writeRepeatedUint64=function(e,t){if(t!=null)for(var r=0;r<t.length;r++)this.writeUnsignedVarint64_(e,t[r])};jspb.BinaryWriter.prototype.writeRepeatedUint64String=function(e,t){if(t!=null)for(var r=0;r<t.length;r++)this.writeUint64String(e,t[r])};jspb.BinaryWriter.prototype.writeRepeatedSint32=function(e,t){if(t!=null)for(var r=0;r<t.length;r++)this.writeZigzagVarint32_(e,t[r])};jspb.BinaryWriter.prototype.writeRepeatedSint64=function(e,t){if(t!=null)for(var r=0;r<t.length;r++)this.writeZigzagVarint64_(e,t[r])};jspb.BinaryWriter.prototype.writeRepeatedSint64String=function(e,t){if(t!=null)for(var r=0;r<t.length;r++)this.writeZigzagVarint64String_(e,t[r])};jspb.BinaryWriter.prototype.writeRepeatedSintHash64=function(e,t){if(t!=null)for(var r=0;r<t.length;r++)this.writeZigzagVarintHash64_(e,t[r])};jspb.BinaryWriter.prototype.writeRepeatedFixed32=function(e,t){if(t!=null)for(var r=0;r<t.length;r++)this.writeFixed32(e,t[r])};jspb.BinaryWriter.prototype.writeRepeatedFixed64=function(e,t){if(t!=null)for(var r=0;r<t.length;r++)this.writeFixed64(e,t[r])};jspb.BinaryWriter.prototype.writeRepeatedFixed64String=function(e,t){if(t!=null)for(var r=0;r<t.length;r++)this.writeFixed64String(e,t[r])};jspb.BinaryWriter.prototype.writeRepeatedSfixed32=function(e,t){if(t!=null)for(var r=0;r<t.length;r++)this.writeSfixed32(e,t[r])};jspb.BinaryWriter.prototype.writeRepeatedSfixed64=function(e,t){if(t!=null)for(var r=0;r<t.length;r++)this.writeSfixed64(e,t[r])};jspb.BinaryWriter.prototype.writeRepeatedSfixed64String=function(e,t){if(t!=null)for(var r=0;r<t.length;r++)this.writeSfixed64String(e,t[r])};jspb.BinaryWriter.prototype.writeRepeatedFloat=function(e,t){if(t!=null)for(var r=0;r<t.length;r++)this.writeFloat(e,t[r])};jspb.BinaryWriter.prototype.writeRepeatedDouble=function(e,t){if(t!=null)for(var r=0;r<t.length;r++)this.writeDouble(e,t[r])};jspb.BinaryWriter.prototype.writeRepeatedBool=function(e,t){if(t!=null)for(var r=0;r<t.length;r++)this.writeBool(e,t[r])};jspb.BinaryWriter.prototype.writeRepeatedEnum=function(e,t){if(t!=null)for(var r=0;r<t.length;r++)this.writeEnum(e,t[r])};jspb.BinaryWriter.prototype.writeRepeatedString=function(e,t){if(t!=null)for(var r=0;r<t.length;r++)this.writeString(e,t[r])};jspb.BinaryWriter.prototype.writeRepeatedBytes=function(e,t){if(t!=null)for(var r=0;r<t.length;r++)this.writeBytes(e,t[r])};jspb.BinaryWriter.prototype.writeRepeatedMessage=function(e,t,r){if(t!=null)for(var o=0;o<t.length;o++){var n=this.beginDelimited_(e);r(t[o],this),this.endDelimited_(n)}};jspb.BinaryWriter.prototype.writeRepeatedGroup=function(e,t,r){if(t!=null)for(var o=0;o<t.length;o++)this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.START_GROUP),r(t[o],this),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.END_GROUP)};jspb.BinaryWriter.prototype.writeRepeatedFixedHash64=function(e,t){if(t!=null)for(var r=0;r<t.length;r++)this.writeFixedHash64(e,t[r])};jspb.BinaryWriter.prototype.writeRepeatedVarintHash64=function(e,t){if(t!=null)for(var r=0;r<t.length;r++)this.writeVarintHash64(e,t[r])};jspb.BinaryWriter.prototype.writePackedInt32=function(e,t){if(t!=null&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeSignedVarint32(t[r]);this.endDelimited_(e)}};jspb.BinaryWriter.prototype.writePackedInt32String=function(e,t){if(t!=null&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeSignedVarint32(parseInt(t[r],10));this.endDelimited_(e)}};jspb.BinaryWriter.prototype.writePackedInt64=function(e,t){if(t!=null&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeSignedVarint64(t[r]);this.endDelimited_(e)}};jspb.BinaryWriter.prototype.writePackedSplitFixed64=function(e,t,r,o){if(t!=null){e=this.beginDelimited_(e);for(var n=0;n<t.length;n++)this.encoder_.writeSplitFixed64(r(t[n]),o(t[n]));this.endDelimited_(e)}};jspb.BinaryWriter.prototype.writePackedSplitVarint64=function(e,t,r,o){if(t!=null){e=this.beginDelimited_(e);for(var n=0;n<t.length;n++)this.encoder_.writeSplitVarint64(r(t[n]),o(t[n]));this.endDelimited_(e)}};jspb.BinaryWriter.prototype.writePackedSplitZigzagVarint64=function(e,t,r,o){if(t!=null){e=this.beginDelimited_(e);for(var n=this.encoder_,s=0;s<t.length;s++)jspb.utils.toZigzag64(r(t[s]),o(t[s]),function(i,a){n.writeSplitVarint64(i>>>0,a>>>0)});this.endDelimited_(e)}};jspb.BinaryWriter.prototype.writePackedInt64String=function(e,t){if(t!=null&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++){var o=jspb.arith.Int64.fromString(t[r]);this.encoder_.writeSplitVarint64(o.lo,o.hi)}this.endDelimited_(e)}};jspb.BinaryWriter.prototype.writePackedUint32=function(e,t){if(t!=null&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeUnsignedVarint32(t[r]);this.endDelimited_(e)}};jspb.BinaryWriter.prototype.writePackedUint32String=function(e,t){if(t!=null&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeUnsignedVarint32(parseInt(t[r],10));this.endDelimited_(e)}};jspb.BinaryWriter.prototype.writePackedUint64=function(e,t){if(t!=null&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeUnsignedVarint64(t[r]);this.endDelimited_(e)}};jspb.BinaryWriter.prototype.writePackedUint64String=function(e,t){if(t!=null&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++){var o=jspb.arith.UInt64.fromString(t[r]);this.encoder_.writeSplitVarint64(o.lo,o.hi)}this.endDelimited_(e)}};jspb.BinaryWriter.prototype.writePackedSint32=function(e,t){if(t!=null&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeZigzagVarint32(t[r]);this.endDelimited_(e)}};jspb.BinaryWriter.prototype.writePackedSint64=function(e,t){if(t!=null&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeZigzagVarint64(t[r]);this.endDelimited_(e)}};jspb.BinaryWriter.prototype.writePackedSint64String=function(e,t){if(t!=null&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeZigzagVarintHash64(jspb.utils.decimalStringToHash64(t[r]));this.endDelimited_(e)}};jspb.BinaryWriter.prototype.writePackedSintHash64=function(e,t){if(t!=null&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeZigzagVarintHash64(t[r]);this.endDelimited_(e)}};jspb.BinaryWriter.prototype.writePackedFixed32=function(e,t){if(t!=null&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*t.length),e=0;e<t.length;e++)this.encoder_.writeUint32(t[e])};jspb.BinaryWriter.prototype.writePackedFixed64=function(e,t){if(t!=null&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeUint64(t[e])};jspb.BinaryWriter.prototype.writePackedFixed64String=function(e,t){if(t!=null&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++){var r=jspb.arith.UInt64.fromString(t[e]);this.encoder_.writeSplitFixed64(r.lo,r.hi)}};jspb.BinaryWriter.prototype.writePackedSfixed32=function(e,t){if(t!=null&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*t.length),e=0;e<t.length;e++)this.encoder_.writeInt32(t[e])};jspb.BinaryWriter.prototype.writePackedSfixed64=function(e,t){if(t!=null&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeInt64(t[e])};jspb.BinaryWriter.prototype.writePackedSfixed64String=function(e,t){if(t!=null&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeInt64String(t[e])};jspb.BinaryWriter.prototype.writePackedFloat=function(e,t){if(t!=null&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*t.length),e=0;e<t.length;e++)this.encoder_.writeFloat(t[e])};jspb.BinaryWriter.prototype.writePackedDouble=function(e,t){if(t!=null&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeDouble(t[e])};jspb.BinaryWriter.prototype.writePackedBool=function(e,t){if(t!=null&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(t.length),e=0;e<t.length;e++)this.encoder_.writeBool(t[e])};jspb.BinaryWriter.prototype.writePackedEnum=function(e,t){if(t!=null&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeEnum(t[r]);this.endDelimited_(e)}};jspb.BinaryWriter.prototype.writePackedFixedHash64=function(e,t){if(t!=null&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeFixedHash64(t[e])};jspb.BinaryWriter.prototype.writePackedVarintHash64=function(e,t){if(t!=null&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeVarintHash64(t[r]);this.endDelimited_(e)}};jspb.Map=function(e,t){this.arr_=e,this.valueCtor_=t,this.map_={},this.arrClean=!0,0<this.arr_.length&&this.loadFromArray_()};jspb.Map.prototype.loadFromArray_=function(){for(var e=0;e<this.arr_.length;e++){var t=this.arr_[e],r=t[0];this.map_[r.toString()]=new jspb.Map.Entry_(r,t[1])}this.arrClean=!0};jspb.Map.prototype.toArray=function(){if(this.arrClean){if(this.valueCtor_){var e=this.map_,t;for(t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var r=e[t].valueWrapper;r&&r.toArray()}}}else{for(this.arr_.length=0,e=this.stringKeys_(),e.sort(),t=0;t<e.length;t++){var o=this.map_[e[t]];(r=o.valueWrapper)&&r.toArray(),this.arr_.push([o.key,o.value])}this.arrClean=!0}return this.arr_};jspb.Map.prototype.toObject=function(e,t){for(var r=this.toArray(),o=[],n=0;n<r.length;n++){var s=this.map_[r[n][0].toString()];this.wrapEntry_(s);var i=s.valueWrapper;i?(goog.asserts.assert(t),o.push([s.key,t(e,i)])):o.push([s.key,s.value])}return o};jspb.Map.fromObject=function(e,t,r){t=new jspb.Map([],t);for(var o=0;o<e.length;o++){var n=e[o][0],s=r(e[o][1]);t.set(n,s)}return t};jspb.Map.ArrayIteratorIterable_=function(e){this.idx_=0,this.arr_=e};jspb.Map.ArrayIteratorIterable_.prototype.next=function(){return this.idx_<this.arr_.length?{done:!1,value:this.arr_[this.idx_++]}:{done:!0,value:void 0}};typeof Symbol!="undefined"&&(jspb.Map.ArrayIteratorIterable_.prototype[Symbol.iterator]=function(){return this});jspb.Map.prototype.getLength=function(){return this.stringKeys_().length};jspb.Map.prototype.clear=function(){this.map_={},this.arrClean=!1};jspb.Map.prototype.del=function(e){e=e.toString();var t=this.map_.hasOwnProperty(e);return delete this.map_[e],this.arrClean=!1,t};jspb.Map.prototype.getEntryList=function(){var e=[],t=this.stringKeys_();t.sort();for(var r=0;r<t.length;r++){var o=this.map_[t[r]];e.push([o.key,o.value])}return e};jspb.Map.prototype.entries=function(){var e=[],t=this.stringKeys_();t.sort();for(var r=0;r<t.length;r++){var o=this.map_[t[r]];e.push([o.key,this.wrapEntry_(o)])}return new jspb.Map.ArrayIteratorIterable_(e)};jspb.Map.prototype.keys=function(){var e=[],t=this.stringKeys_();t.sort();for(var r=0;r<t.length;r++)e.push(this.map_[t[r]].key);return new jspb.Map.ArrayIteratorIterable_(e)};jspb.Map.prototype.values=function(){var e=[],t=this.stringKeys_();t.sort();for(var r=0;r<t.length;r++)e.push(this.wrapEntry_(this.map_[t[r]]));return new jspb.Map.ArrayIteratorIterable_(e)};jspb.Map.prototype.forEach=function(e,t){var r=this.stringKeys_();r.sort();for(var o=0;o<r.length;o++){var n=this.map_[r[o]];e.call(t,this.wrapEntry_(n),n.key,this)}};jspb.Map.prototype.set=function(e,t){var r=new jspb.Map.Entry_(e);return this.valueCtor_?(r.valueWrapper=t,r.value=t.toArray()):r.value=t,this.map_[e.toString()]=r,this.arrClean=!1,this};jspb.Map.prototype.wrapEntry_=function(e){return this.valueCtor_?(e.valueWrapper||(e.valueWrapper=new this.valueCtor_(e.value)),e.valueWrapper):e.value};jspb.Map.prototype.get=function(e){if(e=this.map_[e.toString()])return this.wrapEntry_(e)};jspb.Map.prototype.has=function(e){return e.toString()in this.map_};jspb.Map.prototype.serializeBinary=function(e,t,r,o,n){var s=this.stringKeys_();s.sort();for(var i=0;i<s.length;i++){var a=this.map_[s[i]];t.beginSubMessage(e),r.call(t,1,a.key),this.valueCtor_?o.call(t,2,this.wrapEntry_(a),n):o.call(t,2,a.value),t.endSubMessage()}};jspb.Map.deserializeBinary=function(e,t,r,o,n,s,i){for(;t.nextField()&&!t.isEndGroup();){var a=t.getFieldNumber();a==1?s=r.call(t):a==2&&(e.valueCtor_?(goog.asserts.assert(n),i||(i=new e.valueCtor_),o.call(t,i,n)):i=o.call(t))}goog.asserts.assert(s!=null),goog.asserts.assert(i!=null),e.set(s,i)};jspb.Map.prototype.stringKeys_=function(){var e=this.map_,t=[],r;for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t};jspb.Map.Entry_=function(e,t){this.key=e,this.value=t,this.valueWrapper=void 0};jspb.ExtensionFieldInfo=function(e,t,r,o,n){this.fieldIndex=e,this.fieldName=t,this.ctor=r,this.toObjectFn=o,this.isRepeated=n};jspb.ExtensionFieldBinaryInfo=function(e,t,r,o,n,s){this.fieldInfo=e,this.binaryReaderFn=t,this.binaryWriterFn=r,this.binaryMessageSerializeFn=o,this.binaryMessageDeserializeFn=n,this.isPacked=s};jspb.ExtensionFieldInfo.prototype.isMessageType=function(){return!!this.ctor};jspb.Message=function(){};jspb.Message.GENERATE_TO_OBJECT=!0;jspb.Message.GENERATE_FROM_OBJECT=!goog.DISALLOW_TEST_ONLY_CODE;jspb.Message.GENERATE_TO_STRING=!0;jspb.Message.ASSUME_LOCAL_ARRAYS=!1;jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS=!0;jspb.Message.SUPPORTS_UINT8ARRAY_=typeof Uint8Array=="function";jspb.Message.prototype.getJsPbMessageId=function(){return this.messageId_};jspb.Message.getIndex_=function(e,t){return t+e.arrayIndexOffset_};jspb.Message.hiddenES6Property_=function(){};jspb.Message.getFieldNumber_=function(e,t){return t-e.arrayIndexOffset_};jspb.Message.initialize=function(e,t,r,o,n,s){if(e.wrappers_=null,t||(t=r?[r]:[]),e.messageId_=r?String(r):void 0,e.arrayIndexOffset_=r===0?-1:0,e.array=t,jspb.Message.initPivotAndExtensionObject_(e,o),e.convertedPrimitiveFields_={},jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS||(e.repeatedFields=n),n)for(t=0;t<n.length;t++)r=n[t],r<e.pivot_?(r=jspb.Message.getIndex_(e,r),e.array[r]=e.array[r]||jspb.Message.EMPTY_LIST_SENTINEL_):(jspb.Message.maybeInitEmptyExtensionObject_(e),e.extensionObject_[r]=e.extensionObject_[r]||jspb.Message.EMPTY_LIST_SENTINEL_);if(s&&s.length)for(t=0;t<s.length;t++)jspb.Message.computeOneofCase(e,s[t])};jspb.Message.EMPTY_LIST_SENTINEL_=goog.DEBUG&&Object.freeze?Object.freeze([]):[];jspb.Message.isArray_=function(e){return jspb.Message.ASSUME_LOCAL_ARRAYS?e instanceof Array:Array.isArray(e)};jspb.Message.isExtensionObject_=function(e){return e!==null&&typeof e=="object"&&!jspb.Message.isArray_(e)&&!(jspb.Message.SUPPORTS_UINT8ARRAY_&&e instanceof Uint8Array)};jspb.Message.initPivotAndExtensionObject_=function(e,t){var r=e.array.length,o=-1;if(r&&(o=r-1,r=e.array[o],jspb.Message.isExtensionObject_(r))){e.pivot_=jspb.Message.getFieldNumber_(e,o),e.extensionObject_=r;return}-1<t?(e.pivot_=Math.max(t,jspb.Message.getFieldNumber_(e,o+1)),e.extensionObject_=null):e.pivot_=Number.MAX_VALUE};jspb.Message.maybeInitEmptyExtensionObject_=function(e){var t=jspb.Message.getIndex_(e,e.pivot_);e.array[t]||(e.extensionObject_=e.array[t]={})};jspb.Message.toObjectList=function(e,t,r){for(var o=[],n=0;n<e.length;n++)o[n]=t.call(e[n],r,e[n]);return o};jspb.Message.toObjectExtension=function(e,t,r,o,n){for(var s in r){var i=r[s],a=o.call(e,i);if(a!=null){for(var g in i.fieldName)if(i.fieldName.hasOwnProperty(g))break;t[g]=i.toObjectFn?i.isRepeated?jspb.Message.toObjectList(a,i.toObjectFn,n):i.toObjectFn(n,a):a}}};jspb.Message.serializeBinaryExtensions=function(e,t,r,o){for(var n in r){var s=r[n],i=s.fieldInfo;if(!s.binaryWriterFn)throw Error("Message extension present that was generated without binary serialization support");var a=o.call(e,i);if(a!=null)if(i.isMessageType())if(s.binaryMessageSerializeFn)s.binaryWriterFn.call(t,i.fieldIndex,a,s.binaryMessageSerializeFn);else throw Error("Message extension present holding submessage without binary support enabled, and message is being serialized to binary format");else s.binaryWriterFn.call(t,i.fieldIndex,a)}};jspb.Message.readBinaryExtension=function(e,t,r,o,n){var s=r[t.getFieldNumber()];if(s){if(r=s.fieldInfo,!s.binaryReaderFn)throw Error("Deserializing extension whose generated code does not support binary format");if(r.isMessageType()){var i=new r.ctor;s.binaryReaderFn.call(t,i,s.binaryMessageDeserializeFn)}else i=s.binaryReaderFn.call(t);r.isRepeated&&!s.isPacked?(t=o.call(e,r))?t.push(i):n.call(e,r,[i]):n.call(e,r,i)}else t.skipField()};jspb.Message.getField=function(e,t){if(t<e.pivot_){t=jspb.Message.getIndex_(e,t);var r=e.array[t];return r===jspb.Message.EMPTY_LIST_SENTINEL_?e.array[t]=[]:r}if(e.extensionObject_)return r=e.extensionObject_[t],r===jspb.Message.EMPTY_LIST_SENTINEL_?e.extensionObject_[t]=[]:r};jspb.Message.getRepeatedField=function(e,t){return jspb.Message.getField(e,t)};jspb.Message.getOptionalFloatingPointField=function(e,t){return e=jspb.Message.getField(e,t),e==null?e:+e};jspb.Message.getBooleanField=function(e,t){return e=jspb.Message.getField(e,t),e==null?e:!!e};jspb.Message.getRepeatedFloatingPointField=function(e,t){var r=jspb.Message.getRepeatedField(e,t);if(e.convertedPrimitiveFields_||(e.convertedPrimitiveFields_={}),!e.convertedPrimitiveFields_[t]){for(var o=0;o<r.length;o++)r[o]=+r[o];e.convertedPrimitiveFields_[t]=!0}return r};jspb.Message.getRepeatedBooleanField=function(e,t){var r=jspb.Message.getRepeatedField(e,t);if(e.convertedPrimitiveFields_||(e.convertedPrimitiveFields_={}),!e.convertedPrimitiveFields_[t]){for(var o=0;o<r.length;o++)r[o]=!!r[o];e.convertedPrimitiveFields_[t]=!0}return r};jspb.Message.bytesAsB64=function(e){return e==null||typeof e=="string"?e:jspb.Message.SUPPORTS_UINT8ARRAY_&&e instanceof Uint8Array?goog.crypt.base64.encodeByteArray(e):(goog.asserts.fail("Cannot coerce to b64 string: "+goog.typeOf(e)),null)};jspb.Message.bytesAsU8=function(e){return e==null||e instanceof Uint8Array?e:typeof e=="string"?goog.crypt.base64.decodeStringToUint8Array(e):(goog.asserts.fail("Cannot coerce to Uint8Array: "+goog.typeOf(e)),null)};jspb.Message.bytesListAsB64=function(e){return jspb.Message.assertConsistentTypes_(e),e.length&&typeof e[0]!="string"?goog.array.map(e,jspb.Message.bytesAsB64):e};jspb.Message.bytesListAsU8=function(e){return jspb.Message.assertConsistentTypes_(e),!e.length||e[0]instanceof Uint8Array?e:goog.array.map(e,jspb.Message.bytesAsU8)};jspb.Message.assertConsistentTypes_=function(e){if(goog.DEBUG&&e&&1<e.length){var t=goog.typeOf(e[0]);goog.array.forEach(e,function(r){goog.typeOf(r)!=t&&goog.asserts.fail("Inconsistent type in JSPB repeated field array. Got "+goog.typeOf(r)+" expected "+t)})}};jspb.Message.getFieldWithDefault=function(e,t,r){return e=jspb.Message.getField(e,t),e??r};jspb.Message.getBooleanFieldWithDefault=function(e,t,r){return e=jspb.Message.getBooleanField(e,t),e??r};jspb.Message.getFloatingPointFieldWithDefault=function(e,t,r){return e=jspb.Message.getOptionalFloatingPointField(e,t),e??r};jspb.Message.getFieldProto3=jspb.Message.getFieldWithDefault;jspb.Message.getMapField=function(e,t,r,o){if(e.wrappers_||(e.wrappers_={}),t in e.wrappers_)return e.wrappers_[t];var n=jspb.Message.getField(e,t);if(!n){if(r)return;n=[],jspb.Message.setField(e,t,n)}return e.wrappers_[t]=new jspb.Map(n,o)};jspb.Message.setField=function(e,t,r){return goog.asserts.assertInstanceof(e,jspb.Message),t<e.pivot_?e.array[jspb.Message.getIndex_(e,t)]=r:(jspb.Message.maybeInitEmptyExtensionObject_(e),e.extensionObject_[t]=r),e};jspb.Message.setProto3IntField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,0)};jspb.Message.setProto3FloatField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,0)};jspb.Message.setProto3BooleanField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,!1)};jspb.Message.setProto3StringField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,"")};jspb.Message.setProto3BytesField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,"")};jspb.Message.setProto3EnumField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,0)};jspb.Message.setProto3StringIntField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,"0")};jspb.Message.setFieldIgnoringDefault_=function(e,t,r,o){return goog.asserts.assertInstanceof(e,jspb.Message),r!==o?jspb.Message.setField(e,t,r):t<e.pivot_?e.array[jspb.Message.getIndex_(e,t)]=null:(jspb.Message.maybeInitEmptyExtensionObject_(e),delete e.extensionObject_[t]),e};jspb.Message.addToRepeatedField=function(e,t,r,o){return goog.asserts.assertInstanceof(e,jspb.Message),t=jspb.Message.getRepeatedField(e,t),o!=null?t.splice(o,0,r):t.push(r),e};jspb.Message.setOneofField=function(e,t,r,o){return goog.asserts.assertInstanceof(e,jspb.Message),(r=jspb.Message.computeOneofCase(e,r))&&r!==t&&o!==void 0&&(e.wrappers_&&r in e.wrappers_&&(e.wrappers_[r]=void 0),jspb.Message.setField(e,r,void 0)),jspb.Message.setField(e,t,o)};jspb.Message.computeOneofCase=function(e,t){for(var r,o,n=0;n<t.length;n++){var s=t[n],i=jspb.Message.getField(e,s);i!=null&&(r=s,o=i,jspb.Message.setField(e,s,void 0))}return r?(jspb.Message.setField(e,r,o),r):0};jspb.Message.getWrapperField=function(e,t,r,o){if(e.wrappers_||(e.wrappers_={}),!e.wrappers_[r]){var n=jspb.Message.getField(e,r);(o||n)&&(e.wrappers_[r]=new t(n))}return e.wrappers_[r]};jspb.Message.getRepeatedWrapperField=function(e,t,r){return jspb.Message.wrapRepeatedField_(e,t,r),t=e.wrappers_[r],t==jspb.Message.EMPTY_LIST_SENTINEL_&&(t=e.wrappers_[r]=[]),t};jspb.Message.wrapRepeatedField_=function(e,t,r){if(e.wrappers_||(e.wrappers_={}),!e.wrappers_[r]){for(var o=jspb.Message.getRepeatedField(e,r),n=[],s=0;s<o.length;s++)n[s]=new t(o[s]);e.wrappers_[r]=n}};jspb.Message.setWrapperField=function(e,t,r){goog.asserts.assertInstanceof(e,jspb.Message),e.wrappers_||(e.wrappers_={});var o=r&&r.toArray();return e.wrappers_[t]=r,jspb.Message.setField(e,t,o)};jspb.Message.setOneofWrapperField=function(e,t,r,o){goog.asserts.assertInstanceof(e,jspb.Message),e.wrappers_||(e.wrappers_={});var n=o&&o.toArray();return e.wrappers_[t]=o,jspb.Message.setOneofField(e,t,r,n)};jspb.Message.setRepeatedWrapperField=function(e,t,r){goog.asserts.assertInstanceof(e,jspb.Message),e.wrappers_||(e.wrappers_={}),r=r||[];for(var o=[],n=0;n<r.length;n++)o[n]=r[n].toArray();return e.wrappers_[t]=r,jspb.Message.setField(e,t,o)};jspb.Message.addToRepeatedWrapperField=function(e,t,r,o,n){jspb.Message.wrapRepeatedField_(e,o,t);var s=e.wrappers_[t];return s||(s=e.wrappers_[t]=[]),r=r||new o,e=jspb.Message.getRepeatedField(e,t),n!=null?(s.splice(n,0,r),e.splice(n,0,r.toArray())):(s.push(r),e.push(r.toArray())),r};jspb.Message.toMap=function(e,t,r,o){for(var n={},s=0;s<e.length;s++)n[t.call(e[s])]=r?r.call(e[s],o,e[s]):e[s];return n};jspb.Message.prototype.syncMapFields_=function(){if(this.wrappers_)for(var e in this.wrappers_){var t=this.wrappers_[e];if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]&&t[r].toArray();else t&&t.toArray()}};jspb.Message.prototype.toArray=function(){return this.syncMapFields_(),this.array};jspb.Message.GENERATE_TO_STRING&&(jspb.Message.prototype.toString=function(){return this.syncMapFields_(),this.array.toString()});jspb.Message.prototype.getExtension=function(e){if(this.extensionObject_){this.wrappers_||(this.wrappers_={});var t=e.fieldIndex;if(e.isRepeated){if(e.isMessageType())return this.wrappers_[t]||(this.wrappers_[t]=goog.array.map(this.extensionObject_[t]||[],function(r){return new e.ctor(r)})),this.wrappers_[t]}else if(e.isMessageType())return!this.wrappers_[t]&&this.extensionObject_[t]&&(this.wrappers_[t]=new e.ctor(this.extensionObject_[t])),this.wrappers_[t];return this.extensionObject_[t]}};jspb.Message.prototype.setExtension=function(e,t){this.wrappers_||(this.wrappers_={}),jspb.Message.maybeInitEmptyExtensionObject_(this);var r=e.fieldIndex;return e.isRepeated?(t=t||[],e.isMessageType()?(this.wrappers_[r]=t,this.extensionObject_[r]=goog.array.map(t,function(o){return o.toArray()})):this.extensionObject_[r]=t):e.isMessageType()?(this.wrappers_[r]=t,this.extensionObject_[r]=t&&t.toArray()):this.extensionObject_[r]=t,this};jspb.Message.difference=function(e,t){if(!(e instanceof t.constructor))throw Error("Messages have different types.");var r=e.toArray();t=t.toArray();var o=[],n=0,s=r.length>t.length?r.length:t.length;for(e.getJsPbMessageId()&&(o[0]=e.getJsPbMessageId(),n=1);n<s;n++)jspb.Message.compareFields(r[n],t[n])||(o[n]=t[n]);return new e.constructor(o)};jspb.Message.equals=function(e,t){return e==t||!(!e||!t)&&e instanceof t.constructor&&jspb.Message.compareFields(e.toArray(),t.toArray())};jspb.Message.compareExtensions=function(e,t){e=e||{},t=t||{};var r={},o;for(o in e)r[o]=0;for(o in t)r[o]=0;for(o in r)if(!jspb.Message.compareFields(e[o],t[o]))return!1;return!0};jspb.Message.compareFields=function(e,t){if(e==t)return!0;if(!goog.isObject(e)||!goog.isObject(t))return typeof e=="number"&&isNaN(e)||typeof t=="number"&&isNaN(t)?String(e)==String(t):!1;if(e.constructor!=t.constructor)return!1;if(jspb.Message.SUPPORTS_UINT8ARRAY_&&e.constructor===Uint8Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!=t[r])return!1;return!0}if(e.constructor===Array){var o=void 0,n=void 0,s=Math.max(e.length,t.length);for(r=0;r<s;r++){var i=e[r],a=t[r];if(i&&i.constructor==Object&&(goog.asserts.assert(o===void 0),goog.asserts.assert(r===e.length-1),o=i,i=void 0),a&&a.constructor==Object&&(goog.asserts.assert(n===void 0),goog.asserts.assert(r===t.length-1),n=a,a=void 0),!jspb.Message.compareFields(i,a))return!1}return o||n?(o=o||{},n=n||{},jspb.Message.compareExtensions(o,n)):!0}if(e.constructor===Object)return jspb.Message.compareExtensions(e,t);throw Error("Invalid type in JSPB array")};jspb.Message.prototype.cloneMessage=function(){return jspb.Message.cloneMessage(this)};jspb.Message.prototype.clone=function(){return jspb.Message.cloneMessage(this)};jspb.Message.clone=function(e){return jspb.Message.cloneMessage(e)};jspb.Message.cloneMessage=function(e){return new e.constructor(jspb.Message.clone_(e.toArray()))};jspb.Message.copyInto=function(e,t){goog.asserts.assertInstanceof(e,jspb.Message),goog.asserts.assertInstanceof(t,jspb.Message),goog.asserts.assert(e.constructor==t.constructor,"Copy source and target message should have the same type."),e=jspb.Message.clone(e);for(var r=t.toArray(),o=e.toArray(),n=r.length=0;n<o.length;n++)r[n]=o[n];t.wrappers_=e.wrappers_,t.extensionObject_=e.extensionObject_};jspb.Message.clone_=function(e){if(Array.isArray(e)){for(var t=Array(e.length),r=0;r<e.length;r++){var o=e[r];o!=null&&(t[r]=typeof o=="object"?jspb.Message.clone_(goog.asserts.assert(o)):o)}return t}if(jspb.Message.SUPPORTS_UINT8ARRAY_&&e instanceof Uint8Array)return new Uint8Array(e);t={};for(r in e)o=e[r],o!=null&&(t[r]=typeof o=="object"?jspb.Message.clone_(goog.asserts.assert(o)):o);return t};jspb.Message.registerMessageType=function(e,t){t.messageId=e};jspb.Message.messageSetExtensions={};jspb.Message.messageSetExtensionsBinary={};jspb.Export={};exports.Map=jspb.Map;exports.Message=jspb.Message;exports.BinaryReader=jspb.BinaryReader;exports.BinaryWriter=jspb.BinaryWriter;exports.ExtensionFieldInfo=jspb.ExtensionFieldInfo;exports.ExtensionFieldBinaryInfo=jspb.ExtensionFieldBinaryInfo;exports.exportSymbol=goog.exportSymbol;exports.inherits=goog.inherits;exports.object={extend:goog.object.extend};exports.typeOf=goog.typeOf});var yo=y(As=>{var z=_o(),cr=z,Ll=Function("return this")();cr.exportSymbol("proto.google.protobuf.Duration",null,Ll);proto.google.protobuf.Duration=function(e){z.Message.initialize(this,e,0,-1,null,null)};cr.inherits(proto.google.protobuf.Duration,z.Message);cr.DEBUG&&!COMPILED&&(proto.google.protobuf.Duration.displayName="proto.google.protobuf.Duration");z.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.Duration.prototype.toObject=function(e){return proto.google.protobuf.Duration.toObject(e,this)},proto.google.protobuf.Duration.toObject=function(e,t){var r,o={seconds:z.Message.getFieldWithDefault(t,1,0),nanos:z.Message.getFieldWithDefault(t,2,0)};return e&&(o.$jspbMessageInstance=t),o});proto.google.protobuf.Duration.deserializeBinary=function(e){var t=new z.BinaryReader(e),r=new proto.google.protobuf.Duration;return proto.google.protobuf.Duration.deserializeBinaryFromReader(r,t)};proto.google.protobuf.Duration.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){var r=t.getFieldNumber();switch(r){case 1:var o=t.readInt64();e.setSeconds(o);break;case 2:var o=t.readInt32();e.setNanos(o);break;default:t.skipField();break}}return e};proto.google.protobuf.Duration.prototype.serializeBinary=function(){var e=new z.BinaryWriter;return proto.google.protobuf.Duration.serializeBinaryToWriter(this,e),e.getResultBuffer()};proto.google.protobuf.Duration.serializeBinaryToWriter=function(e,t){var r=void 0;r=e.getSeconds(),r!==0&&t.writeInt64(1,r),r=e.getNanos(),r!==0&&t.writeInt32(2,r)};proto.google.protobuf.Duration.prototype.getSeconds=function(){return z.Message.getFieldWithDefault(this,1,0)};proto.google.protobuf.Duration.prototype.setSeconds=function(e){return z.Message.setProto3IntField(this,1,e)};proto.google.protobuf.Duration.prototype.getNanos=function(){return z.Message.getFieldWithDefault(this,2,0)};proto.google.protobuf.Duration.prototype.setNanos=function(e){return z.Message.setProto3IntField(this,2,e)};cr.object.extend(As,proto.google.protobuf)});var So=y(Cs=>{var l=_o(),E=l,j=Function("return this")(),Ye=yo();E.object.extend(proto,Ye);E.exportSymbol("proto.CacheRequest",null,j);E.exportSymbol("proto.CacheResponse",null,j);E.exportSymbol("proto.CancelEvaluate",null,j);E.exportSymbol("proto.Content",null,j);E.exportSymbol("proto.EvaluateError",null,j);E.exportSymbol("proto.EvaluateRequest",null,j);E.exportSymbol("proto.EvaluateResponse",null,j);E.exportSymbol("proto.LineAndColumn",null,j);E.exportSymbol("proto.Output",null,j);E.exportSymbol("proto.PromptRequest",null,j);E.exportSymbol("proto.PromptResponse",null,j);E.exportSymbol("proto.ToClient",null,j);E.exportSymbol("proto.ToClient.KindCase",null,j);E.exportSymbol("proto.ToServer",null,j);E.exportSymbol("proto.ToServer.KindCase",null,j);proto.ToServer=function(e){l.Message.initialize(this,e,0,-1,null,proto.ToServer.oneofGroups_)};E.inherits(proto.ToServer,l.Message);E.DEBUG&&!COMPILED&&(proto.ToServer.displayName="proto.ToServer");proto.ToClient=function(e){l.Message.initialize(this,e,0,-1,null,proto.ToClient.oneofGroups_)};E.inherits(proto.ToClient,l.Message);E.DEBUG&&!COMPILED&&(proto.ToClient.displayName="proto.ToClient");proto.EvaluateRequest=function(e){l.Message.initialize(this,e,0,-1,null,null)};E.inherits(proto.EvaluateRequest,l.Message);E.DEBUG&&!COMPILED&&(proto.EvaluateRequest.displayName="proto.EvaluateRequest");proto.EvaluateResponse=function(e){l.Message.initialize(this,e,0,-1,proto.EvaluateResponse.repeatedFields_,null)};E.inherits(proto.EvaluateResponse,l.Message);E.DEBUG&&!COMPILED&&(proto.EvaluateResponse.displayName="proto.EvaluateResponse");proto.EvaluateError=function(e){l.Message.initialize(this,e,0,-1,null,null)};E.inherits(proto.EvaluateError,l.Message);E.DEBUG&&!COMPILED&&(proto.EvaluateError.displayName="proto.EvaluateError");proto.LineAndColumn=function(e){l.Message.initialize(this,e,0,-1,null,null)};E.inherits(proto.LineAndColumn,l.Message);E.DEBUG&&!COMPILED&&(proto.LineAndColumn.displayName="proto.LineAndColumn");proto.Output=function(e){l.Message.initialize(this,e,0,-1,proto.Output.repeatedFields_,null)};E.inherits(proto.Output,l.Message);E.DEBUG&&!COMPILED&&(proto.Output.displayName="proto.Output");proto.Content=function(e){l.Message.initialize(this,e,0,-1,null,null)};E.inherits(proto.Content,l.Message);E.DEBUG&&!COMPILED&&(proto.Content.displayName="proto.Content");proto.PromptRequest=function(e){l.Message.initialize(this,e,0,-1,null,null)};E.inherits(proto.PromptRequest,l.Message);E.DEBUG&&!COMPILED&&(proto.PromptRequest.displayName="proto.PromptRequest");proto.PromptResponse=function(e){l.Message.initialize(this,e,0,-1,null,null)};E.inherits(proto.PromptResponse,l.Message);E.DEBUG&&!COMPILED&&(proto.PromptResponse.displayName="proto.PromptResponse");proto.CacheRequest=function(e){l.Message.initialize(this,e,0,-1,null,null)};E.inherits(proto.CacheRequest,l.Message);E.DEBUG&&!COMPILED&&(proto.CacheRequest.displayName="proto.CacheRequest");proto.CacheResponse=function(e){l.Message.initialize(this,e,0,-1,null,null)};E.inherits(proto.CacheResponse,l.Message);E.DEBUG&&!COMPILED&&(proto.CacheResponse.displayName="proto.CacheResponse");proto.CancelEvaluate=function(e){l.Message.initialize(this,e,0,-1,null,null)};E.inherits(proto.CancelEvaluate,l.Message);E.DEBUG&&!COMPILED&&(proto.CancelEvaluate.displayName="proto.CancelEvaluate");proto.ToServer.oneofGroups_=[[1,2,3,4]];proto.ToServer.KindCase={KIND_NOT_SET:0,EVALUATE:1,PROMPT:2,CACHE:3,CANCEL:4};proto.ToServer.prototype.getKindCase=function(){return l.Message.computeOneofCase(this,proto.ToServer.oneofGroups_[0])};l.Message.GENERATE_TO_OBJECT&&(proto.ToServer.prototype.toObject=function(e){return proto.ToServer.toObject(e,this)},proto.ToServer.toObject=function(e,t){var r,o={evaluate:(r=t.getEvaluate())&&proto.EvaluateRequest.toObject(e,r),prompt:(r=t.getPrompt())&&proto.PromptResponse.toObject(e,r),cache:(r=t.getCache())&&proto.CacheResponse.toObject(e,r),cancel:(r=t.getCancel())&&proto.CancelEvaluate.toObject(e,r)};return e&&(o.$jspbMessageInstance=t),o});proto.ToServer.deserializeBinary=function(e){var t=new l.BinaryReader(e),r=new proto.ToServer;return proto.ToServer.deserializeBinaryFromReader(r,t)};proto.ToServer.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){var r=t.getFieldNumber();switch(r){case 1:var o=new proto.EvaluateRequest;t.readMessage(o,proto.EvaluateRequest.deserializeBinaryFromReader),e.setEvaluate(o);break;case 2:var o=new proto.PromptResponse;t.readMessage(o,proto.PromptResponse.deserializeBinaryFromReader),e.setPrompt(o);break;case 3:var o=new proto.CacheResponse;t.readMessage(o,proto.CacheResponse.deserializeBinaryFromReader),e.setCache(o);break;case 4:var o=new proto.CancelEvaluate;t.readMessage(o,proto.CancelEvaluate.deserializeBinaryFromReader),e.setCancel(o);break;default:t.skipField();break}}return e};proto.ToServer.prototype.serializeBinary=function(){var e=new l.BinaryWriter;return proto.ToServer.serializeBinaryToWriter(this,e),e.getResultBuffer()};proto.ToServer.serializeBinaryToWriter=function(e,t){var r=void 0;r=e.getEvaluate(),r!=null&&t.writeMessage(1,r,proto.EvaluateRequest.serializeBinaryToWriter),r=e.getPrompt(),r!=null&&t.writeMessage(2,r,proto.PromptResponse.serializeBinaryToWriter),r=e.getCache(),r!=null&&t.writeMessage(3,r,proto.CacheResponse.serializeBinaryToWriter),r=e.getCancel(),r!=null&&t.writeMessage(4,r,proto.CancelEvaluate.serializeBinaryToWriter)};proto.ToServer.prototype.getEvaluate=function(){return l.Message.getWrapperField(this,proto.EvaluateRequest,1)};proto.ToServer.prototype.setEvaluate=function(e){return l.Message.setOneofWrapperField(this,1,proto.ToServer.oneofGroups_[0],e)};proto.ToServer.prototype.clearEvaluate=function(){return this.setEvaluate(void 0)};proto.ToServer.prototype.hasEvaluate=function(){return l.Message.getField(this,1)!=null};proto.ToServer.prototype.getPrompt=function(){return l.Message.getWrapperField(this,proto.PromptResponse,2)};proto.ToServer.prototype.setPrompt=function(e){return l.Message.setOneofWrapperField(this,2,proto.ToServer.oneofGroups_[0],e)};proto.ToServer.prototype.clearPrompt=function(){return this.setPrompt(void 0)};proto.ToServer.prototype.hasPrompt=function(){return l.Message.getField(this,2)!=null};proto.ToServer.prototype.getCache=function(){return l.Message.getWrapperField(this,proto.CacheResponse,3)};proto.ToServer.prototype.setCache=function(e){return l.Message.setOneofWrapperField(this,3,proto.ToServer.oneofGroups_[0],e)};proto.ToServer.prototype.clearCache=function(){return this.setCache(void 0)};proto.ToServer.prototype.hasCache=function(){return l.Message.getField(this,3)!=null};proto.ToServer.prototype.getCancel=function(){return l.Message.getWrapperField(this,proto.CancelEvaluate,4)};proto.ToServer.prototype.setCancel=function(e){return l.Message.setOneofWrapperField(this,4,proto.ToServer.oneofGroups_[0],e)};proto.ToServer.prototype.clearCancel=function(){return this.setCancel(void 0)};proto.ToServer.prototype.hasCancel=function(){return l.Message.getField(this,4)!=null};proto.ToClient.oneofGroups_=[[1,2,3,4]];proto.ToClient.KindCase={KIND_NOT_SET:0,OUTPUT:1,EVALUATE:2,PROMPT:3,CACHE:4};proto.ToClient.prototype.getKindCase=function(){return l.Message.computeOneofCase(this,proto.ToClient.oneofGroups_[0])};l.Message.GENERATE_TO_OBJECT&&(proto.ToClient.prototype.toObject=function(e){return proto.ToClient.toObject(e,this)},proto.ToClient.toObject=function(e,t){var r,o={output:(r=t.getOutput())&&proto.Output.toObject(e,r),evaluate:(r=t.getEvaluate())&&proto.EvaluateResponse.toObject(e,r),prompt:(r=t.getPrompt())&&proto.PromptRequest.toObject(e,r),cache:(r=t.getCache())&&proto.CacheRequest.toObject(e,r)};return e&&(o.$jspbMessageInstance=t),o});proto.ToClient.deserializeBinary=function(e){var t=new l.BinaryReader(e),r=new proto.ToClient;return proto.ToClient.deserializeBinaryFromReader(r,t)};proto.ToClient.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){var r=t.getFieldNumber();switch(r){case 1:var o=new proto.Output;t.readMessage(o,proto.Output.deserializeBinaryFromReader),e.setOutput(o);break;case 2:var o=new proto.EvaluateResponse;t.readMessage(o,proto.EvaluateResponse.deserializeBinaryFromReader),e.setEvaluate(o);break;case 3:var o=new proto.PromptRequest;t.readMessage(o,proto.PromptRequest.deserializeBinaryFromReader),e.setPrompt(o);break;case 4:var o=new proto.CacheRequest;t.readMessage(o,proto.CacheRequest.deserializeBinaryFromReader),e.setCache(o);break;default:t.skipField();break}}return e};proto.ToClient.prototype.serializeBinary=function(){var e=new l.BinaryWriter;return proto.ToClient.serializeBinaryToWriter(this,e),e.getResultBuffer()};proto.ToClient.serializeBinaryToWriter=function(e,t){var r=void 0;r=e.getOutput(),r!=null&&t.writeMessage(1,r,proto.Output.serializeBinaryToWriter),r=e.getEvaluate(),r!=null&&t.writeMessage(2,r,proto.EvaluateResponse.serializeBinaryToWriter),r=e.getPrompt(),r!=null&&t.writeMessage(3,r,proto.PromptRequest.serializeBinaryToWriter),r=e.getCache(),r!=null&&t.writeMessage(4,r,proto.CacheRequest.serializeBinaryToWriter)};proto.ToClient.prototype.getOutput=function(){return l.Message.getWrapperField(this,proto.Output,1)};proto.ToClient.prototype.setOutput=function(e){return l.Message.setOneofWrapperField(this,1,proto.ToClient.oneofGroups_[0],e)};proto.ToClient.prototype.clearOutput=function(){return this.setOutput(void 0)};proto.ToClient.prototype.hasOutput=function(){return l.Message.getField(this,1)!=null};proto.ToClient.prototype.getEvaluate=function(){return l.Message.getWrapperField(this,proto.EvaluateResponse,2)};proto.ToClient.prototype.setEvaluate=function(e){return l.Message.setOneofWrapperField(this,2,proto.ToClient.oneofGroups_[0],e)};proto.ToClient.prototype.clearEvaluate=function(){return this.setEvaluate(void 0)};proto.ToClient.prototype.hasEvaluate=function(){return l.Message.getField(this,2)!=null};proto.ToClient.prototype.getPrompt=function(){return l.Message.getWrapperField(this,proto.PromptRequest,3)};proto.ToClient.prototype.setPrompt=function(e){return l.Message.setOneofWrapperField(this,3,proto.ToClient.oneofGroups_[0],e)};proto.ToClient.prototype.clearPrompt=function(){return this.setPrompt(void 0)};proto.ToClient.prototype.hasPrompt=function(){return l.Message.getField(this,3)!=null};proto.ToClient.prototype.getCache=function(){return l.Message.getWrapperField(this,proto.CacheRequest,4)};proto.ToClient.prototype.setCache=function(e){return l.Message.setOneofWrapperField(this,4,proto.ToClient.oneofGroups_[0],e)};proto.ToClient.prototype.clearCache=function(){return this.setCache(void 0)};proto.ToClient.prototype.hasCache=function(){return l.Message.getField(this,4)!=null};l.Message.GENERATE_TO_OBJECT&&(proto.EvaluateRequest.prototype.toObject=function(e){return proto.EvaluateRequest.toObject(e,this)},proto.EvaluateRequest.toObject=function(e,t){var r,o={code:l.Message.getFieldWithDefault(t,1,"")};return e&&(o.$jspbMessageInstance=t),o});proto.EvaluateRequest.deserializeBinary=function(e){var t=new l.BinaryReader(e),r=new proto.EvaluateRequest;return proto.EvaluateRequest.deserializeBinaryFromReader(r,t)};proto.EvaluateRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){var r=t.getFieldNumber();switch(r){case 1:var o=t.readString();e.setCode(o);break;default:t.skipField();break}}return e};proto.EvaluateRequest.prototype.serializeBinary=function(){var e=new l.BinaryWriter;return proto.EvaluateRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()};proto.EvaluateRequest.serializeBinaryToWriter=function(e,t){var r=void 0;r=e.getCode(),r.length>0&&t.writeString(1,r)};proto.EvaluateRequest.prototype.getCode=function(){return l.Message.getFieldWithDefault(this,1,"")};proto.EvaluateRequest.prototype.setCode=function(e){return l.Message.setProto3StringField(this,1,e)};proto.EvaluateResponse.repeatedFields_=[2];l.Message.GENERATE_TO_OBJECT&&(proto.EvaluateResponse.prototype.toObject=function(e){return proto.EvaluateResponse.toObject(e,this)},proto.EvaluateResponse.toObject=function(e,t){var r,o={duration:(r=t.getDuration())&&Ye.Duration.toObject(e,r),errorsList:l.Message.toObjectList(t.getErrorsList(),proto.EvaluateError.toObject,e)};return e&&(o.$jspbMessageInstance=t),o});proto.EvaluateResponse.deserializeBinary=function(e){var t=new l.BinaryReader(e),r=new proto.EvaluateResponse;return proto.EvaluateResponse.deserializeBinaryFromReader(r,t)};proto.EvaluateResponse.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){var r=t.getFieldNumber();switch(r){case 1:var o=new Ye.Duration;t.readMessage(o,Ye.Duration.deserializeBinaryFromReader),e.setDuration(o);break;case 2:var o=new proto.EvaluateError;t.readMessage(o,proto.EvaluateError.deserializeBinaryFromReader),e.addErrors(o);break;default:t.skipField();break}}return e};proto.EvaluateResponse.prototype.serializeBinary=function(){var e=new l.BinaryWriter;return proto.EvaluateResponse.serializeBinaryToWriter(this,e),e.getResultBuffer()};proto.EvaluateResponse.serializeBinaryToWriter=function(e,t){var r=void 0;r=e.getDuration(),r!=null&&t.writeMessage(1,r,Ye.Duration.serializeBinaryToWriter),r=e.getErrorsList(),r.length>0&&t.writeRepeatedMessage(2,r,proto.EvaluateError.serializeBinaryToWriter)};proto.EvaluateResponse.prototype.getDuration=function(){return l.Message.getWrapperField(this,Ye.Duration,1)};proto.EvaluateResponse.prototype.setDuration=function(e){return l.Message.setWrapperField(this,1,e)};proto.EvaluateResponse.prototype.clearDuration=function(){return this.setDuration(void 0)};proto.EvaluateResponse.prototype.hasDuration=function(){return l.Message.getField(this,1)!=null};proto.EvaluateResponse.prototype.getErrorsList=function(){return l.Message.getRepeatedWrapperField(this,proto.EvaluateError,2)};proto.EvaluateResponse.prototype.setErrorsList=function(e){return l.Message.setRepeatedWrapperField(this,2,e)};proto.EvaluateResponse.prototype.addErrors=function(e,t){return l.Message.addToRepeatedWrapperField(this,2,e,proto.EvaluateError,t)};proto.EvaluateResponse.prototype.clearErrorsList=function(){return this.setErrorsList([])};l.Message.GENERATE_TO_OBJECT&&(proto.EvaluateError.prototype.toObject=function(e){return proto.EvaluateError.toObject(e,this)},proto.EvaluateError.toObject=function(e,t){var r,o={message:l.Message.getFieldWithDefault(t,1,""),stack:l.Message.getFieldWithDefault(t,2,""),position:(r=t.getPosition())&&proto.LineAndColumn.toObject(e,r)};return e&&(o.$jspbMessageInstance=t),o});proto.EvaluateError.deserializeBinary=function(e){var t=new l.BinaryReader(e),r=new proto.EvaluateError;return proto.EvaluateError.deserializeBinaryFromReader(r,t)};proto.EvaluateError.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){var r=t.getFieldNumber();switch(r){case 1:var o=t.readString();e.setMessage(o);break;case 2:var o=t.readString();e.setStack(o);break;case 3:var o=new proto.LineAndColumn;t.readMessage(o,proto.LineAndColumn.deserializeBinaryFromReader),e.setPosition(o);break;default:t.skipField();break}}return e};proto.EvaluateError.prototype.serializeBinary=function(){var e=new l.BinaryWriter;return proto.EvaluateError.serializeBinaryToWriter(this,e),e.getResultBuffer()};proto.EvaluateError.serializeBinaryToWriter=function(e,t){var r=void 0;r=e.getMessage(),r.length>0&&t.writeString(1,r),r=l.Message.getField(e,2),r!=null&&t.writeString(2,r),r=e.getPosition(),r!=null&&t.writeMessage(3,r,proto.LineAndColumn.serializeBinaryToWriter)};proto.EvaluateError.prototype.getMessage=function(){return l.Message.getFieldWithDefault(this,1,"")};proto.EvaluateError.prototype.setMessage=function(e){return l.Message.setProto3StringField(this,1,e)};proto.EvaluateError.prototype.getStack=function(){return l.Message.getFieldWithDefault(this,2,"")};proto.EvaluateError.prototype.setStack=function(e){return l.Message.setField(this,2,e)};proto.EvaluateError.prototype.clearStack=function(){return l.Message.setField(this,2,void 0)};proto.EvaluateError.prototype.hasStack=function(){return l.Message.getField(this,2)!=null};proto.EvaluateError.prototype.getPosition=function(){return l.Message.getWrapperField(this,proto.LineAndColumn,3)};proto.EvaluateError.prototype.setPosition=function(e){return l.Message.setWrapperField(this,3,e)};proto.EvaluateError.prototype.clearPosition=function(){return this.setPosition(void 0)};proto.EvaluateError.prototype.hasPosition=function(){return l.Message.getField(this,3)!=null};l.Message.GENERATE_TO_OBJECT&&(proto.LineAndColumn.prototype.toObject=function(e){return proto.LineAndColumn.toObject(e,this)},proto.LineAndColumn.toObject=function(e,t){var r,o={line:l.Message.getFieldWithDefault(t,1,0),column:l.Message.getFieldWithDefault(t,2,0)};return e&&(o.$jspbMessageInstance=t),o});proto.LineAndColumn.deserializeBinary=function(e){var t=new l.BinaryReader(e),r=new proto.LineAndColumn;return proto.LineAndColumn.deserializeBinaryFromReader(r,t)};proto.LineAndColumn.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){var r=t.getFieldNumber();switch(r){case 1:var o=t.readInt32();e.setLine(o);break;case 2:var o=t.readInt32();e.setColumn(o);break;default:t.skipField();break}}return e};proto.LineAndColumn.prototype.serializeBinary=function(){var e=new l.BinaryWriter;return proto.LineAndColumn.serializeBinaryToWriter(this,e),e.getResultBuffer()};proto.LineAndColumn.serializeBinaryToWriter=function(e,t){var r=void 0;r=e.getLine(),r!==0&&t.writeInt32(1,r),r=e.getColumn(),r!==0&&t.writeInt32(2,r)};proto.LineAndColumn.prototype.getLine=function(){return l.Message.getFieldWithDefault(this,1,0)};proto.LineAndColumn.prototype.setLine=function(e){return l.Message.setProto3IntField(this,1,e)};proto.LineAndColumn.prototype.getColumn=function(){return l.Message.getFieldWithDefault(this,2,0)};proto.LineAndColumn.prototype.setColumn=function(e){return l.Message.setProto3IntField(this,2,e)};proto.Output.repeatedFields_=[1];l.Message.GENERATE_TO_OBJECT&&(proto.Output.prototype.toObject=function(e){return proto.Output.toObject(e,this)},proto.Output.toObject=function(e,t){var r,o={contentList:l.Message.toObjectList(t.getContentList(),proto.Content.toObject,e)};return e&&(o.$jspbMessageInstance=t),o});proto.Output.deserializeBinary=function(e){var t=new l.BinaryReader(e),r=new proto.Output;return proto.Output.deserializeBinaryFromReader(r,t)};proto.Output.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){var r=t.getFieldNumber();switch(r){case 1:var o=new proto.Content;t.readMessage(o,proto.Content.deserializeBinaryFromReader),e.addContent(o);break;default:t.skipField();break}}return e};proto.Output.prototype.serializeBinary=function(){var e=new l.BinaryWriter;return proto.Output.serializeBinaryToWriter(this,e),e.getResultBuffer()};proto.Output.serializeBinaryToWriter=function(e,t){var r=void 0;r=e.getContentList(),r.length>0&&t.writeRepeatedMessage(1,r,proto.Content.serializeBinaryToWriter)};proto.Output.prototype.getContentList=function(){return l.Message.getRepeatedWrapperField(this,proto.Content,1)};proto.Output.prototype.setContentList=function(e){return l.Message.setRepeatedWrapperField(this,1,e)};proto.Output.prototype.addContent=function(e,t){return l.Message.addToRepeatedWrapperField(this,1,e,proto.Content,t)};proto.Output.prototype.clearContentList=function(){return this.setContentList([])};l.Message.GENERATE_TO_OBJECT&&(proto.Content.prototype.toObject=function(e){return proto.Content.toObject(e,this)},proto.Content.toObject=function(e,t){var r,o={mime:l.Message.getFieldWithDefault(t,1,""),value:t.getValue_asB64()};return e&&(o.$jspbMessageInstance=t),o});proto.Content.deserializeBinary=function(e){var t=new l.BinaryReader(e),r=new proto.Content;return proto.Content.deserializeBinaryFromReader(r,t)};proto.Content.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){var r=t.getFieldNumber();switch(r){case 1:var o=t.readString();e.setMime(o);break;case 2:var o=t.readBytes();e.setValue(o);break;default:t.skipField();break}}return e};proto.Content.prototype.serializeBinary=function(){var e=new l.BinaryWriter;return proto.Content.serializeBinaryToWriter(this,e),e.getResultBuffer()};proto.Content.serializeBinaryToWriter=function(e,t){var r=void 0;r=e.getMime(),r.length>0&&t.writeString(1,r),r=e.getValue_asU8(),r.length>0&&t.writeBytes(2,r)};proto.Content.prototype.getMime=function(){return l.Message.getFieldWithDefault(this,1,"")};proto.Content.prototype.setMime=function(e){return l.Message.setProto3StringField(this,1,e)};proto.Content.prototype.getValue=function(){return l.Message.getFieldWithDefault(this,2,"")};proto.Content.prototype.getValue_asB64=function(){return l.Message.bytesAsB64(this.getValue())};proto.Content.prototype.getValue_asU8=function(){return l.Message.bytesAsU8(this.getValue())};proto.Content.prototype.setValue=function(e){return l.Message.setProto3BytesField(this,2,e)};l.Message.GENERATE_TO_OBJECT&&(proto.PromptRequest.prototype.toObject=function(e){return proto.PromptRequest.toObject(e,this)},proto.PromptRequest.toObject=function(e,t){var r,o={prompt:l.Message.getFieldWithDefault(t,1,""),placeholder:l.Message.getFieldWithDefault(t,2,""),password:l.Message.getBooleanFieldWithDefault(t,3,!1)};return e&&(o.$jspbMessageInstance=t),o});proto.PromptRequest.deserializeBinary=function(e){var t=new l.BinaryReader(e),r=new proto.PromptRequest;return proto.PromptRequest.deserializeBinaryFromReader(r,t)};proto.PromptRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){var r=t.getFieldNumber();switch(r){case 1:var o=t.readString();e.setPrompt(o);break;case 2:var o=t.readString();e.setPlaceholder(o);break;case 3:var o=t.readBool();e.setPassword(o);break;default:t.skipField();break}}return e};proto.PromptRequest.prototype.serializeBinary=function(){var e=new l.BinaryWriter;return proto.PromptRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()};proto.PromptRequest.serializeBinaryToWriter=function(e,t){var r=void 0;r=l.Message.getField(e,1),r!=null&&t.writeString(1,r),r=l.Message.getField(e,2),r!=null&&t.writeString(2,r),r=e.getPassword(),r&&t.writeBool(3,r)};proto.PromptRequest.prototype.getPrompt=function(){return l.Message.getFieldWithDefault(this,1,"")};proto.PromptRequest.prototype.setPrompt=function(e){return l.Message.setField(this,1,e)};proto.PromptRequest.prototype.clearPrompt=function(){return l.Message.setField(this,1,void 0)};proto.PromptRequest.prototype.hasPrompt=function(){return l.Message.getField(this,1)!=null};proto.PromptRequest.prototype.getPlaceholder=function(){return l.Message.getFieldWithDefault(this,2,"")};proto.PromptRequest.prototype.setPlaceholder=function(e){return l.Message.setField(this,2,e)};proto.PromptRequest.prototype.clearPlaceholder=function(){return l.Message.setField(this,2,void 0)};proto.PromptRequest.prototype.hasPlaceholder=function(){return l.Message.getField(this,2)!=null};proto.PromptRequest.prototype.getPassword=function(){return l.Message.getBooleanFieldWithDefault(this,3,!1)};proto.PromptRequest.prototype.setPassword=function(e){return l.Message.setProto3BooleanField(this,3,e)};l.Message.GENERATE_TO_OBJECT&&(proto.PromptResponse.prototype.toObject=function(e){return proto.PromptResponse.toObject(e,this)},proto.PromptResponse.toObject=function(e,t){var r,o={value:l.Message.getFieldWithDefault(t,1,"")};return e&&(o.$jspbMessageInstance=t),o});proto.PromptResponse.deserializeBinary=function(e){var t=new l.BinaryReader(e),r=new proto.PromptResponse;return proto.PromptResponse.deserializeBinaryFromReader(r,t)};proto.PromptResponse.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){var r=t.getFieldNumber();switch(r){case 1:var o=t.readString();e.setValue(o);break;default:t.skipField();break}}return e};proto.PromptResponse.prototype.serializeBinary=function(){var e=new l.BinaryWriter;return proto.PromptResponse.serializeBinaryToWriter(this,e),e.getResultBuffer()};proto.PromptResponse.serializeBinaryToWriter=function(e,t){var r=void 0;r=l.Message.getField(e,1),r!=null&&t.writeString(1,r)};proto.PromptResponse.prototype.getValue=function(){return l.Message.getFieldWithDefault(this,1,"")};proto.PromptResponse.prototype.setValue=function(e){return l.Message.setField(this,1,e)};proto.PromptResponse.prototype.clearValue=function(){return l.Message.setField(this,1,void 0)};proto.PromptResponse.prototype.hasValue=function(){return l.Message.getField(this,1)!=null};l.Message.GENERATE_TO_OBJECT&&(proto.CacheRequest.prototype.toObject=function(e){return proto.CacheRequest.toObject(e,this)},proto.CacheRequest.toObject=function(e,t){var r,o={key:l.Message.getFieldWithDefault(t,1,""),write:l.Message.getFieldWithDefault(t,2,"")};return e&&(o.$jspbMessageInstance=t),o});proto.CacheRequest.deserializeBinary=function(e){var t=new l.BinaryReader(e),r=new proto.CacheRequest;return proto.CacheRequest.deserializeBinaryFromReader(r,t)};proto.CacheRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){var r=t.getFieldNumber();switch(r){case 1:var o=t.readString();e.setKey(o);break;case 2:var o=t.readString();e.setWrite(o);break;default:t.skipField();break}}return e};proto.CacheRequest.prototype.serializeBinary=function(){var e=new l.BinaryWriter;return proto.CacheRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()};proto.CacheRequest.serializeBinaryToWriter=function(e,t){var r=void 0;r=e.getKey(),r.length>0&&t.writeString(1,r),r=l.Message.getField(e,2),r!=null&&t.writeString(2,r)};proto.CacheRequest.prototype.getKey=function(){return l.Message.getFieldWithDefault(this,1,"")};proto.CacheRequest.prototype.setKey=function(e){return l.Message.setProto3StringField(this,1,e)};proto.CacheRequest.prototype.getWrite=function(){return l.Message.getFieldWithDefault(this,2,"")};proto.CacheRequest.prototype.setWrite=function(e){return l.Message.setField(this,2,e)};proto.CacheRequest.prototype.clearWrite=function(){return l.Message.setField(this,2,void 0)};proto.CacheRequest.prototype.hasWrite=function(){return l.Message.getField(this,2)!=null};l.Message.GENERATE_TO_OBJECT&&(proto.CacheResponse.prototype.toObject=function(e){return proto.CacheResponse.toObject(e,this)},proto.CacheResponse.toObject=function(e,t){var r,o={value:l.Message.getFieldWithDefault(t,1,"")};return e&&(o.$jspbMessageInstance=t),o});proto.CacheResponse.deserializeBinary=function(e){var t=new l.BinaryReader(e),r=new proto.CacheResponse;return proto.CacheResponse.deserializeBinaryFromReader(r,t)};proto.CacheResponse.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){var r=t.getFieldNumber();switch(r){case 1:var o=t.readString();e.setValue(o);break;default:t.skipField();break}}return e};proto.CacheResponse.prototype.serializeBinary=function(){var e=new l.BinaryWriter;return proto.CacheResponse.serializeBinaryToWriter(this,e),e.getResultBuffer()};proto.CacheResponse.serializeBinaryToWriter=function(e,t){var r=void 0;r=l.Message.getField(e,1),r!=null&&t.writeString(1,r)};proto.CacheResponse.prototype.getValue=function(){return l.Message.getFieldWithDefault(this,1,"")};proto.CacheResponse.prototype.setValue=function(e){return l.Message.setField(this,1,e)};proto.CacheResponse.prototype.clearValue=function(){return l.Message.setField(this,1,void 0)};proto.CacheResponse.prototype.hasValue=function(){return l.Message.getField(this,1)!=null};l.Message.GENERATE_TO_OBJECT&&(proto.CancelEvaluate.prototype.toObject=function(e){return proto.CancelEvaluate.toObject(e,this)},proto.CancelEvaluate.toObject=function(e,t){var r,o={};return e&&(o.$jspbMessageInstance=t),o});proto.CancelEvaluate.deserializeBinary=function(e){var t=new l.BinaryReader(e),r=new proto.CancelEvaluate;return proto.CancelEvaluate.deserializeBinaryFromReader(r,t)};proto.CancelEvaluate.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){var r=t.getFieldNumber();switch(r){default:t.skipField();break}}return e};proto.CancelEvaluate.prototype.serializeBinary=function(){var e=new l.BinaryWriter;return proto.CancelEvaluate.serializeBinaryToWriter(this,e),e.getResultBuffer()};proto.CancelEvaluate.serializeBinaryToWriter=function(e,t){var r=void 0};E.object.extend(Cs,proto)});var Rs=y(Eo=>{"use strict";var Dl=mo(),Ke=So(),Vu=yo();function jl(e){if(!(e instanceof Ke.ToClient))throw new Error("Expected argument of type ToClient");return Buffer.from(e.serializeBinary())}function Pl(e){return Ke.ToClient.deserializeBinary(new Uint8Array(e))}function Ul(e){if(!(e instanceof Ke.ToServer))throw new Error("Expected argument of type ToServer");return Buffer.from(e.serializeBinary())}function Bl(e){return Ke.ToServer.deserializeBinary(new Uint8Array(e))}var Fl=Eo.KernelService={session:{path:"/Kernel/Session",requestStream:!0,responseStream:!0,requestType:Ke.ToServer,responseType:Ke.ToClient,requestSerialize:Ul,requestDeserialize:Bl,responseSerialize:jl,responseDeserialize:Pl}};Eo.KernelClient=Dl.makeGenericClientConstructor(Fl)});Vs(exports,{activate:()=>zl,deactivate:()=>Yl,rawToNotebookCellData:()=>Us});var te=ye(require("vscode"));var Ao=ye(Rs()),w=ye(So());var kl=require("vscode");function _t(){return kl.workspace.getConfiguration("goNotebookKernel")}var Ns=ye(require("fs"));var Os=require("vscode"),ws=require("path"),pr=require("child_process"),{F_OK:dr,X_OK:hr}=require("fs").constants;function To(e,t){return M(this,null,function*(){try{return yield Ns.promises.access(e,t),!0}catch(r){return!1}})}function fr(e,t,r){return To(e,t).then(o=>o||Promise.reject(r))}function xl(e,...t){return new Promise(r=>{let o=pr.spawn(e,t);o.on("error",()=>r(!1)),o.on("exit",()=>r(!0))})}function Is(e,t){return new Promise((r,o)=>{pr.exec(t,(n,s,i)=>{n?n.signal?o(new Error(`${e} was terminated with signal ${n.signal}`)):s.length+i.length?o(new Error(`${e} exited with code ${n.code||0}:
${s+i}`)):n.code!=null?o(new Error(`${e} exited with code ${n.code}`)):o(new Error(`${e} exited`)):r(s+i)})})}function bo(e,t,r){return new Promise((o,n)=>{t.on("error",s=>n(new Error(`An error occured while executing ${e}: ${s.message}`))),t.on("exit",(s,i)=>{let a=r&&r();i?n(new Error(`${e} was terminated with signal ${i}`)):s===0?o(a):a&&a.length?n(new Error(`${e} exited with code ${s}:
${a}`)):n(new Error(`${e} exited with code ${s}`))})})}var vo=class{constructor(t,r,o,n){this.name=t;this.module=r;this.version=o;this.output=n}get config(){let t=_t();return Object.defineProperty(this,"config",{value:t}),t}get goCmd(){let t=(()=>M(this,null,function*(){let r=this.config.get("go.path");if(r)return yield fr(r,dr,new Error(`'${r}' does not exist or cannot be accessed`)),yield fr(r,hr,new Error(`'${r}' cannot be executed`)),r;if(!(yield xl("go","--version")))throw new Error("Cannot find 'go'. Please add 'go' to the PATH or configure 'goNotebookKernel.go.path'.");return"go"}))();return Object.defineProperty(this,"goCmd",{value:t}),t}get path(){let t=(()=>M(this,null,function*(){let r=this.config.get("kernel.path");if(r)return yield fr(r,dr,new Error(`'${r}' does not exist or cannot be accessed`)),yield fr(r,hr,new Error(`'${r}' cannot be executed`)),r;let o=(yield Is("`go env GOBIN`",`${yield this.goCmd} env GOBIN`)).trim(),n=ws.join(o,this.name);if(o.length&&(yield To(n,dr|hr)))return n;let s=(yield Is("`go env GOPATH`",`${yield this.goCmd} env GOPATH`)).trim(),i=ws.join(s.split(";")[0],"bin",this.name);if(s.length&&(yield To(i,dr|hr)))return i}))();return Object.defineProperty(this,"path",{value:t}),t}install(t){return M(this,null,function*(){var u,d,p;let r=this.config.get("kernel.tags"),o=`${this.module}@${this.version}`,n=`"go get${r?"-tags "+r:""} ${o}"`;if(t&&(yield Os.window.showWarningMessage(`${t}. Run ${n} to install.`,"Install"))!="Install")return;let s=["get","-u",o];r&&s.splice(1,0,"-tags",r),(u=this.output)==null||u.clear(),(d=this.output)==null||d.append(`Installing kernel: go ${s.join(" ")}

`),(p=this.output)==null||p.show();let i=Object.assign({},process.env,{GO111MODULE:"on"}),a=pr.spawn(yield this.goCmd,s,{env:i});a.stdout.on("data",c=>{var h;return(h=this.output)==null?void 0:h.append(c.toString())}),a.stderr.on("data",c=>{var h;return(h=this.output)==null?void 0:h.append(c.toString())}),yield bo(n,a);let g=yield this.path;if(g)return g;Os.window.showErrorMessage("Failed to install kernel")})}launch(t,r){return M(this,null,function*(){let o=(yield this.path)||(yield this.install(r));if(!!o)return pr.spawn(o,t)})}};var k=require("vscode"),Ms=mo(),Xe=class{constructor(){this.label="Go Kernel";this.id="go-kernel";this.supportedLanguages=["go"];this.sessions=new Map;this.cache=new Map;this.diagnostics=k.languages.createDiagnosticCollection()}static get module(){return _t().get("kernel.module")||"gitlab.com/ethan.reesor/vscode-notebooks/go-kernel/cmd/notebook-kernel"}static get version(){return _t().get("kernel.version")||"latest"}static get output(){let t=k.window.createOutputChannel("Go Notebook Kernel");return Object.defineProperty(this,"output",{value:t}),t}static goTool(){return new vo(this.executable,this.module,this.version,this.output)}static install(t=!0){return M(this,null,function*(){this.goTool().install(t?this.installAsk:void 0)})}static launch(){return this.goTool().launch(["tcp","localhost:"],this.installAsk)}kill(t){var o;let r=Array.from(this.sessions.values());this.sessions.clear();for(let n of r)n.cancel();return((o=this.proc)==null?void 0:o.kill(t))||!1}interrupt(t){let r=this.sessions.get(t.uri);r&&r.write(new w.ToServer().setCancel(new w.CancelEvaluate))}executeCells(t,r,o){return M(this,null,function*(){if(!this.kernel)try{yield this.launch()}catch(s){Xe.output.append(s.message),k.window.showErrorMessage(s.message);return}let n=this.sessions.get(t.uri);n||(n=this.kernel.session(),this.sessions.set(t.uri,n));for(let s of r){let i=o.createNotebookCellExecution(s);yield this.execute(n,i)}})}stopSession(t){let r=this.sessions.get(t);!r||(r.cancel(),this.sessions.delete(t))}launch(){return M(this,null,function*(){if(this.connectTo){this.kernel=new Ao.KernelClient(`localhost:${this.connectTo}`,Ms.credentials.createInsecure());return}if(this.proc=yield Xe.launch(),!this.proc)return;this.proc.stdout.on("data",o=>Xe.output.appendLine(`[Kernel] ${o.toString()}`)),this.proc.stderr.on("data",o=>Xe.output.appendLine(`[Kernel] ${o.toString()}`)),this.proc.on("exit",()=>{this.proc=void 0,this.kernel=void 0;for(let o of this.sessions.values())o.cancel();this.sessions.clear()});let t=yield Promise.race([bo("Kernel",this.proc).then(()=>Promise.reject("Kernel exited with code 0")),new Promise(o=>{let n="";this.proc.stdout.on("data",s=>{n+=s.toString("utf-8"),n.indexOf(`
`)>=0&&o(n)})})]),[,r]=/^Listening on .*:(\d+)\n/.exec(t);this.kernel=new Ao.KernelClient(`localhost:${r}`,Ms.credentials.createInsecure())})}execute(t,r){return M(this,null,function*(){r.start(),r.clearOutput(),this.diagnostics.set(r.cell.document.uri,[]);let o,n=new Promise((u,d)=>o=u),s=u=>M(this,null,function*(){switch(u.getKindCase()){case w.ToClient.KindCase.OUTPUT:{let p=u.getOutput().getContentList().map(c=>{let h=c.getMime(),f=Buffer.from(c.getValue());switch(h){case"stdout":return k.NotebookCellOutputItem.text(f.toString("utf-8"));case"stderr":return k.NotebookCellOutputItem.stderr(f.toString("utf-8"))}return new k.NotebookCellOutputItem(f,"application/json")});r.appendOutput([new k.NotebookCellOutput(p)])}break;case w.ToClient.KindCase.EVALUATE:{let p=u.getEvaluate().toObject(),c={success:!0};for(let h of p.errorsList){if(c.success=!1,h.position){let f=h.position.line-1,m=h.position.column-1,T=r.cell.document.lineAt(f);this.diagnostics.set(r.cell.document.uri,[new k.Diagnostic(new k.Range(f,m,f,T.text.length-m),h.message,k.DiagnosticSeverity.Error)])}r.appendOutput([new k.NotebookCellOutput([k.NotebookCellOutputItem.stderr(h.message)])])}t.off("data",s),o(c)}break;case w.ToClient.KindCase.PROMPT:{let d=u.getPrompt().toObject(),{placeholder:p}=d,c=Lo(d,["placeholder"]),h=yield k.window.showInputBox(Io(No({},c),{placeHolder:p})),f=new w.PromptResponse;h&&f.setValue(h),t.write(new w.ToServer().setPrompt(f))}break;case w.ToClient.KindCase.CACHE:{let p=this.cache.get(r.cell.notebook.uri);p||this.cache.set(r.cell.notebook.uri,p={});let c=u.getCache().toObject(),h=new w.CacheResponse;c.key in p&&h.setValue(p[c.key]),c.write&&(p[c.key]=c.write),t.write(new w.ToServer().setCache(h))}break}});t.on("end",()=>{t.off("data",s),o({success:!1})}),t.on("data",s);let i=new w.ToServer,a=new w.EvaluateRequest;a.setCode(r.cell.document.getText()),i.setEvaluate(a),t.write(i);let{success:g}=yield n;r.end(g)})}},$e=Xe;$e.executable="notebook-kernel",$e.installAsk="The Go notebook kernel is not available";var mr=ye(require("util")),_r=ye(require("vscode")),Co=new Map([["bat","batch"],["js","javascript"],["ts","typescript"],["go","go"]]),Wl=new Map(Array.from(Co.keys()).map(e=>[Co.get(e),e]));function Ls(e){let t=e.match(/(    |\t)?```(\S*)/);return t&&{indentation:t[1],langId:t[2]}}function Hl(e){return!!Ls(e)}function Vl(e){return!!e.match(/^\s*```/)}function Ds(e){let t=e.split(/\r?\n/g),r=[],o=0;for(;o<t.length;){let a=o===0?n(!0):"",g=Ls(t[o]);g&&g.langId==="output"?s(a,g,!0):g?s(a,g):i(a)}function n(a){let g=o,u=t.slice(g).findIndex(h=>h!==""),d,p=!1;u<0?(d=t.length,p=!0):d=g+u,o=d;let c=d-g+(a||p?0:1);return`
`.repeat(c)}function s(a,g,u=!1){let d=Co.get(g.langId)||g.langId,p=++o;for(;;){let m=t[o];if(o>=t.length)break;if(Vl(m)){o++;break}o++}let c=new mr.TextEncoder,h=t.slice(p,o-1).map(m=>m.replace(new RegExp("^"+g.indentation),"")).join(`
`),f=n(!1);u?r[r.length-1].outputs=[{items:[{data:c.encode(h),mime:"text/plain"}]}]:r.push({language:d,content:h,kind:_r.NotebookCellKind.Code,leadingWhitespace:a,trailingWhitespace:f,indentation:g.indentation})}function i(a){let g=o;for(;!(o>=t.length);){let p=t[o];if(p===""||Hl(p))break;o++}let u=t.slice(g,o).join(`
`),d=n(!1);r.push({language:"markdown",content:u,kind:_r.NotebookCellKind.Markup,leadingWhitespace:a,trailingWhitespace:d})}return r}var Gl=new mr.TextDecoder;function js(e){var r,o,n,s;let t="";for(let i=0;i<e.length;i++){let a=e[i];if(i===0&&(t+=(o=(r=a.metadata)==null?void 0:r.leadingWhitespace)!=null?o:""),a.kind===_r.NotebookCellKind.Code){let g="";for(let f of a.outputs)f.items[0].mime==="text/plain"&&f.items[0].data.length>0&&(g+=Gl.decode(f.items[0].data));let u=((n=a.metadata)==null?void 0:n.indentation)||"",d=(s=Wl.get(a.languageId))!=null?s:a.languageId,p=u+"```"+d+`
`,c=a.value.split(/\r?\n/g).map(f=>u+f).join(`
`),h=`
`+u+"```";t+=p+c+h,g.length>0&&(t+="\n```output\n"+g,g.slice(-1)!=`
`&&(t+=`
`),t+="```")}else t+=a.value;t+=ql(e,i)}return t}function ql(e,t){var a,g,u,d;let r=e[t],o=e[t+1];if(!o)return(g=(a=r.metadata)==null?void 0:a.trailingWhitespace)!=null?g:`
`;let n=(u=r.metadata)==null?void 0:u.trailingWhitespace,s=(d=o.metadata)==null?void 0:d.leadingWhitespace;if(typeof n=="string"&&typeof s=="string")return n+s;let i=(n!=null?n:"")+(s!=null?s:"");return!i||i===`
`?`

`:i}var yt=new $e;function zl(e){let t=te.notebooks.createNotebookController("go-kernel","markdown-notebook","Go Kernel");t.supportedLanguages=["go"],t.executeHandler=(r,o,n)=>yt.executeCells(o,r,n),t.interruptHandler=r=>yt.interrupt(r),e.subscriptions.push(te.commands.registerCommand("goNotebookKernel.kernel.restart",()=>{yt.kill("SIGTERM")})),e.subscriptions.push(te.commands.registerCommand("goNotebookKernel.kernel.rebuild",()=>M(this,null,function*(){yield $e.install(!1)}))),e.subscriptions.push(te.commands.registerCommand("goNotebookKernel.kernel.stopSession",()=>M(this,null,function*(){var o,n;let r=(n=(o=te.window.activeTextEditor)==null?void 0:o.document)==null?void 0:n.uri;r&&yt.stopSession(r)}))),e.subscriptions.push(te.workspace.registerNotebookSerializer("markdown-notebook",new Ps,{transientOutputs:!1,transientCellMetadata:{inputCollapsed:!0,outputCollapsed:!0}}))}function Yl(){yt.kill("SIGKILL")}var Ps=class{deserializeNotebook(t,r){let o=Buffer.from(t).toString("utf8");return{cells:Ds(o).map(Us)}}serializeNotebook(t,r){let o=js(t.cells);return Buffer.from(o)}};function Us(e){return{kind:e.kind,languageId:e.language,metadata:{leadingWhitespace:e.leadingWhitespace,trailingWhitespace:e.trailingWhitespace,indentation:e.indentation},outputs:e.outputs||[],value:e.content}}0&&(module.exports={activate,deactivate,rawToNotebookCellData});
